var DC=Object.defineProperty,jC=Object.defineProperties;var CC=Object.getOwnPropertyDescriptors;var Em=Object.getOwnPropertySymbols;var RC=Object.prototype.hasOwnProperty,IC=Object.prototype.propertyIsEnumerable;var Sm=(g,h,u)=>h in g?DC(g,h,{enumerable:!0,configurable:!0,writable:!0,value:u}):g[h]=u,td=(g,h)=>{for(var u in h||(h={}))RC.call(h,u)&&Sm(g,u,h[u]);if(Em)for(var u of Em(h))IC.call(h,u)&&Sm(g,u,h[u]);return g},xm=(g,h)=>jC(g,CC(h));var Gs=(g,h,u)=>new Promise((c,i)=>{var s=b=>{try{y(u.next(b))}catch(x){i(x)}},l=b=>{try{y(u.throw(b))}catch(x){i(x)}},y=b=>b.done?c(b.value):Promise.resolve(b.value).then(s,l);y((u=u.apply(g,h)).next())});import{I as BC,_ as ld,f as LC,O as _C,w as zC}from"./index-26e65586.js";import{p as FC,c as GC,d as Jm,k as Hs,s as HC,u as cr,q as rd,b as UC,a7 as $n,_ as kn,$ as Ci,F as Pm,aa as kC,f as Li,a9 as $s,E as XC,a1 as $C,a2 as Us,ab as nd,ac as YC,a8 as fd,e as WC,w as Am,o as KC,a0 as VC}from"./vue-854c8149.js";import{ag as ZC,T as JC,b0 as QC}from"./antd-cc917134.js";import{B as qC,b as eR}from"./index-74330df2.js";import{J as tR}from"./index-1a599c50.js";import{P as rR}from"./index-2a1f2968.js";import"./index-ffc13343.js";import"./index-c380c9fc.js";import"./useWindowSizeFn-f5540b74.js";import"./useContentViewHeight-ebedddf4.js";const Qm=Symbol("flow-chart");function nR(g){FC(Qm,g)}function oR(){return GC(Qm)}var Jt=(g=>(g.ZOOM_IN="zoomIn",g.ZOOM_OUT="zoomOut",g.RESET_ZOOM="resetZoom",g.UNDO="undo",g.REDO="redo",g.SNAPSHOT="snapshot",g.VIEW_DATA="viewData",g))(Jt||{});const iR=Jm({name:"FlowChartToolbar",components:{Icon:BC,Divider:ZC,Tooltip:JC},props:{prefixCls:String},emits:["view-data"],setup(g,{emit:h}){const u=Hs([{type:Jt.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"缩小"},{type:Jt.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"放大"},{type:Jt.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"重置比例"},{separate:!0},{type:Jt.UNDO,icon:"ion:arrow-undo-outline",tooltip:"后退",disabled:!0},{type:Jt.REDO,icon:"ion:arrow-redo-outline",tooltip:"前进",disabled:!0},{separate:!0},{type:Jt.SNAPSHOT,icon:"ion:download-outline",tooltip:"下载"},{type:Jt.VIEW_DATA,icon:"carbon:document-view",tooltip:"查看数据"}]),{logicFlow:c}=oR();function i({data:{undoAble:l,redoAble:y}}){const b=cr(u),x=b.findIndex(P=>P.type===Jt.UNDO),S=b.findIndex(P=>P.type===Jt.REDO);x!==-1&&(cr(u)[x].disabled=!l),S!==-1&&(cr(u)[S].disabled=!y)}const s=l=>{const y=cr(c);if(y)switch(l.type){case Jt.ZOOM_IN:y.zoom();break;case Jt.ZOOM_OUT:y.zoom(!0);break;case Jt.RESET_ZOOM:y.resetZoom();break;case Jt.UNDO:y.undo();break;case Jt.REDO:y.redo();break;case Jt.SNAPSHOT:y.getSnapshot();break;case Jt.VIEW_DATA:h("view-data");break}};return HC(()=>Gs(this,null,function*(){var l;cr(c)&&(yield rd(),(l=cr(c))==null||l.on("history:change",i))})),UC(()=>{var l;(l=cr(c))==null||l.off("history:change",i)}),{toolbarItemList:u,onControl:s}}});const aR=["onClick"];function uR(g,h,u,c,i,s){const l=$n("Icon"),y=$n("Tooltip"),b=$n("Divider");return kn(),Ci("div",{class:Us([`${g.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(kn(!0),Ci(Pm,null,kC(g.toolbarItemList,x=>(kn(),Ci(Pm,{key:x.type},[Li(y,YC({placement:"bottom"},x.disabled?{visible:!1}:{}),{title:$s(()=>[XC($C(x.tooltip),1)]),default:$s(()=>[x.icon?(kn(),Ci("span",{key:0,class:Us(`${g.prefixCls}-toolbar__icon`),onClick:S=>g.onControl(x)},[Li(l,{icon:x.icon,class:Us(x.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,aR)):nd("",!0)]),_:2},1040),x.separate?(kn(),fd(b,{key:0,type:"vertical"})):nd("",!0)],64))),128))],2)}const sR=ld(iR,[["render",uR]]);var We={},lR={get exports(){return We},set exports(g){We=g}};(function(g,h){(function(c,i){g.exports=i()})(window,function(){return function(u){var c={};function i(s){if(c[s])return c[s].exports;var l=c[s]={i:s,l:!1,exports:{}};return u[s].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=u,i.c=c,i.d=function(s,l,y){i.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:y})},i.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,l){if(l&1&&(s=i(s)),l&8||l&4&&typeof s=="object"&&s&&s.__esModule)return s;var y=Object.create(null);if(i.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:s}),l&2&&typeof s!="string")for(var b in s)i.d(y,b,function(x){return s[x]}.bind(null,b));return y},i.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(l,"a",l),l},i.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},i.p="",i(i.s=215)}([function(u,c,i){(function(s,l){i.d(c,"a",function(){return R}),i.d(c,"b",function(){return ri}),i.d(c,"c",function(){return sn}),i.d(c,"d",function(){return dr}),i.d(c,"e",function(){return $e}),i.d(c,"f",function(){return je}),i.d(c,"g",function(){return Fi}),i.d(c,"h",function(){return qn}),i.d(c,"i",function(){return at}),i.d(c,"j",function(){return wr}),i.d(c,"k",function(){return Wr}),i.d(c,"l",function(){return _r}),i.d(c,"m",function(){return Mr}),i.d(c,"n",function(){return vl}),i.d(c,"o",function(){return ce}),i.d(c,"p",function(){return El}),i.d(c,"q",function(){return ti}),i.d(c,"r",function(){return gl}),i.d(c,"s",function(){return Cr}),i.d(c,"t",function(){return Qi}),i.d(c,"u",function(){return cl}),i.d(c,"v",function(){return ml}),i.d(c,"w",function(){return bl}),i.d(c,"x",function(){return An}),i.d(c,"y",function(){return Fr}),i.d(c,"z",function(){return Xt}),i.d(c,"A",function(){return Er}),i.d(c,"B",function(){return Tn}),i.d(c,"C",function(){return mt}),i.d(c,"D",function(){return Sl}),i.d(c,"E",function(){return ei}),i.d(c,"F",function(){return pl}),i.d(c,"G",function(){return fl}),i.d(c,"H",function(){return Wi}),i.d(c,"I",function(){return Al}),i.d(c,"J",function(){return Nr}),i.d(c,"K",function(){return te}),i.d(c,"L",function(){return Ol}),i.d(c,"M",function(){return wn});var y="An invariant failed, however the error is obfuscated because this is a production build.",b=[];Object.freeze(b);var x={};Object.freeze(x);function S(){return++He.mobxGuid}function P(d){throw M(!1,d),"X"}function M(d,v){if(!d)throw new Error("[mobx] "+(v||y))}function A(d){var v=!1;return function(){if(!v)return v=!0,d.apply(this,arguments)}}var j=function(){};function C(d){var v=[];return d.forEach(function(E){v.indexOf(E)===-1&&v.push(E)}),v}function I(d){return d!==null&&typeof d=="object"}function z(d){if(d===null||typeof d!="object")return!1;var v=Object.getPrototypeOf(d);return v===Object.prototype||v===null}function X(d){if(Q(d)||Xt(d))return d;if(Array.isArray(d))return new Map(d);if(z(d)){var v=new Map;for(var E in d)v.set(E,d[E]);return v}else return P("Cannot convert to map from '"+d+"'")}function Y(d,v,E){Object.defineProperty(d,v,{enumerable:!1,writable:!0,configurable:!0,value:E})}function le(d,v,E){Object.defineProperty(d,v,{enumerable:!1,writable:!1,configurable:!0,value:E})}function se(d,v){var E=Object.getOwnPropertyDescriptor(d,v);return!E||E.configurable!==!1&&E.writable!==!1}function ne(d,v){var E="isMobX"+d;return v.prototype[E]=!0,function(D){return I(D)&&D[E]===!0}}function Q(d){return d instanceof Map}function ee(d){return d instanceof Set}function _(d){var v=new Set;for(var E in d)v.add(E);return Object.getOwnPropertySymbols(d).forEach(function(D){Object.getOwnPropertyDescriptor(d,D).enumerable&&v.add(D)}),Array.from(v)}function U(d){return d&&d.toString?d.toString():new String(d).toString()}function B(d){return d===null?null:typeof d=="object"?""+d:d}var w=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:Object.getOwnPropertyNames,R=Symbol("mobx administration"),W=function(){function d(v){v===void 0&&(v="Atom@"+S()),this.name=v,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=et.NOT_TRACKING}return d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(v){return v()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(v){return v()})},d.prototype.reportObserved=function(){return ki(this)},d.prototype.reportChanged=function(){At(),rl(this),br()},d.prototype.toString=function(){return this.name},d}(),Z=ne("Atom",W);function ce(d,v,E){v===void 0&&(v=j),E===void 0&&(E=j);var D=new W(d);return v!==j&&hl(D,v),E!==j&&ei(D,E),D}function Pe(d,v){return d===v}function me(d,v){return Oo(d,v)}function be(d,v){return Oo(d,v,1)}function Se(d,v){return Object.is(d,v)}var Oe={identity:Pe,structural:me,default:Se,shallow:be};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var we=function(d,v){return we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var F in D)D.hasOwnProperty(F)&&(E[F]=D[F])},we(d,v)};function Fe(d,v){we(d,v);function E(){this.constructor=d}d.prototype=v===null?Object.create(v):(E.prototype=v.prototype,new E)}var Ve=function(){return Ve=Object.assign||function(v){for(var E,D=1,F=arguments.length;D<F;D++){E=arguments[D];for(var V in E)Object.prototype.hasOwnProperty.call(E,V)&&(v[V]=E[V])}return v},Ve.apply(this,arguments)};function Le(d){var v=typeof Symbol=="function"&&d[Symbol.iterator],E=0;return v?v.call(d):{next:function(){return d&&E>=d.length&&(d=void 0),{value:d&&d[E++],done:!d}}}}function Ee(d,v){var E=typeof Symbol=="function"&&d[Symbol.iterator];if(!E)return d;var D=E.call(d),F,V=[],fe;try{for(;(v===void 0||v-- >0)&&!(F=D.next()).done;)V.push(F.value)}catch(Ae){fe={error:Ae}}finally{try{F&&!F.done&&(E=D.return)&&E.call(D)}finally{if(fe)throw fe.error}}return V}function _e(){for(var d=[],v=0;v<arguments.length;v++)d=d.concat(Ee(arguments[v]));return d}var Xe=Symbol("mobx did run lazy initializers"),k=Symbol("mobx pending decorators"),$={},q={};function he(d,v){var E=v?$:q;return E[d]||(E[d]={configurable:!0,enumerable:v,get:function(){return xe(this),this[d]},set:function(D){xe(this),this[d]=D}})}function xe(d){var v,E;if(d[Xe]!==!0){var D=d[k];if(D){Y(d,Xe,!0);var F=_e(Object.getOwnPropertySymbols(D),Object.keys(D));try{for(var V=Le(F),fe=V.next();!fe.done;fe=V.next()){var Ae=fe.value,Ue=D[Ae];Ue.propertyCreator(d,Ue.prop,Ue.descriptor,Ue.decoratorTarget,Ue.decoratorArguments)}}catch(ct){v={error:ct}}finally{try{fe&&!fe.done&&(E=V.return)&&E.call(V)}finally{if(v)throw v.error}}}}}function pe(d,v){return function(){var D,F=function(fe,Ae,Ue,ct){if(ct===!0)return v(fe,Ae,Ue,fe,D),null;if(!Object.prototype.hasOwnProperty.call(fe,k)){var dt=fe[k];Y(fe,k,Ve({},dt))}return fe[k][Ae]={prop:Ae,propertyCreator:v,descriptor:Ue,decoratorTarget:fe,decoratorArguments:D},he(Ae,d)};return Ge(arguments)?(D=b,F.apply(null,arguments)):(D=Array.prototype.slice.call(arguments),F)}}function Ge(d){return(d.length===2||d.length===3)&&(typeof d[1]=="string"||typeof d[1]=="symbol")||d.length===4&&d[3]===!0}function tt(d,v,E){return An(d)?d:Array.isArray(d)?mt.array(d,{name:E}):z(d)?mt.object(d,void 0,{name:E}):Q(d)?mt.map(d,{name:E}):ee(d)?mt.set(d,{name:E}):d}function Ke(d,v,E){return d==null||Er(d)||Fr(d)||Xt(d)||pr(d)?d:Array.isArray(d)?mt.array(d,{name:E,deep:!1}):z(d)?mt.object(d,void 0,{name:E,deep:!1}):Q(d)?mt.map(d,{name:E,deep:!1}):ee(d)?mt.set(d,{name:E,deep:!1}):P(!1)}function it(d){return d}function ve(d,v,E){return Oo(d,v)?v:d}function st(d){M(d);var v=pe(!0,function(D,F,V,fe,Ae){var Ue=V?V.initializer?V.initializer.call(D):V.value:void 0;ni(D).addObservableProp(F,Ue,d)}),E=(typeof s!="undefined"&&s.env,v);return E.enhancer=d,E}var rt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(rt);function ze(d){return d==null?rt:typeof d=="string"?{name:d,deep:!0,proxy:!0}:d}var qe=st(tt),wt=st(Ke),vt=st(it),Ot=st(ve);function ae(d){return d.defaultDecorator?d.defaultDecorator.enhancer:d.deep===!1?it:tt}function jt(d,v,E){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return qe.apply(null,arguments);if(An(d))return d;var D=z(d)?mt.object(d,v,E):Array.isArray(d)?mt.array(d,v):Q(d)?mt.map(d,v):ee(d)?mt.set(d,v):d;if(D!==d)return D;P(!1)}var xt={box:function(d,v){arguments.length>2&&Kt("box");var E=ze(v);return new un(d,ae(E),E.name,!0,E.equals)},array:function(d,v){arguments.length>2&&Kt("array");var E=ze(v);return jl(d,ae(E),E.name)},map:function(d,v){arguments.length>2&&Kt("map");var E=ze(v);return new ri(d,ae(E),E.name)},set:function(d,v){arguments.length>2&&Kt("set");var E=ze(v);return new sa(d,ae(E),E.name)},object:function(d,v,E){typeof arguments[1]=="string"&&Kt("object");var D=ze(E);if(D.proxy===!1)return ti({},d,v,D);var F=Zi(D),V=ti({},void 0,void 0,D),fe=Dn(V);return Ji(fe,d,v,F),fe},ref:vt,shallow:wt,deep:qe,struct:Ot},mt=jt;Object.keys(xt).forEach(function(d){return mt[d]=xt[d]});function Kt(d){P("Expected one or two arguments to observable."+d+". Did you accidentally try to use observable."+d+" as decorator?")}var mr=pe(!1,function(d,v,E,D,F){var V=E.get,fe=E.set,Ae=F[0]||{};ni(d).addComputedProp(d,v,Ve({get:V,set:fe,context:d},Ae))}),Qt=mr({equals:Oe.structural}),Mr=function(v,E,D){if(typeof E=="string"||v!==null&&typeof v=="object"&&arguments.length===1)return mr.apply(null,arguments);var F=typeof E=="object"?E:{};return F.get=v,F.set=typeof E=="function"?E:F.set,F.name=F.name||v.name||"",new En(F)};Mr.struct=Qt;var et;(function(d){d[d.NOT_TRACKING=-1]="NOT_TRACKING",d[d.UP_TO_DATE=0]="UP_TO_DATE",d[d.POSSIBLY_STALE=1]="POSSIBLY_STALE",d[d.STALE=2]="STALE"})(et||(et={}));var Pt;(function(d){d[d.NONE=0]="NONE",d[d.LOG=1]="LOG",d[d.BREAK=2]="BREAK"})(Pt||(Pt={}));var ar=function(){function d(v){this.cause=v}return d}();function Re(d){return d instanceof ar}function Ye(d){switch(d.dependenciesState){case et.UP_TO_DATE:return!1;case et.NOT_TRACKING:case et.STALE:return!0;case et.POSSIBLY_STALE:{for(var v=je(!0),E=re(),D=d.observing,F=D.length,V=0;V<F;V++){var fe=D[V];if(Sn(fe)){if(He.disableErrorBoundaries)fe.get();else try{fe.get()}catch(Ae){return Te(E),$e(v),!0}if(d.dependenciesState===et.STALE)return Te(E),$e(v),!0}}return yt(d),Te(E),$e(v),!1}}}function at(){return He.trackingDerivation!==null}function Je(d){var v=d.observers.size>0;He.computationDepth>0&&v&&P(!1),!He.allowStateChanges&&(v||He.enforceActions==="strict")&&P(!1)}function ft(d,v,E){var D=je(!0);yt(d),d.newObserving=new Array(d.observing.length+100),d.unboundDepsCount=0,d.runId=++He.runId;var F=He.trackingDerivation;He.trackingDerivation=d;var V;if(He.disableErrorBoundaries===!0)V=v.call(E);else try{V=v.call(E)}catch(fe){V=new ar(fe)}return He.trackingDerivation=F,H(d),$e(D),V}function H(d){for(var v=d.observing,E=d.observing=d.newObserving,D=et.UP_TO_DATE,F=0,V=d.unboundDepsCount,fe=0;fe<V;fe++){var Ae=E[fe];Ae.diffValue===0&&(Ae.diffValue=1,F!==fe&&(E[F]=Ae),F++),Ae.dependenciesState>D&&(D=Ae.dependenciesState)}for(E.length=F,d.newObserving=null,V=v.length;V--;){var Ae=v[V];Ae.diffValue===0&&Yr(Ae,d),Ae.diffValue=0}for(;F--;){var Ae=E[F];Ae.diffValue===1&&(Ae.diffValue=0,tl(Ae,d))}D!==et.UP_TO_DATE&&(d.dependenciesState=D,d.onBecomeStale())}function J(d){var v=d.observing;d.observing=[];for(var E=v.length;E--;)Yr(v[E],d);d.dependenciesState=et.NOT_TRACKING}function te(d){var v=re();try{return d()}finally{Te(v)}}function re(){var d=He.trackingDerivation;return He.trackingDerivation=null,d}function Te(d){He.trackingDerivation=d}function je(d){var v=He.allowStateReads;return He.allowStateReads=d,v}function $e(d){He.allowStateReads=d}function yt(d){if(d.dependenciesState!==et.UP_TO_DATE){d.dependenciesState=et.UP_TO_DATE;for(var v=d.observing,E=v.length;E--;)v[E].lowestObserverState=et.UP_TO_DATE}}var qt=0,er=1,Yn=Object.getOwnPropertyDescriptor(function(){},"name");Yn&&Yn.configurable;function $r(d,v,E){var D=function(){return zi(d,v,E||this,arguments)};return D.isMobxAction=!0,D}function zi(d,v,E,D){var F=wr();try{return v.apply(E,D)}catch(V){throw F.error=V,V}finally{Fi(F)}}function wr(d,v,E){var D=Ct(),F=0,V=re();At();var fe=On(!0),Ae=je(!0),Ue={prevDerivation:V,prevAllowStateChanges:fe,prevAllowStateReads:Ae,notifySpy:D,startTime:F,actionId:er++,parentActionId:qt};return qt=Ue.actionId,Ue}function Fi(d){qt!==d.actionId&&P("invalid action stack. did you forget to finish an action?"),qt=d.parentActionId,d.error!==void 0&&(He.suppressReactionErrors=!0),Wn(d.prevAllowStateChanges),$e(d.prevAllowStateReads),br(),Te(d.prevDerivation),d.notifySpy,He.suppressReactionErrors=!1}function dr(d,v){var E=On(d),D;try{D=v()}finally{Wn(E)}return D}function On(d){var v=He.allowStateChanges;return He.allowStateChanges=d,v}function Wn(d){He.allowStateChanges=d}var un=function(d){Fe(v,d);function v(E,D,F,V,fe){F===void 0&&(F="ObservableValue@"+S()),V===void 0&&(V=!0),fe===void 0&&(fe=Oe.default);var Ae=d.call(this,F)||this;return Ae.enhancer=D,Ae.name=F,Ae.equals=fe,Ae.hasUnreportedChange=!1,Ae.value=D(E,void 0,F),V&&Ct(),Ae}return v.prototype.dehanceValue=function(E){return this.dehancer!==void 0?this.dehancer(E):E},v.prototype.set=function(E){var D=this.value;if(E=this.prepareNewValue(E),E!==He.UNCHANGED){var F=Ct();this.setNewValue(E)}},v.prototype.prepareNewValue=function(E){if(Je(this),Dr(this)){var D=jr(this,{object:this,type:"update",newValue:E});if(!D)return He.UNCHANGED;E=D.newValue}return E=this.enhancer(E,this.value,this.name),this.equals(this.value,E)?He.UNCHANGED:E},v.prototype.setNewValue=function(E){var D=this.value;this.value=E,this.reportChanged(),Or(this)&&tr(this,{type:"update",object:this,newValue:E,oldValue:D})},v.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},v.prototype.intercept=function(E){return Jn(this,E)},v.prototype.observe=function(E,D){return D&&E({object:this,type:"update",newValue:this.value,oldValue:void 0}),Qn(this,E)},v.prototype.toJSON=function(){return this.get()},v.prototype.toString=function(){return this.name+"["+this.value+"]"},v.prototype.valueOf=function(){return B(this.get())},v.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},v}(W),Kn=ne("ObservableValue",un),En=function(){function d(v){this.dependenciesState=et.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=et.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+S(),this.value=new ar(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Pt.NONE,M(v.get,"missing option for computed: get"),this.derivation=v.get,this.name=v.name||"ComputedValue@"+S(),v.set&&(this.setter=$r(this.name+"-setter",v.set)),this.equals=v.equals||(v.compareStructural||v.struct?Oe.structural:Oe.default),this.scope=v.context,this.requiresReaction=!!v.requiresReaction,this.keepAlive=!!v.keepAlive}return d.prototype.onBecomeStale=function(){ol(this)},d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(v){return v()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(v){return v()})},d.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),He.inBatch===0&&this.observers.size===0&&!this.keepAlive?Ye(this)&&(this.warnAboutUntrackedRead(),At(),this.value=this.computeValue(!1),br()):(ki(this),Ye(this)&&this.trackAndCompute()&&nl(this));var v=this.value;if(Re(v))throw v.cause;return v},d.prototype.peek=function(){var v=this.computeValue(!1);if(Re(v))throw v.cause;return v},d.prototype.set=function(v){if(this.setter){M(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,v)}finally{this.isRunningSetter=!1}}else M(!1,!1)},d.prototype.trackAndCompute=function(){var v=this.value,E=this.dependenciesState===et.NOT_TRACKING,D=this.computeValue(!0),F=E||Re(v)||Re(D)||!this.equals(v,D);return F&&(this.value=D),F},d.prototype.computeValue=function(v){this.isComputing=!0,He.computationDepth++;var E;if(v)E=ft(this,this.derivation,this.scope);else if(He.disableErrorBoundaries===!0)E=this.derivation.call(this.scope);else try{E=this.derivation.call(this.scope)}catch(D){E=new ar(D)}return He.computationDepth--,this.isComputing=!1,E},d.prototype.suspend=function(){this.keepAlive||(J(this),this.value=void 0)},d.prototype.observe=function(v,E){var D=this,F=!0,V=void 0;return _r(function(){var fe=D.get();if(!F||E){var Ae=re();v({type:"update",object:D,newValue:fe,oldValue:V}),Te(Ae)}F=!1,V=fe})},d.prototype.warnAboutUntrackedRead=function(){},d.prototype.toJSON=function(){return this.get()},d.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},d.prototype.valueOf=function(){return B(this.get())},d.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},d}(),Sn=ne("ComputedValue",En),co=function(){function d(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return d}(),el={};function po(){return typeof window!="undefined"?window:typeof l!="undefined"?l:typeof self!="undefined"?self:el}var ho=!0,Gi=!1,He=function(){var d=po();return d.__mobxInstanceCount>0&&!d.__mobxGlobals&&(ho=!1),d.__mobxGlobals&&d.__mobxGlobals.version!==new co().version&&(ho=!1),ho?d.__mobxGlobals?(d.__mobxInstanceCount+=1,d.__mobxGlobals.UNCHANGED||(d.__mobxGlobals.UNCHANGED={}),d.__mobxGlobals):(d.__mobxInstanceCount=1,d.__mobxGlobals=new co):(setTimeout(function(){Gi||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new co)}();function Hi(){(He.pendingReactions.length||He.inBatch||He.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),Gi=!0,ho&&(--po().__mobxInstanceCount===0&&(po().__mobxGlobals=void 0),He=new co)}function tl(d,v){d.observers.add(v),d.lowestObserverState>v.dependenciesState&&(d.lowestObserverState=v.dependenciesState)}function Yr(d,v){d.observers.delete(v),d.observers.size===0&&Ui(d)}function Ui(d){d.isPendingUnobservation===!1&&(d.isPendingUnobservation=!0,He.pendingUnobservations.push(d))}function At(){He.inBatch++}function br(){if(--He.inBatch===0){Yi();for(var d=He.pendingUnobservations,v=0;v<d.length;v++){var E=d[v];E.isPendingUnobservation=!1,E.observers.size===0&&(E.isBeingObserved&&(E.isBeingObserved=!1,E.onBecomeUnobserved()),E instanceof En&&E.suspend())}He.pendingUnobservations=[]}}function ki(d){var v=He.trackingDerivation;return v!==null?(v.runId!==d.lastAccessedBy&&(d.lastAccessedBy=v.runId,v.newObserving[v.unboundDepsCount++]=d,d.isBeingObserved||(d.isBeingObserved=!0,d.onBecomeObserved())),!0):(d.observers.size===0&&He.inBatch>0&&Ui(d),!1)}function rl(d){d.lowestObserverState!==et.STALE&&(d.lowestObserverState=et.STALE,d.observers.forEach(function(v){v.dependenciesState===et.UP_TO_DATE&&(v.isTracing!==Pt.NONE&&vo(v,d),v.onBecomeStale()),v.dependenciesState=et.STALE}))}function nl(d){d.lowestObserverState!==et.STALE&&(d.lowestObserverState=et.STALE,d.observers.forEach(function(v){v.dependenciesState===et.POSSIBLY_STALE?v.dependenciesState=et.STALE:v.dependenciesState===et.UP_TO_DATE&&(d.lowestObserverState=et.UP_TO_DATE)}))}function ol(d){d.lowestObserverState===et.UP_TO_DATE&&(d.lowestObserverState=et.POSSIBLY_STALE,d.observers.forEach(function(v){v.dependenciesState===et.UP_TO_DATE&&(v.dependenciesState=et.POSSIBLY_STALE,v.isTracing!==Pt.NONE&&vo(v,d),v.onBecomeStale())}))}function vo(d,v){if(d.isTracing===Pt.BREAK){var E=[];Xi(Qi(d),E,1),new Function(`debugger;
/*
Tracing '`+d.name+`'

You are entering this break point because derivation '`+d.name+"' is being traced and '"+v.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(d instanceof En?d.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+E.join(`
`)+`
*/
    `)()}}function Xi(d,v,E){if(v.length>=1e3){v.push("(and many more)");return}v.push(""+new Array(E).join("	")+d.name),d.dependencies&&d.dependencies.forEach(function(D){return Xi(D,v,E+1)})}var sn=function(){function d(v,E,D,F){v===void 0&&(v="Reaction@"+S()),F===void 0&&(F=!1),this.name=v,this.onInvalidate=E,this.errorHandler=D,this.requiresObservable=F,this.observing=[],this.newObserving=[],this.dependenciesState=et.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+S(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Pt.NONE}return d.prototype.onBecomeStale=function(){this.schedule()},d.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,He.pendingReactions.push(this),Yi())},d.prototype.isScheduled=function(){return this._isScheduled},d.prototype.runReaction=function(){if(!this.isDisposed){if(At(),this._isScheduled=!1,Ye(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Ct()}catch(v){this.reportExceptionInDerivation(v)}}br()}},d.prototype.track=function(v){if(!this.isDisposed){At(),this._isRunning=!0;var E=ft(this,v,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&J(this),Re(E)&&this.reportExceptionInDerivation(E.cause),br()}},d.prototype.reportExceptionInDerivation=function(v){var E=this;if(this.errorHandler){this.errorHandler(v,this);return}if(He.disableErrorBoundaries)throw v;var D="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";He.suppressReactionErrors,He.globalReactionErrorHandlers.forEach(function(F){return F(v,E)})},d.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(At(),J(this),br()))},d.prototype.getDisposer=function(){var v=this.dispose.bind(this);return v[R]=this,v},d.prototype.toString=function(){return"Reaction["+this.name+"]"},d.prototype.trace=function(v){v===void 0&&(v=!1),Tl(this,v)},d}(),$i=100,Qo=function(d){return d()};function Yi(){He.inBatch>0||He.isRunningReactions||Qo(il)}function il(){He.isRunningReactions=!0;for(var d=He.pendingReactions,v=0;d.length>0;){++v===$i&&d.splice(0);for(var E=d.splice(0),D=0,F=E.length;D<F;D++)E[D].runReaction()}He.isRunningReactions=!1}var yo=ne("Reaction",sn);function al(d){var v=Qo;Qo=function(E){return d(function(){return v(E)})}}function Ct(){return!1}function vd(d){}function yd(d){}function gd(d){}function Wi(d){return function(){}}function ul(){P(!1)}function Ki(d){return function(v,E,D){if(D){if(D.value)return{value:$r(d,D.value),enumerable:!1,configurable:!0,writable:!0};var F=D.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return $r(d,F.call(this))}}}return sl(d).apply(this,arguments)}}function sl(d){return function(v,E,D){Object.defineProperty(v,E,{configurable:!0,enumerable:!1,get:function(){},set:function(F){Y(this,E,Wr(d,F))}})}}function ll(d,v,E,D){return D===!0?(qo(d,v,E.value),null):E?{configurable:!0,enumerable:!1,get:function(){return qo(this,v,E.value||E.initializer.call(this)),this[v]},set:ul}:{enumerable:!1,configurable:!0,set:function(F){qo(this,v,F)},get:function(){}}}var Wr=function(v,E,D,F){if(arguments.length===1&&typeof v=="function")return $r(v.name||"<unnamed action>",v);if(arguments.length===2&&typeof E=="function")return $r(v,E);if(arguments.length===1&&typeof v=="string")return Ki(v);if(F===!0)Y(v,E,$r(v.name||E,D.value,this));else return Ki(E).apply(null,arguments)};Wr.bound=ll;function fl(d,v){var E=typeof d=="string"?d:d.name||"<unnamed action>",D=typeof d=="function"?d:v;return zi(E,D,this,void 0)}function cl(d){return typeof d=="function"&&d.isMobxAction===!0}function qo(d,v,E){Y(d,v,$r(v,E.bind(d)))}function _r(d,v){v===void 0&&(v=x);var E=v&&v.name||d.name||"Autorun@"+S(),D=!v.scheduler&&!v.delay,F;if(D)F=new sn(E,function(){this.track(Ae)},v.onError,v.requiresObservable);else{var V=xn(v),fe=!1;F=new sn(E,function(){fe||(fe=!0,V(function(){fe=!1,F.isDisposed||F.track(Ae)}))},v.onError,v.requiresObservable)}function Ae(){d(F)}return F.schedule(),F.getDisposer()}var dl=function(d){return d()};function xn(d){return d.scheduler?d.scheduler:d.delay?function(v){return setTimeout(v,d.delay)}:dl}function pl(d,v,E){E===void 0&&(E=x);var D=E.name||"Reaction@"+S(),F=Wr(D,E.onError?Vn(E.onError,v):v),V=!E.scheduler&&!E.delay,fe=xn(E),Ae=!0,Ue=!1,ct,dt=E.compareStructural?Oe.structural:E.equals||Oe.default,Et=new sn(D,function(){Ae||V?St():Ue||(Ue=!0,fe(St))},E.onError,E.requiresObservable);function St(){if(Ue=!1,!Et.isDisposed){var Bt=!1;Et.track(function(){var $t=d(Et);Bt=Ae||!dt(ct,$t),ct=$t}),Ae&&E.fireImmediately&&F(ct,Et),!Ae&&Bt===!0&&F(ct,Et),Ae&&(Ae=!1)}}return Et.schedule(),Et.getDisposer()}function Vn(d,v){return function(){try{return v.apply(this,arguments)}catch(E){d.call(this,E)}}}function hl(d,v,E){return Vi("onBecomeObserved",d,v,E)}function ei(d,v,E){return Vi("onBecomeUnobserved",d,v,E)}function Vi(d,v,E,D){var F=typeof D=="function"?Cr(v,E):Cr(v),V=typeof D=="function"?D:E,fe=d+"Listeners";F[fe]?F[fe].add(V):F[fe]=new Set([V]);var Ae=F[d];return typeof Ae!="function"?P(!1):function(){var Ue=F[fe];Ue&&(Ue.delete(V),Ue.size===0&&delete F[fe])}}function vl(d){var v=d.enforceActions,E=d.computedRequiresReaction,D=d.computedConfigurable,F=d.disableErrorBoundaries,V=d.reactionScheduler,fe=d.reactionRequiresObservable,Ae=d.observableRequiresReaction;if(d.isolateGlobalState===!0&&Hi(),v!==void 0){var Ue=void 0;switch(v){case!0:case"observed":Ue=!0;break;case!1:case"never":Ue=!1;break;case"strict":case"always":Ue="strict";break;default:P("Invalid value for 'enforceActions': '"+v+"', expected 'never', 'always' or 'observed'")}He.enforceActions=Ue,He.allowStateChanges=!(Ue===!0||Ue==="strict")}E!==void 0&&(He.computedRequiresReaction=!!E),fe!==void 0&&(He.reactionRequiresObservable=!!fe),Ae!==void 0&&(He.observableRequiresReaction=!!Ae,He.allowStateReads=!He.observableRequiresReaction),D!==void 0&&(He.computedConfigurable=!!D),F!==void 0&&(He.disableErrorBoundaries=!!F),V&&al(V)}function ti(d,v,E,D){D=ze(D);var F=Zi(D);return xe(d),ni(d,D.name,F.enhancer),v&&Ji(d,v,E,F),d}function Zi(d){return d.defaultDecorator||(d.deep===!1?vt:qe)}function Ji(d,v,E,D){var F,V,fe,Ae;At();try{var Ae=w(v);try{for(var Ue=Le(Ae),ct=Ue.next();!ct.done;ct=Ue.next()){var fe=ct.value,dt=Object.getOwnPropertyDescriptor(v,fe),Et=E&&fe in E?E[fe]:dt.get?mr:D,St=Et(d,fe,dt,!0);St&&Object.defineProperty(d,fe,St)}}catch($t){F={error:$t}}finally{try{ct&&!ct.done&&(V=Ue.return)&&V.call(Ue)}finally{if(F)throw F.error}}}finally{br()}}function Qi(d,v){return qi(Cr(d,v))}function qi(d){var v={name:d.name};return d.observing&&d.observing.length>0&&(v.dependencies=C(d.observing).map(qi)),v}var yl=0;function ea(){this.message="FLOW_CANCELLED"}ea.prototype=Object.create(Error.prototype);function gl(d){arguments.length!==1&&P("Flow expects 1 argument and cannot be used as decorator");var v=d.name||"<unnamed flow>";return function(){var E=this,D=arguments,F=++yl,V=Wr(v+" - runid: "+F+" - init",d).apply(E,D),fe,Ae=void 0,Ue=new Promise(function(ct,dt){var Et=0;fe=dt;function St(Tt){Ae=void 0;var Sr;try{Sr=Wr(v+" - runid: "+F+" - yield "+Et++,V.next).call(V,Tt)}catch(jn){return dt(jn)}$t(Sr)}function Bt(Tt){Ae=void 0;var Sr;try{Sr=Wr(v+" - runid: "+F+" - yield "+Et++,V.throw).call(V,Tt)}catch(jn){return dt(jn)}$t(Sr)}function $t(Tt){if(Tt&&typeof Tt.then=="function"){Tt.then($t,dt);return}return Tt.done?ct(Tt.value):(Ae=Promise.resolve(Tt.value),Ae.then(St,Bt))}St(void 0)});return Ue.cancel=Wr(v+" - runid: "+F+" - cancel",function(){try{Ae&&ta(Ae);var ct=V.return(void 0),dt=Promise.resolve(ct.value);dt.then(j,j),ta(dt),fe(new ea)}catch(Et){fe(Et)}}),Ue}}function ta(d){typeof d.cancel=="function"&&d.cancel()}function ra(d,v){if(d==null)return!1;if(v!==void 0){if(Er(d)===!1||!d[R].values.has(v))return!1;var E=Cr(d,v);return Sn(E)}return Sn(d)}function ml(d){return arguments.length>1?P(!1):ra(d)}function bl(d,v){return typeof v!="string"?P(!1):ra(d,v)}function Pn(d,v){return d==null?!1:v!==void 0?Er(d)?d[R].values.has(v):!1:Er(d)||!!d[R]||Z(d)||yo(d)||Sn(d)}function An(d){return arguments.length!==1&&P(!1),Pn(d)}function Tn(d){return Er(d)?d[R].getKeys():Xt(d)||pr(d)?Array.from(d.keys()):Fr(d)?d.map(function(v,E){return E}):P(!1)}function Ol(d){return Er(d)?Tn(d).map(function(v){return d[v]}):Xt(d)?Tn(d).map(function(v){return d.get(v)}):pr(d)?Array.from(d.values()):Fr(d)?d.slice():P(!1)}function El(d){return Er(d)?Tn(d).map(function(v){return[v,d[v]]}):Xt(d)?Tn(d).map(function(v){return[v,d.get(v)]}):pr(d)?Array.from(d.entries()):Fr(d)?d.map(function(v,E){return[E,v]}):P(!1)}function na(d,v,E){if(arguments.length===2&&!pr(d)){At();var D=v;try{for(var F in D)na(d,F,D[F])}finally{br()}return}if(Er(d)){var V=d[R],fe=V.values.get(v);fe?V.write(v,E):V.addObservableProp(v,E,V.defaultEnhancer)}else if(Xt(d))d.set(v,E);else if(pr(d))d.add(v);else if(Fr(d))typeof v!="number"&&(v=parseInt(v,10)),M(v>=0,"Not a valid index: '"+v+"'"),At(),v>=d.length&&(d.length=v+1),d[v]=E,br();else return P(!1)}function Sl(d,v,E,D){return typeof E=="function"?xl(d,v,E,D):go(d,v,E)}function go(d,v,E){return qn(d).observe(v,E)}function xl(d,v,E,D){return qn(d,v).observe(E,D)}var Pl={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Mn(d,v,E,D){return D.detectCycles&&d.set(v,E),E}function Kr(d,v,E){if(!v.recurseEverything&&!An(d)||typeof d!="object")return d;if(d===null)return null;if(d instanceof Date)return d;if(Kn(d))return Kr(d.get(),v,E);An(d)&&Tn(d);var D=v.detectCycles===!0;if(D&&d!==null&&E.has(d))return E.get(d);if(Fr(d)||Array.isArray(d)){var F=Mn(E,d,[],v),V=d.map(function(Bt){return Kr(Bt,v,E)});F.length=V.length;for(var fe=0,Ae=V.length;fe<Ae;fe++)F[fe]=V[fe];return F}if(pr(d)||Object.getPrototypeOf(d)===Set.prototype)if(v.exportMapsAsObjects===!1){var Ue=Mn(E,d,new Set,v);return d.forEach(function(Bt){Ue.add(Kr(Bt,v,E))}),Ue}else{var ct=Mn(E,d,[],v);return d.forEach(function(Bt){ct.push(Kr(Bt,v,E))}),ct}if(Xt(d)||Object.getPrototypeOf(d)===Map.prototype)if(v.exportMapsAsObjects===!1){var dt=Mn(E,d,new Map,v);return d.forEach(function(Bt,$t){dt.set($t,Kr(Bt,v,E))}),dt}else{var Et=Mn(E,d,{},v);return d.forEach(function(Bt,$t){Et[$t]=Kr(Bt,v,E)}),Et}var St=Mn(E,d,{},v);return _(d).forEach(function(Bt){St[Bt]=Kr(d[Bt],v,E)}),St}function Al(d,v){typeof v=="boolean"&&(v={detectCycles:v}),v||(v=Pl),v.detectCycles=v.detectCycles===void 0?v.recurseEverything===!0:v.detectCycles===!0;var E;return v.detectCycles&&(E=new Map),Kr(d,v,E)}function Tl(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];var E=!1;typeof d[d.length-1]=="boolean"&&(E=d.pop());var D=Ml(d);if(!D)return P(!1);D.isTracing,Pt.NONE,D.isTracing=E?Pt.BREAK:Pt.LOG}function Ml(d){switch(d.length){case 0:return He.trackingDerivation;case 1:return Cr(d[0]);case 2:return Cr(d[0],d[1])}}function Nr(d,v){v===void 0&&(v=void 0),At();try{return d.apply(v)}finally{br()}}function wn(d,v,E){return arguments.length===1||v&&typeof v=="object"?wl(d,v):Zn(d,v,E||{})}function Zn(d,v,E){var D;typeof E.timeout=="number"&&(D=setTimeout(function(){if(!V[R].isDisposed){V();var fe=new Error("WHEN_TIMEOUT");if(E.onError)E.onError(fe);else throw fe}},E.timeout)),E.name=E.name||"When@"+S();var F=$r(E.name+"-effect",v),V=_r(function(fe){d()&&(fe.dispose(),D&&clearTimeout(D),F())},E);return V}function wl(d,v){var E,D=new Promise(function(F,V){var fe=Zn(d,F,Ve(Ve({},v),{onError:V}));E=function(){fe(),V("WHEN_CANCELLED")}});return D.cancel=E,D}function mo(d){return d[R]}function bo(d){return typeof d=="string"||typeof d=="number"||typeof d=="symbol"}var Nn={has:function(d,v){if(v===R||v==="constructor"||v===Xe)return!0;var E=mo(d);return bo(v)?E.has(v):v in d},get:function(d,v){if(v===R||v==="constructor"||v===Xe)return d[v];var E=mo(d),D=E.values.get(v);if(D instanceof W){var F=D.get();return F===void 0&&E.has(v),F}return bo(v)&&E.has(v),d[v]},set:function(d,v,E){return bo(v)?(na(d,v,E),!0):!1},deleteProperty:function(d,v){if(!bo(v))return!1;var E=mo(d);return E.remove(v),!0},ownKeys:function(d){var v=mo(d);return v.keysAtom.reportObserved(),Reflect.ownKeys(d)},preventExtensions:function(d){return P("Dynamic observable objects cannot be frozen"),!1}};function Dn(d){var v=new Proxy(d,Nn);return d[R].proxy=v,v}function Dr(d){return d.interceptors!==void 0&&d.interceptors.length>0}function Jn(d,v){var E=d.interceptors||(d.interceptors=[]);return E.push(v),A(function(){var D=E.indexOf(v);D!==-1&&E.splice(D,1)})}function jr(d,v){var E=re();try{for(var D=_e(d.interceptors||[]),F=0,V=D.length;F<V&&(v=D[F](v),M(!v||v.type,"Intercept handlers should return nothing or a change object"),!!v);F++);return v}finally{Te(E)}}function Or(d){return d.changeListeners!==void 0&&d.changeListeners.length>0}function Qn(d,v){var E=d.changeListeners||(d.changeListeners=[]);return E.push(v),A(function(){var D=E.indexOf(v);D!==-1&&E.splice(D,1)})}function tr(d,v){var E=re(),D=d.changeListeners;if(D){D=D.slice();for(var F=0,V=D.length;F<V;F++)D[F](v);Te(E)}}var Nl=1e4,Dl={get:function(d,v){return v===R?d[R]:v==="length"?d[R].getArrayLength():typeof v=="number"?zr.get.call(d,v):typeof v=="string"&&!isNaN(v)?zr.get.call(d,parseInt(v)):zr.hasOwnProperty(v)?zr[v]:d[v]},set:function(d,v,E){return v==="length"&&d[R].setArrayLength(E),typeof v=="number"&&zr.set.call(d,v,E),typeof v=="symbol"||isNaN(v)?d[v]=E:zr.set.call(d,parseInt(v),E),!0},preventExtensions:function(d){return P("Observable arrays cannot be frozen"),!1}};function jl(d,v,E,D){E===void 0&&(E="ObservableArray@"+S()),D===void 0&&(D=!1);var F=new oa(E,v,D);le(F.values,R,F);var V=new Proxy(F.values,Dl);if(F.proxy=V,d&&d.length){var fe=On(!0);F.spliceWithArray(0,0,d),Wn(fe)}return V}var oa=function(){function d(v,E,D){this.owned=D,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new W(v||"ObservableArray@"+S()),this.enhancer=function(F,V){return E(F,V,v+"[..]")}}return d.prototype.dehanceValue=function(v){return this.dehancer!==void 0?this.dehancer(v):v},d.prototype.dehanceValues=function(v){return this.dehancer!==void 0&&v.length>0?v.map(this.dehancer):v},d.prototype.intercept=function(v){return Jn(this,v)},d.prototype.observe=function(v,E){return E===void 0&&(E=!1),E&&v({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Qn(this,v)},d.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},d.prototype.setArrayLength=function(v){if(typeof v!="number"||v<0)throw new Error("[mobx.array] Out of range: "+v);var E=this.values.length;if(v!==E)if(v>E){for(var D=new Array(v-E),F=0;F<v-E;F++)D[F]=void 0;this.spliceWithArray(E,0,D)}else this.spliceWithArray(v,E-v)},d.prototype.updateArrayLength=function(v,E){if(v!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=E},d.prototype.spliceWithArray=function(v,E,D){var F=this;Je(this.atom);var V=this.values.length;if(v===void 0?v=0:v>V?v=V:v<0&&(v=Math.max(0,V+v)),arguments.length===1?E=V-v:E==null?E=0:E=Math.max(0,Math.min(E,V-v)),D===void 0&&(D=b),Dr(this)){var fe=jr(this,{object:this.proxy,type:"splice",index:v,removedCount:E,added:D});if(!fe)return b;E=fe.removedCount,D=fe.added}D=D.length===0?D:D.map(function(Ue){return F.enhancer(Ue,void 0)});var Ae=this.spliceItemsIntoValues(v,E,D);return(E!==0||D.length!==0)&&this.notifyArraySplice(v,D,Ae),this.dehanceValues(Ae)},d.prototype.spliceItemsIntoValues=function(v,E,D){var F;if(D.length<Nl)return(F=this.values).splice.apply(F,_e([v,E],D));var V=this.values.slice(v,v+E);return this.values=this.values.slice(0,v).concat(D,this.values.slice(v+E)),V},d.prototype.notifyArrayChildUpdate=function(v,E,D){var F=!this.owned&&Ct(),V=Or(this),fe=V||F?{object:this.proxy,type:"update",index:v,newValue:E,oldValue:D}:null;this.atom.reportChanged(),V&&tr(this,fe)},d.prototype.notifyArraySplice=function(v,E,D){var F=!this.owned&&Ct(),V=Or(this),fe=V||F?{object:this.proxy,type:"splice",index:v,removed:D,added:E,removedCount:D.length,addedCount:E.length}:null;this.atom.reportChanged(),V&&tr(this,fe)},d}(),zr={intercept:function(d){return this[R].intercept(d)},observe:function(d,v){v===void 0&&(v=!1);var E=this[R];return E.observe(d,v)},clear:function(){return this.splice(0)},replace:function(d){var v=this[R];return v.spliceWithArray(0,v.values.length,d)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(d,v){for(var E=[],D=2;D<arguments.length;D++)E[D-2]=arguments[D];var F=this[R];switch(arguments.length){case 0:return[];case 1:return F.spliceWithArray(d);case 2:return F.spliceWithArray(d,v)}return F.spliceWithArray(d,v,E)},spliceWithArray:function(d,v,E){var D=this[R];return D.spliceWithArray(d,v,E)},push:function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];var E=this[R];return E.spliceWithArray(E.values.length,0,d),E.values.length},pop:function(){return this.splice(Math.max(this[R].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];var E=this[R];return E.spliceWithArray(0,0,d),E.values.length},reverse:function(){var d=this.slice();return d.reverse.apply(d,arguments)},sort:function(d){var v=this.slice();return v.sort.apply(v,arguments)},remove:function(d){var v=this[R],E=v.dehanceValues(v.values).indexOf(d);return E>-1?(this.splice(E,1),!0):!1},get:function(d){var v=this[R];if(v&&d<v.values.length)return v.atom.reportObserved(),v.dehanceValue(v.values[d])},set:function(d,v){var E=this[R],D=E.values;if(d<D.length){Je(E.atom);var F=D[d];if(Dr(E)){var V=jr(E,{type:"update",object:E.proxy,index:d,newValue:v});if(!V)return;v=V.newValue}v=E.enhancer(v,F);var fe=v!==F;fe&&(D[d]=v,E.notifyArrayChildUpdate(d,v,F))}else if(d===D.length)E.spliceWithArray(d,0,[v]);else throw new Error("[mobx.array] Index out of bounds, "+d+" is larger than "+D.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(d){typeof Array.prototype[d]=="function"&&(zr[d]=function(){var v=this[R];v.atom.reportObserved();var E=v.dehanceValues(v.values);return E[d].apply(E,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(d){typeof Array.prototype[d]=="function"&&(zr[d]=function(v,E){var D=this,F=this[R];F.atom.reportObserved();var V=F.dehanceValues(F.values);return V[d](function(fe,Ae){return v.call(E,fe,Ae,D)},E)})}),["reduce","reduceRight"].forEach(function(d){zr[d]=function(){var v=this,E=this[R];E.atom.reportObserved();var D=arguments[0];return arguments[0]=function(F,V,fe){return V=E.dehanceValue(V),D(F,V,fe,v)},E.values[d].apply(E.values,arguments)}});var Cl=ne("ObservableArrayAdministration",oa);function Fr(d){return I(d)&&Cl(d[R])}var ia,aa={},ri=function(){function d(v,E,D){if(E===void 0&&(E=tt),D===void 0&&(D="ObservableMap@"+S()),this.enhancer=E,this.name=D,this[ia]=aa,this._keysAtom=ce(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(v)}return d.prototype._has=function(v){return this._data.has(v)},d.prototype.has=function(v){var E=this;if(!He.trackingDerivation)return this._has(v);var D=this._hasMap.get(v);if(!D){var F=D=new un(this._has(v),it,this.name+"."+U(v)+"?",!1);this._hasMap.set(v,F),ei(F,function(){return E._hasMap.delete(v)})}return D.get()},d.prototype.set=function(v,E){var D=this._has(v);if(Dr(this)){var F=jr(this,{type:D?"update":"add",object:this,newValue:E,name:v});if(!F)return this;E=F.newValue}return D?this._updateValue(v,E):this._addValue(v,E),this},d.prototype.delete=function(v){var E=this;if(Je(this._keysAtom),Dr(this)){var D=jr(this,{type:"delete",object:this,name:v});if(!D)return!1}if(this._has(v)){var F=Ct(),V=Or(this),D=V||F?{type:"delete",object:this,oldValue:this._data.get(v).value,name:v}:null;return Nr(function(){E._keysAtom.reportChanged(),E._updateHasMapEntry(v,!1);var Ae=E._data.get(v);Ae.setNewValue(void 0),E._data.delete(v)}),V&&tr(this,D),!0}return!1},d.prototype._updateHasMapEntry=function(v,E){var D=this._hasMap.get(v);D&&D.setNewValue(E)},d.prototype._updateValue=function(v,E){var D=this._data.get(v);if(E=D.prepareNewValue(E),E!==He.UNCHANGED){var F=Ct(),V=Or(this),fe=V||F?{type:"update",object:this,oldValue:D.value,name:v,newValue:E}:null;D.setNewValue(E),V&&tr(this,fe)}},d.prototype._addValue=function(v,E){var D=this;Je(this._keysAtom),Nr(function(){var Ae=new un(E,D.enhancer,D.name+"."+U(v),!1);D._data.set(v,Ae),E=Ae.value,D._updateHasMapEntry(v,!0),D._keysAtom.reportChanged()});var F=Ct(),V=Or(this),fe=V||F?{type:"add",object:this,name:v,newValue:E}:null;V&&tr(this,fe)},d.prototype.get=function(v){return this.has(v)?this.dehanceValue(this._data.get(v).get()):this.dehanceValue(void 0)},d.prototype.dehanceValue=function(v){return this.dehancer!==void 0?this.dehancer(v):v},d.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},d.prototype.values=function(){var v=this,E=this.keys();return Eo({next:function(){var D=E.next(),F=D.done,V=D.value;return{done:F,value:F?void 0:v.get(V)}}})},d.prototype.entries=function(){var v=this,E=this.keys();return Eo({next:function(){var D=E.next(),F=D.done,V=D.value;return{done:F,value:F?void 0:[V,v.get(V)]}}})},d.prototype[ia=R,Symbol.iterator]=function(){return this.entries()},d.prototype.forEach=function(v,E){var D,F;try{for(var V=Le(this),fe=V.next();!fe.done;fe=V.next()){var Ae=Ee(fe.value,2),Ue=Ae[0],ct=Ae[1];v.call(E,ct,Ue,this)}}catch(dt){D={error:dt}}finally{try{fe&&!fe.done&&(F=V.return)&&F.call(V)}finally{if(D)throw D.error}}},d.prototype.merge=function(v){var E=this;return Xt(v)&&(v=v.toJS()),Nr(function(){var D=On(!0);try{z(v)?_(v).forEach(function(F){return E.set(F,v[F])}):Array.isArray(v)?v.forEach(function(F){var V=Ee(F,2),fe=V[0],Ae=V[1];return E.set(fe,Ae)}):Q(v)?(v.constructor!==Map&&P("Cannot initialize from classes that inherit from Map: "+v.constructor.name),v.forEach(function(F,V){return E.set(V,F)})):v!=null&&P("Cannot initialize map from "+v)}finally{Wn(D)}}),this},d.prototype.clear=function(){var v=this;Nr(function(){te(function(){var E,D;try{for(var F=Le(v.keys()),V=F.next();!V.done;V=F.next()){var fe=V.value;v.delete(fe)}}catch(Ae){E={error:Ae}}finally{try{V&&!V.done&&(D=F.return)&&D.call(F)}finally{if(E)throw E.error}}})})},d.prototype.replace=function(v){var E=this;return Nr(function(){var D,F,V,fe,Ae=X(v),Ue=new Map,ct=!1;try{for(var dt=Le(E._data.keys()),Et=dt.next();!Et.done;Et=dt.next()){var St=Et.value;if(!Ae.has(St)){var Bt=E.delete(St);if(Bt)ct=!0;else{var $t=E._data.get(St);Ue.set(St,$t)}}}}catch(ln){D={error:ln}}finally{try{Et&&!Et.done&&(F=dt.return)&&F.call(dt)}finally{if(D)throw D.error}}try{for(var Tt=Le(Ae.entries()),Sr=Tt.next();!Sr.done;Sr=Tt.next()){var jn=Ee(Sr.value,2),St=jn[0],$t=jn[1],ya=E._data.has(St);if(E.set(St,$t),E._data.has(St)){var ga=E._data.get(St);Ue.set(St,ga),ya||(ct=!0)}}}catch(ln){V={error:ln}}finally{try{Sr&&!Sr.done&&(fe=Tt.return)&&fe.call(Tt)}finally{if(V)throw V.error}}if(!ct)if(E._data.size!==Ue.size)E._keysAtom.reportChanged();else for(var ma=E._data.keys(),ba=Ue.keys(),ii=ma.next(),Cn=ba.next();!ii.done;){if(ii.value!==Cn.value){E._keysAtom.reportChanged();break}ii=ma.next(),Cn=ba.next()}E._data=Ue}),this},Object.defineProperty(d.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.toPOJO=function(){var v,E,D={};try{for(var F=Le(this),V=F.next();!V.done;V=F.next()){var fe=Ee(V.value,2),Ae=fe[0],Ue=fe[1];D[typeof Ae=="symbol"?Ae:U(Ae)]=Ue}}catch(ct){v={error:ct}}finally{try{V&&!V.done&&(E=F.return)&&E.call(F)}finally{if(v)throw v.error}}return D},d.prototype.toJS=function(){return new Map(this)},d.prototype.toJSON=function(){return this.toPOJO()},d.prototype.toString=function(){var v=this;return this.name+"[{ "+Array.from(this.keys()).map(function(E){return U(E)+": "+(""+v.get(E))}).join(", ")+" }]"},d.prototype.observe=function(v,E){return Qn(this,v)},d.prototype.intercept=function(v){return Jn(this,v)},d}(),Xt=ne("ObservableMap",ri),ua,Rl={},sa=function(){function d(v,E,D){if(E===void 0&&(E=tt),D===void 0&&(D="ObservableSet@"+S()),this.name=D,this[ua]=Rl,this._data=new Set,this._atom=ce(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(F,V){return E(F,V,D)},v&&this.replace(v)}return d.prototype.dehanceValue=function(v){return this.dehancer!==void 0?this.dehancer(v):v},d.prototype.clear=function(){var v=this;Nr(function(){te(function(){var E,D;try{for(var F=Le(v._data.values()),V=F.next();!V.done;V=F.next()){var fe=V.value;v.delete(fe)}}catch(Ae){E={error:Ae}}finally{try{V&&!V.done&&(D=F.return)&&D.call(F)}finally{if(E)throw E.error}}})})},d.prototype.forEach=function(v,E){var D,F;try{for(var V=Le(this),fe=V.next();!fe.done;fe=V.next()){var Ae=fe.value;v.call(E,Ae,Ae,this)}}catch(Ue){D={error:Ue}}finally{try{fe&&!fe.done&&(F=V.return)&&F.call(V)}finally{if(D)throw D.error}}},Object.defineProperty(d.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.add=function(v){var E=this;if(Je(this._atom),Dr(this)){var D=jr(this,{type:"add",object:this,newValue:v});if(!D)return this}if(!this.has(v)){Nr(function(){E._data.add(E.enhancer(v,void 0)),E._atom.reportChanged()});var F=Ct(),V=Or(this),D=V||F?{type:"add",object:this,newValue:v}:null;V&&tr(this,D)}return this},d.prototype.delete=function(v){var E=this;if(Dr(this)){var D=jr(this,{type:"delete",object:this,oldValue:v});if(!D)return!1}if(this.has(v)){var F=Ct(),V=Or(this),D=V||F?{type:"delete",object:this,oldValue:v}:null;return Nr(function(){E._atom.reportChanged(),E._data.delete(v)}),V&&tr(this,D),!0}return!1},d.prototype.has=function(v){return this._atom.reportObserved(),this._data.has(this.dehanceValue(v))},d.prototype.entries=function(){var v=0,E=Array.from(this.keys()),D=Array.from(this.values());return Eo({next:function(){var F=v;return v+=1,F<D.length?{value:[E[F],D[F]],done:!1}:{done:!0}}})},d.prototype.keys=function(){return this.values()},d.prototype.values=function(){this._atom.reportObserved();var v=this,E=0,D=Array.from(this._data.values());return Eo({next:function(){return E<D.length?{value:v.dehanceValue(D[E++]),done:!1}:{done:!0}}})},d.prototype.replace=function(v){var E=this;return pr(v)&&(v=v.toJS()),Nr(function(){var D=On(!0);try{Array.isArray(v)?(E.clear(),v.forEach(function(F){return E.add(F)})):ee(v)?(E.clear(),v.forEach(function(F){return E.add(F)})):v!=null&&P("Cannot initialize set from "+v)}finally{Wn(D)}}),this},d.prototype.observe=function(v,E){return Qn(this,v)},d.prototype.intercept=function(v){return Jn(this,v)},d.prototype.toJS=function(){return new Set(this)},d.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},d.prototype[ua=R,Symbol.iterator]=function(){return this.values()},d}(),pr=ne("ObservableSet",sa),la=function(){function d(v,E,D,F){E===void 0&&(E=new Map),this.target=v,this.values=E,this.name=D,this.defaultEnhancer=F,this.keysAtom=new W(D+".keys")}return d.prototype.read=function(v){return this.values.get(v).get()},d.prototype.write=function(v,E){var D=this.target,F=this.values.get(v);if(F instanceof En){F.set(E);return}if(Dr(this)){var V=jr(this,{type:"update",object:this.proxy||D,name:v,newValue:E});if(!V)return;E=V.newValue}if(E=F.prepareNewValue(E),E!==He.UNCHANGED){var fe=Or(this),Ae=Ct(),V=fe||Ae?{type:"update",object:this.proxy||D,oldValue:F.value,name:v,newValue:E}:null;F.setNewValue(E),fe&&tr(this,V)}},d.prototype.has=function(v){var E=this.pendingKeys||(this.pendingKeys=new Map),D=E.get(v);if(D)return D.get();var F=!!this.values.get(v);return D=new un(F,it,this.name+"."+U(v)+"?",!1),E.set(v,D),D.get()},d.prototype.addObservableProp=function(v,E,D){D===void 0&&(D=this.defaultEnhancer);var F=this.target;if(Dr(this)){var V=jr(this,{object:this.proxy||F,name:v,type:"add",newValue:E});if(!V)return;E=V.newValue}var fe=new un(E,D,this.name+"."+U(v),!1);this.values.set(v,fe),E=fe.value,Object.defineProperty(F,v,Il(v)),this.notifyPropertyAddition(v,E)},d.prototype.addComputedProp=function(v,E,D){var F=this.target;D.name=D.name||this.name+"."+U(E),this.values.set(E,new En(D)),(v===F||se(v,E))&&Object.defineProperty(v,E,Bl(E))},d.prototype.remove=function(v){if(this.values.has(v)){var E=this.target;if(Dr(this)){var D=jr(this,{object:this.proxy||E,name:v,type:"remove"});if(!D)return}try{At();var F=Or(this),V=Ct(),fe=this.values.get(v),Ae=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(v),this.pendingKeys){var Ue=this.pendingKeys.get(v);Ue&&Ue.set(!1)}delete this.target[v];var D=F||V?{type:"remove",object:this.proxy||E,oldValue:Ae,name:v}:null;F&&tr(this,D)}finally{br()}}},d.prototype.illegalAccess=function(v,E){},d.prototype.observe=function(v,E){return Qn(this,v)},d.prototype.intercept=function(v){return Jn(this,v)},d.prototype.notifyPropertyAddition=function(v,E){var D=Or(this),F=Ct(),V=D||F?{type:"add",object:this.proxy||this.target,name:v,newValue:E}:null;if(D&&tr(this,V),this.pendingKeys){var fe=this.pendingKeys.get(v);fe&&fe.set(!0)}this.keysAtom.reportChanged()},d.prototype.getKeys=function(){var v,E;this.keysAtom.reportObserved();var D=[];try{for(var F=Le(this.values),V=F.next();!V.done;V=F.next()){var fe=Ee(V.value,2),Ae=fe[0],Ue=fe[1];Ue instanceof un&&D.push(Ae)}}catch(ct){v={error:ct}}finally{try{V&&!V.done&&(E=F.return)&&E.call(F)}finally{if(v)throw v.error}}return D},d}();function ni(d,v,E){if(v===void 0&&(v=""),E===void 0&&(E=tt),Object.prototype.hasOwnProperty.call(d,R))return d[R];z(d)||(v=(d.constructor.name||"ObservableObject")+"@"+S()),v||(v="ObservableObject@"+S());var D=new la(d,new Map,U(v),E);return Y(d,R,D),D}var fa=Object.create(null),ca=Object.create(null);function Il(d){return fa[d]||(fa[d]={configurable:!0,enumerable:!0,get:function(){return this[R].read(d)},set:function(v){this[R].write(d,v)}})}function da(d){var v=d[R];return v||(xe(d),d[R])}function Bl(d){return ca[d]||(ca[d]={configurable:He.computedConfigurable,enumerable:!1,get:function(){return da(this).read(d)},set:function(v){da(this).write(d,v)}})}var Ll=ne("ObservableObjectAdministration",la);function Er(d){return I(d)?(xe(d),Ll(d[R])):!1}function Cr(d,v){if(typeof d=="object"&&d!==null){if(Fr(d))return v!==void 0&&P(!1),d[R].atom;if(pr(d))return d[R];if(Xt(d)){var E=d;if(v===void 0)return E._keysAtom;var D=E._data.get(v)||E._hasMap.get(v);return D||P(!1),D}if(xe(d),v&&!d[R]&&d[v],Er(d)){if(!v)return P(!1);var D=d[R].values.get(v);return D||P(!1),D}if(Z(d)||Sn(d)||yo(d))return d}else if(typeof d=="function"&&yo(d[R]))return d[R];return P(!1)}function qn(d,v){if(d||P("Expecting some object"),v!==void 0)return qn(Cr(d,v));if(Z(d)||Sn(d)||yo(d)||Xt(d)||pr(d))return d;if(xe(d),d[R])return d[R];P(!1)}function _l(d,v){var E;return v!==void 0?E=Cr(d,v):Er(d)||Xt(d)||pr(d)?E=qn(d):E=Cr(d),E.name}var pa=Object.prototype.toString;function Oo(d,v,E){return E===void 0&&(E=-1),eo(d,v,E)}function eo(d,v,E,D,F){if(d===v)return d!==0||1/d===1/v;if(d==null||v==null)return!1;if(d!==d)return v!==v;var V=typeof d;if(V!=="function"&&V!=="object"&&typeof v!="object")return!1;var fe=pa.call(d);if(fe!==pa.call(v))return!1;switch(fe){case"[object RegExp]":case"[object String]":return""+d==""+v;case"[object Number]":return+d!=+d?+v!=+v:+d==0?1/+d===1/v:+d==+v;case"[object Date]":case"[object Boolean]":return+d==+v;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(d)===Symbol.valueOf.call(v);case"[object Map]":case"[object Set]":E>=0&&E++;break}d=ha(d),v=ha(v);var Ae=fe==="[object Array]";if(!Ae){if(typeof d!="object"||typeof v!="object")return!1;var Ue=d.constructor,ct=v.constructor;if(Ue!==ct&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof ct=="function"&&ct instanceof ct)&&"constructor"in d&&"constructor"in v)return!1}if(E===0)return!1;E<0&&(E=-1),D=D||[],F=F||[];for(var dt=D.length;dt--;)if(D[dt]===d)return F[dt]===v;if(D.push(d),F.push(v),Ae){if(dt=d.length,dt!==v.length)return!1;for(;dt--;)if(!eo(d[dt],v[dt],E-1,D,F))return!1}else{var Et=Object.keys(d),St=void 0;if(dt=Et.length,Object.keys(v).length!==dt)return!1;for(;dt--;)if(St=Et[dt],!(zl(v,St)&&eo(d[St],v[St],E-1,D,F)))return!1}return D.pop(),F.pop(),!0}function ha(d){return Fr(d)?d.slice():Q(d)||Xt(d)||ee(d)||pr(d)?Array.from(d.entries()):d}function zl(d,v){return Object.prototype.hasOwnProperty.call(d,v)}function Eo(d){return d[Symbol.iterator]=oi,d}function oi(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch(d){var va=po();typeof s=="undefined"&&(va.process={}),va.process.env={}}(function(){function d(){}if(d.name!=="testCodeMinification"&&!1)var v})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Wi,extras:{getDebugName:_l},$mobx:R})}).call(this,i(155),i(82))},function(u,c,i){i.d(c,"a",function(){return se}),i.d(c,"b",function(){return le}),i.d(c,"c",function(){return _e}),i.d(c,"d",function(){return Xe}),i.d(c,"e",function(){return z}),i.d(c,"f",function(){return Y}),i.d(c,"g",function(){return z}),i.d(c,"h",function(){return Ee}),i.d(c,"i",function(){return l}),i.d(c,"j",function(){return Le}),i.d(c,"k",function(){return w});var s,l,y,b,x,S,P,M={},A=[],j=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(k,$){for(var q in $)k[q]=$[q];return k}function I(k){var $=k.parentNode;$&&$.removeChild(k)}function z(k,$,q){var he,xe,pe,Ge={};for(pe in $)pe=="key"?he=$[pe]:pe=="ref"?xe=$[pe]:Ge[pe]=$[pe];if(arguments.length>2&&(Ge.children=arguments.length>3?s.call(arguments,2):q),typeof k=="function"&&k.defaultProps!=null)for(pe in k.defaultProps)Ge[pe]===void 0&&(Ge[pe]=k.defaultProps[pe]);return X(k,Ge,he,xe,null)}function X(k,$,q,he,xe){var pe={type:k,props:$,key:q,ref:he,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:xe==null?++y:xe};return xe==null&&l.vnode!=null&&l.vnode(pe),pe}function Y(){return{current:null}}function le(k){return k.children}function se(k,$){this.props=k,this.context=$}function ne(k,$){if($==null)return k.__?ne(k.__,k.__.__k.indexOf(k)+1):null;for(var q;$<k.__k.length;$++)if((q=k.__k[$])!=null&&q.__e!=null)return q.__e;return typeof k.type=="function"?ne(k):null}function Q(k){var $,q;if((k=k.__)!=null&&k.__c!=null){for(k.__e=k.__c.base=null,$=0;$<k.__k.length;$++)if((q=k.__k[$])!=null&&q.__e!=null){k.__e=k.__c.base=q.__e;break}return Q(k)}}function ee(k){(!k.__d&&(k.__d=!0)&&b.push(k)&&!_.__r++||S!==l.debounceRendering)&&((S=l.debounceRendering)||x)(_)}function _(){for(var k;_.__r=b.length;)k=b.sort(function($,q){return $.__v.__b-q.__v.__b}),b=[],k.some(function($){var q,he,xe,pe,Ge,tt;$.__d&&(Ge=(pe=(q=$).__v).__e,(tt=q.__P)&&(he=[],(xe=C({},pe)).__v=pe.__v+1,be(tt,pe,xe,q.__n,tt.ownerSVGElement!==void 0,pe.__h!=null?[Ge]:null,he,Ge==null?ne(pe):Ge,pe.__h),Se(he,pe),pe.__e!=Ge&&Q(pe)))})}function U(k,$,q,he,xe,pe,Ge,tt,Ke,it){var ve,st,rt,ze,qe,wt,vt,Ot=he&&he.__k||A,ae=Ot.length;for(q.__k=[],ve=0;ve<$.length;ve++)if((ze=q.__k[ve]=(ze=$[ve])==null||typeof ze=="boolean"?null:typeof ze=="string"||typeof ze=="number"||typeof ze=="bigint"?X(null,ze,null,null,ze):Array.isArray(ze)?X(le,{children:ze},null,null,null):ze.__b>0?X(ze.type,ze.props,ze.key,null,ze.__v):ze)!=null){if(ze.__=q,ze.__b=q.__b+1,(rt=Ot[ve])===null||rt&&ze.key==rt.key&&ze.type===rt.type)Ot[ve]=void 0;else for(st=0;st<ae;st++){if((rt=Ot[st])&&ze.key==rt.key&&ze.type===rt.type){Ot[st]=void 0;break}rt=null}be(k,ze,rt=rt||M,xe,pe,Ge,tt,Ke,it),qe=ze.__e,(st=ze.ref)&&rt.ref!=st&&(vt||(vt=[]),rt.ref&&vt.push(rt.ref,null,ze),vt.push(st,ze.__c||qe,ze)),qe!=null?(wt==null&&(wt=qe),typeof ze.type=="function"&&ze.__k===rt.__k?ze.__d=Ke=B(ze,Ke,k):Ke=R(k,ze,rt,Ot,qe,Ke),typeof q.type=="function"&&(q.__d=Ke)):Ke&&rt.__e==Ke&&Ke.parentNode!=k&&(Ke=ne(rt))}for(q.__e=wt,ve=ae;ve--;)Ot[ve]!=null&&(typeof q.type=="function"&&Ot[ve].__e!=null&&Ot[ve].__e==q.__d&&(q.__d=ne(he,ve+1)),Fe(Ot[ve],Ot[ve]));if(vt)for(ve=0;ve<vt.length;ve++)we(vt[ve],vt[++ve],vt[++ve])}function B(k,$,q){for(var he,xe=k.__k,pe=0;xe&&pe<xe.length;pe++)(he=xe[pe])&&(he.__=k,$=typeof he.type=="function"?B(he,$,q):R(q,he,he,xe,he.__e,$));return $}function w(k,$){return $=$||[],k==null||typeof k=="boolean"||(Array.isArray(k)?k.some(function(q){w(q,$)}):$.push(k)),$}function R(k,$,q,he,xe,pe){var Ge,tt,Ke;if($.__d!==void 0)Ge=$.__d,$.__d=void 0;else if(q==null||xe!=pe||xe.parentNode==null)e:if(pe==null||pe.parentNode!==k)k.appendChild(xe),Ge=null;else{for(tt=pe,Ke=0;(tt=tt.nextSibling)&&Ke<he.length;Ke+=2)if(tt==xe)break e;k.insertBefore(xe,pe),Ge=pe}return Ge!==void 0?Ge:xe.nextSibling}function W(k,$,q,he,xe){var pe;for(pe in q)pe==="children"||pe==="key"||pe in $||ce(k,pe,null,q[pe],he);for(pe in $)xe&&typeof $[pe]!="function"||pe==="children"||pe==="key"||pe==="value"||pe==="checked"||q[pe]===$[pe]||ce(k,pe,$[pe],q[pe],he)}function Z(k,$,q){$[0]==="-"?k.setProperty($,q):k[$]=q==null?"":typeof q!="number"||j.test($)?q:q+"px"}function ce(k,$,q,he,xe){var pe;e:if($==="style")if(typeof q=="string")k.style.cssText=q;else{if(typeof he=="string"&&(k.style.cssText=he=""),he)for($ in he)q&&$ in q||Z(k.style,$,"");if(q)for($ in q)he&&q[$]===he[$]||Z(k.style,$,q[$])}else if($[0]==="o"&&$[1]==="n")pe=$!==($=$.replace(/Capture$/,"")),$=$.toLowerCase()in k?$.toLowerCase().slice(2):$.slice(2),k.l||(k.l={}),k.l[$+pe]=q,q?he||k.addEventListener($,pe?me:Pe,pe):k.removeEventListener($,pe?me:Pe,pe);else if($!=="dangerouslySetInnerHTML"){if(xe)$=$.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if($!=="href"&&$!=="list"&&$!=="form"&&$!=="tabIndex"&&$!=="download"&&$ in k)try{k[$]=q==null?"":q;break e}catch(Ge){}typeof q=="function"||(q!=null&&(q!==!1||$[0]==="a"&&$[1]==="r")?k.setAttribute($,q):k.removeAttribute($))}}function Pe(k){this.l[k.type+!1](l.event?l.event(k):k)}function me(k){this.l[k.type+!0](l.event?l.event(k):k)}function be(k,$,q,he,xe,pe,Ge,tt,Ke){var it,ve,st,rt,ze,qe,wt,vt,Ot,ae,jt,xt=$.type;if($.constructor!==void 0)return null;q.__h!=null&&(Ke=q.__h,tt=$.__e=q.__e,$.__h=null,pe=[tt]),(it=l.__b)&&it($);try{e:if(typeof xt=="function"){if(vt=$.props,Ot=(it=xt.contextType)&&he[it.__c],ae=it?Ot?Ot.props.value:it.__:he,q.__c?wt=(ve=$.__c=q.__c).__=ve.__E:("prototype"in xt&&xt.prototype.render?$.__c=ve=new xt(vt,ae):($.__c=ve=new se(vt,ae),ve.constructor=xt,ve.render=Ve),Ot&&Ot.sub(ve),ve.props=vt,ve.state||(ve.state={}),ve.context=ae,ve.__n=he,st=ve.__d=!0,ve.__h=[]),ve.__s==null&&(ve.__s=ve.state),xt.getDerivedStateFromProps!=null&&(ve.__s==ve.state&&(ve.__s=C({},ve.__s)),C(ve.__s,xt.getDerivedStateFromProps(vt,ve.__s))),rt=ve.props,ze=ve.state,st)xt.getDerivedStateFromProps==null&&ve.componentWillMount!=null&&ve.componentWillMount(),ve.componentDidMount!=null&&ve.__h.push(ve.componentDidMount);else{if(xt.getDerivedStateFromProps==null&&vt!==rt&&ve.componentWillReceiveProps!=null&&ve.componentWillReceiveProps(vt,ae),!ve.__e&&ve.shouldComponentUpdate!=null&&ve.shouldComponentUpdate(vt,ve.__s,ae)===!1||$.__v===q.__v){ve.props=vt,ve.state=ve.__s,$.__v!==q.__v&&(ve.__d=!1),ve.__v=$,$.__e=q.__e,$.__k=q.__k,$.__k.forEach(function(mt){mt&&(mt.__=$)}),ve.__h.length&&Ge.push(ve);break e}ve.componentWillUpdate!=null&&ve.componentWillUpdate(vt,ve.__s,ae),ve.componentDidUpdate!=null&&ve.__h.push(function(){ve.componentDidUpdate(rt,ze,qe)})}ve.context=ae,ve.props=vt,ve.state=ve.__s,(it=l.__r)&&it($),ve.__d=!1,ve.__v=$,ve.__P=k,it=ve.render(ve.props,ve.state,ve.context),ve.state=ve.__s,ve.getChildContext!=null&&(he=C(C({},he),ve.getChildContext())),st||ve.getSnapshotBeforeUpdate==null||(qe=ve.getSnapshotBeforeUpdate(rt,ze)),jt=it!=null&&it.type===le&&it.key==null?it.props.children:it,U(k,Array.isArray(jt)?jt:[jt],$,q,he,xe,pe,Ge,tt,Ke),ve.base=$.__e,$.__h=null,ve.__h.length&&Ge.push(ve),wt&&(ve.__E=ve.__=null),ve.__e=!1}else pe==null&&$.__v===q.__v?($.__k=q.__k,$.__e=q.__e):$.__e=Oe(q.__e,$,q,he,xe,pe,Ge,Ke);(it=l.diffed)&&it($)}catch(mt){$.__v=null,(Ke||pe!=null)&&($.__e=tt,$.__h=!!Ke,pe[pe.indexOf(tt)]=null),l.__e(mt,$,q)}}function Se(k,$){l.__c&&l.__c($,k),k.some(function(q){try{k=q.__h,q.__h=[],k.some(function(he){he.call(q)})}catch(he){l.__e(he,q.__v)}})}function Oe(k,$,q,he,xe,pe,Ge,tt){var Ke,it,ve,st=q.props,rt=$.props,ze=$.type,qe=0;if(ze==="svg"&&(xe=!0),pe!=null){for(;qe<pe.length;qe++)if((Ke=pe[qe])&&"setAttribute"in Ke==!!ze&&(ze?Ke.localName===ze:Ke.nodeType===3)){k=Ke,pe[qe]=null;break}}if(k==null){if(ze===null)return document.createTextNode(rt);k=xe?document.createElementNS("http://www.w3.org/2000/svg",ze):document.createElement(ze,rt.is&&rt),pe=null,tt=!1}if(ze===null)st===rt||tt&&k.data===rt||(k.data=rt);else{if(pe=pe&&s.call(k.childNodes),it=(st=q.props||M).dangerouslySetInnerHTML,ve=rt.dangerouslySetInnerHTML,!tt){if(pe!=null)for(st={},qe=0;qe<k.attributes.length;qe++)st[k.attributes[qe].name]=k.attributes[qe].value;(ve||it)&&(ve&&(it&&ve.__html==it.__html||ve.__html===k.innerHTML)||(k.innerHTML=ve&&ve.__html||""))}if(W(k,rt,st,xe,tt),ve)$.__k=[];else if(qe=$.props.children,U(k,Array.isArray(qe)?qe:[qe],$,q,he,xe&&ze!=="foreignObject",pe,Ge,pe?pe[0]:q.__k&&ne(q,0),tt),pe!=null)for(qe=pe.length;qe--;)pe[qe]!=null&&I(pe[qe]);tt||("value"in rt&&(qe=rt.value)!==void 0&&(qe!==st.value||qe!==k.value||ze==="progress"&&!qe)&&ce(k,"value",qe,st.value,!1),"checked"in rt&&(qe=rt.checked)!==void 0&&qe!==k.checked&&ce(k,"checked",qe,st.checked,!1))}return k}function we(k,$,q){try{typeof k=="function"?k($):k.current=$}catch(he){l.__e(he,q)}}function Fe(k,$,q){var he,xe;if(l.unmount&&l.unmount(k),(he=k.ref)&&(he.current&&he.current!==k.__e||we(he,null,$)),(he=k.__c)!=null){if(he.componentWillUnmount)try{he.componentWillUnmount()}catch(pe){l.__e(pe,$)}he.base=he.__P=null}if(he=k.__k)for(xe=0;xe<he.length;xe++)he[xe]&&Fe(he[xe],$,typeof k.type!="function");q||k.__e==null||I(k.__e),k.__e=k.__d=void 0}function Ve(k,$,q){return this.constructor(k,q)}function Le(k,$,q){var he,xe,pe;l.__&&l.__(k,$),xe=(he=typeof q=="function")?null:q&&q.__k||$.__k,pe=[],be($,k=(!he&&q||$).__k=z(le,null,[k]),xe||M,M,$.ownerSVGElement!==void 0,!he&&q?[q]:xe?null:$.firstChild?s.call($.childNodes):null,pe,!he&&q?q:xe?xe.__e:$.firstChild,he),Se(pe,k)}function Ee(k,$){Le(k,$,Ee)}function _e(k,$,q){var he,xe,pe,Ge=C({},k.props);for(pe in $)pe=="key"?he=$[pe]:pe=="ref"?xe=$[pe]:Ge[pe]=$[pe];return arguments.length>2&&(Ge.children=arguments.length>3?s.call(arguments,2):q),X(k.type,Ge,he||k.key,xe||k.ref,null)}function Xe(k,$){var q={__c:$="__cC"+P++,__:k,Consumer:function(he,xe){return he.children(xe)},Provider:function(he){var xe,pe;return this.getChildContext||(xe=[],(pe={})[$]=this,this.getChildContext=function(){return pe},this.shouldComponentUpdate=function(Ge){this.props.value!==Ge.value&&xe.some(ee)},this.sub=function(Ge){xe.push(Ge);var tt=Ge.componentWillUnmount;Ge.componentWillUnmount=function(){xe.splice(xe.indexOf(Ge),1),tt&&tt.call(Ge)}}),he.children}};return q.Provider.__=q.Consumer.contextType=q}s=A.slice,l={__e:function(k,$){for(var q,he,xe;$=$.__;)if((q=$.__c)&&!q.__)try{if((he=q.constructor)&&he.getDerivedStateFromError!=null&&(q.setState(he.getDerivedStateFromError(k)),xe=q.__d),q.componentDidCatch!=null&&(q.componentDidCatch(k),xe=q.__d),xe)return q.__E=q}catch(pe){k=pe}throw k}},y=0,se.prototype.setState=function(k,$){var q;q=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof k=="function"&&(k=k(C({},q),this.props)),k&&C(q,k),k!=null&&this.__v&&($&&this.__h.push($),ee(this))},se.prototype.forceUpdate=function(k){this.__v&&(this.__e=!0,k&&this.__h.push(k),ee(this))},se.prototype.render=le,b=[],x=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_.__r=0,P=0},function(u,c,i){var s=i(116),l=i(44),y=i(178);s||l(Object.prototype,"toString",y,{unsafe:!0})},function(u,c,i){var s=i(39),l=i(83),y=i(71),b=i(56),x=i(111),S="Array Iterator",P=b.set,M=b.getterFor(S);u.exports=x(Array,"Array",function(A,j){P(this,{type:S,target:s(A),index:0,kind:j})},function(){var A=M(this),j=A.target,C=A.kind,I=A.index++;return!j||I>=j.length?(A.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:I,done:!1}:C=="values"?{value:j[I],done:!1}:{value:[I,j[I]],done:!1}},"values"),y.Arguments=y.Array,l("keys"),l("values"),l("entries")},function(u,c,i){var s=i(7),l=i(147),y=i(148),b=i(3),x=i(57),S=i(27),P=S("iterator"),M=S("toStringTag"),A=b.values,j=function(I,z){if(I){if(I[P]!==A)try{x(I,P,A)}catch(Y){I[P]=A}if(I[M]||x(I,M,z),l[z]){for(var X in b)if(I[X]!==b[X])try{x(I,X,b[X])}catch(Y){I[X]=b[X]}}}};for(var C in l)j(s[C]&&s[C].prototype,C);j(y,"DOMTokenList")},function(u,c,i){var s=i(16),l=i(7),y=i(46),b=i(77),x=i(35),S=i(15),P=i(65),M=i(36),A=i(109),j=i(18),C=i(34),I=i(99),z=i(28),X=i(33),Y=i(58),le=i(88),se=i(32),ne=i(38),Q=i(39),ee=i(87),_=i(40),U=i(72),B=i(54),w=i(67),R=i(73),W=i(139),Z=i(112),ce=i(51),Pe=i(37),me=i(93),be=i(101),Se=i(44),Oe=i(84),we=i(91),Fe=i(70),Ve=i(85),Le=i(27),Ee=i(149),_e=i(150),Xe=i(74),k=i(56),$=i(75).forEach,q=we("hidden"),he="Symbol",xe="prototype",pe=Le("toPrimitive"),Ge=k.set,tt=k.getterFor(he),Ke=Object[xe],it=l.Symbol,ve=it&&it[xe],st=l.TypeError,rt=l.QObject,ze=y("JSON","stringify"),qe=ce.f,wt=Pe.f,vt=W.f,Ot=me.f,ae=S([].push),jt=Oe("symbols"),xt=Oe("op-symbols"),mt=Oe("string-to-symbol-registry"),Kt=Oe("symbol-to-string-registry"),mr=Oe("wks"),Qt=!rt||!rt[xe]||!rt[xe].findChild,Mr=M&&j(function(){return B(wt({},"a",{get:function(){return wt(this,"a",{value:7}).a}})).a!=7})?function(te,re,Te){var je=qe(Ke,re);je&&delete Ke[re],wt(te,re,Te),je&&te!==Ke&&wt(Ke,re,je)}:wt,et=function(te,re){var Te=jt[te]=B(ve);return Ge(Te,{type:he,tag:te,description:re}),M||(Te.description=re),Te},Pt=function(re,Te,je){re===Ke&&Pt(xt,Te,je),se(re);var $e=ee(Te);return se(je),C(jt,$e)?(je.enumerable?(C(re,q)&&re[q][$e]&&(re[q][$e]=!1),je=B(je,{enumerable:U(0,!1)})):(C(re,q)||wt(re,q,U(1,{})),re[q][$e]=!0),Mr(re,$e,je)):wt(re,$e,je)},ar=function(re,Te){se(re);var je=Q(Te),$e=w(je).concat(ft(je));return $($e,function(yt){(!M||x(Ye,je,yt))&&Pt(re,yt,je[yt])}),re},Re=function(re,Te){return Te===void 0?B(re):ar(B(re),Te)},Ye=function(re){var Te=ee(re),je=x(Ot,this,Te);return this===Ke&&C(jt,Te)&&!C(xt,Te)?!1:je||!C(this,Te)||!C(jt,Te)||C(this,q)&&this[q][Te]?je:!0},at=function(re,Te){var je=Q(re),$e=ee(Te);if(!(je===Ke&&C(jt,$e)&&!C(xt,$e))){var yt=qe(je,$e);return yt&&C(jt,$e)&&!(C(je,q)&&je[q][$e])&&(yt.enumerable=!0),yt}},Je=function(re){var Te=vt(Q(re)),je=[];return $(Te,function($e){!C(jt,$e)&&!C(Fe,$e)&&ae(je,$e)}),je},ft=function(re){var Te=re===Ke,je=vt(Te?xt:Q(re)),$e=[];return $(je,function(yt){C(jt,yt)&&(!Te||C(Ke,yt))&&ae($e,jt[yt])}),$e};if(A||(it=function(){if(Y(ve,this))throw st("Symbol is not a constructor");var re=!arguments.length||arguments[0]===void 0?void 0:_(arguments[0]),Te=Ve(re),je=function($e){this===Ke&&x(je,xt,$e),C(this,q)&&C(this[q],Te)&&(this[q][Te]=!1),Mr(this,Te,U(1,$e))};return M&&Qt&&Mr(Ke,Te,{configurable:!0,set:je}),et(Te,re)},ve=it[xe],Se(ve,"toString",function(){return tt(this).tag}),Se(it,"withoutSetter",function(te){return et(Ve(te),te)}),me.f=Ye,Pe.f=Pt,ce.f=at,R.f=W.f=Je,Z.f=ft,Ee.f=function(te){return et(Le(te),te)},M&&(wt(ve,"description",{configurable:!0,get:function(){return tt(this).description}}),P||Se(Ke,"propertyIsEnumerable",Ye,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!A,sham:!A},{Symbol:it}),$(w(mr),function(te){_e(te)}),s({target:he,stat:!0,forced:!A},{for:function(te){var re=_(te);if(C(mt,re))return mt[re];var Te=it(re);return mt[re]=Te,Kt[Te]=re,Te},keyFor:function(re){if(!le(re))throw st(re+" is not a symbol");if(C(Kt,re))return Kt[re]},useSetter:function(){Qt=!0},useSimple:function(){Qt=!1}}),s({target:"Object",stat:!0,forced:!A,sham:!M},{create:Re,defineProperty:Pt,defineProperties:ar,getOwnPropertyDescriptor:at}),s({target:"Object",stat:!0,forced:!A},{getOwnPropertyNames:Je,getOwnPropertySymbols:ft}),s({target:"Object",stat:!0,forced:j(function(){Z.f(1)})},{getOwnPropertySymbols:function(re){return Z.f(ne(re))}}),ze){var H=!A||j(function(){var te=it();return ze([te])!="[null]"||ze({a:te})!="{}"||ze(Object(te))!="{}"});s({target:"JSON",stat:!0,forced:H},{stringify:function(re,Te,je){var $e=be(arguments),yt=Te;if(!(!X(Te)&&re===void 0||le(re)))return I(Te)||(Te=function(qt,er){if(z(yt)&&(er=x(yt,this,qt,er)),!le(er))return er}),$e[1]=Te,b(ze,null,$e)}})}if(!ve[pe]){var J=ve.valueOf;Se(ve,pe,function(te){return x(J,this)})}Xe(it,he),Fe[q]=!0},function(u,c,i){var s=i(146).charAt,l=i(40),y=i(56),b=i(111),x="String Iterator",S=y.set,P=y.getterFor(x);b(String,"String",function(M){S(this,{type:x,string:l(M),index:0})},function(){var A=P(this),j=A.string,C=A.index,I;return C>=j.length?{value:void 0,done:!0}:(I=s(j,C),A.index+=I.length,{value:I,done:!1})})},function(u,c,i){(function(s){var l=function(y){return y&&y.Math==Math&&y};u.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof s=="object"&&s)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(u,c,i){var s=i(16),l=i(36),y=i(7),b=i(15),x=i(34),S=i(28),P=i(58),M=i(40),A=i(37).f,j=i(134),C=y.Symbol,I=C&&C.prototype;if(l&&S(C)&&(!("description"in I)||C().description!==void 0)){var z={},X=function(){var U=arguments.length<1||arguments[0]===void 0?void 0:M(arguments[0]),B=P(I,this)?new C(U):U===void 0?C():C(U);return U===""&&(z[B]=!0),B};j(X,C),X.prototype=I,I.constructor=X;var Y=String(C("test"))=="Symbol(test)",le=b(I.toString),se=b(I.valueOf),ne=/^Symbol\((.*)\)[^)]+$/,Q=b("".replace),ee=b("".slice);A(I,"description",{configurable:!0,get:function(){var U=se(this),B=le(U);if(x(z,U))return"";var w=Y?ee(B,7,-1):Q(B,ne,"$1");return w===""?void 0:w}}),s({global:!0,forced:!0},{Symbol:X})}},function(u,c,i){var s=i(150);s("iterator")},function(u,c,i){i.d(c,"a",function(){return s.a}),i.d(c,"c",function(){return s.e}),i.d(c,"h",function(){return ee}),i.d(c,"i",function(){return Y}),i.d(c,"j",function(){return z}),i.d(c,"b",function(){return Se}),i.d(c,"e",function(){return Ve}),i.d(c,"f",function(){return Oe}),i.d(c,"g",function(){return Ye});var s=i(1),l,y,b,x=0,S=[],P=s.i.__b,M=s.i.__r,A=s.i.diffed,j=s.i.__c,C=s.i.unmount;function I(H,J){s.i.__h&&s.i.__h(y,H,x||J),x=0;var te=y.__H||(y.__H={__:[],__h:[]});return H>=te.__.length&&te.__.push({}),te.__[H]}function z(H){return x=1,X(Pe,H)}function X(H,J,te){var re=I(l++,2);return re.t=H,re.__c||(re.__=[te?te(J):Pe(void 0,J),function(Te){var je=re.t(re.__[0],Te);re.__[0]!==je&&(re.__=[je,re.__[1]],re.__c.setState({}))}],re.__c=y),re.__}function Y(H,J){var te=I(l++,3);!s.i.__s&&ce(te.__H,J)&&(te.__=H,te.__H=J,y.__H.__h.push(te))}function le(H,J){var te=I(l++,4);!s.i.__s&&ce(te.__H,J)&&(te.__=H,te.__H=J,y.__h.push(te))}function se(H){return x=5,Q(function(){return{current:H}},[])}function ne(H,J,te){x=6,le(function(){typeof H=="function"?H(J()):H&&(H.current=J())},te==null?te:te.concat(H))}function Q(H,J){var te=I(l++,7);return ce(te.__H,J)&&(te.__=H(),te.__H=J,te.__h=H),te.__}function ee(H,J){return x=8,Q(function(){return H},J)}function _(H){var J=y.context[H.__c],te=I(l++,9);return te.c=H,J?(te.__==null&&(te.__=!0,J.sub(y)),J.props.value):H.__}function U(H,J){s.i.useDebugValue&&s.i.useDebugValue(J?J(H):H)}function B(){var H;for(S.sort(function(J,te){return J.__v.__b-te.__v.__b});H=S.pop();)if(H.__P)try{H.__H.__h.forEach(W),H.__H.__h.forEach(Z),H.__H.__h=[]}catch(J){H.__H.__h=[],s.i.__e(J,H.__v)}}s.i.__b=function(H){y=null,P&&P(H)},s.i.__r=function(H){M&&M(H),l=0;var J=(y=H.__c).__H;J&&(J.__h.forEach(W),J.__h.forEach(Z),J.__h=[])},s.i.diffed=function(H){A&&A(H);var J=H.__c;J&&J.__H&&J.__H.__h.length&&(S.push(J)!==1&&b===s.i.requestAnimationFrame||((b=s.i.requestAnimationFrame)||R)(B)),y=null},s.i.__c=function(H,J){J.some(function(te){try{te.__h.forEach(W),te.__h=te.__h.filter(function(re){return!re.__||Z(re)})}catch(re){J.some(function(Te){Te.__h&&(Te.__h=[])}),J=[],s.i.__e(re,te.__v)}}),j&&j(H,J)},s.i.unmount=function(H){C&&C(H);var J,te=H.__c;te&&te.__H&&(te.__H.__.forEach(function(re){try{W(re)}catch(Te){J=Te}}),J&&s.i.__e(J,te.__v))};var w=typeof requestAnimationFrame=="function";function R(H){var J,te=function(){clearTimeout(re),w&&cancelAnimationFrame(J),setTimeout(H)},re=setTimeout(te,100);w&&(J=requestAnimationFrame(te))}function W(H){var J=y,te=H.__c;typeof te=="function"&&(H.__c=void 0,te()),y=J}function Z(H){var J=y;H.__c=H.__(),y=J}function ce(H,J){return!H||H.length!==J.length||J.some(function(te,re){return te!==H[re]})}function Pe(H,J){return typeof J=="function"?J(H):J}function me(H,J){for(var te in J)H[te]=J[te];return H}function be(H,J){for(var te in H)if(te!=="__source"&&!(te in J))return!0;for(var re in J)if(re!=="__source"&&H[re]!==J[re])return!0;return!1}function Se(H){this.props=H}function Oe(H,J){function te(Te){var je=this.props.ref,$e=je==Te.ref;return!$e&&je&&(je.call?je(null):je.current=null),J?!J(this.props,Te)||!$e:be(this.props,Te)}function re(Te){return this.shouldComponentUpdate=te,Object(s.e)(H,Te)}return re.displayName="Memo("+(H.displayName||H.name)+")",re.prototype.isReactComponent=!0,re.__f=!0,re}(Se.prototype=new s.a).isPureReactComponent=!0,Se.prototype.shouldComponentUpdate=function(H,J){return be(this.props,H)||be(this.state,J)};var we=s.i.__b;s.i.__b=function(H){H.type&&H.type.__f&&H.ref&&(H.props.ref=H.ref,H.ref=null),we&&we(H)};var Fe=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ve(H){function J(te,re){var Te=me({},te);return delete Te.ref,H(Te,!(re=te.ref||re)||typeof re=="object"&&!("current"in re)?null:re)}return J.$$typeof=Fe,J.render=J,J.prototype.isReactComponent=J.__f=!0,J.displayName="ForwardRef("+(H.displayName||H.name)+")",J}var Le=function(H,J){return H==null?null:Object(s.k)(Object(s.k)(H).map(J))},Ee={map:Le,forEach:Le,count:function(H){return H?Object(s.k)(H).length:0},only:function(H){var J=Object(s.k)(H);if(J.length!==1)throw"Children.only";return J[0]},toArray:s.k},_e=s.i.__e;s.i.__e=function(H,J,te){if(H.then){for(var re,Te=J;Te=Te.__;)if((re=Te.__c)&&re.__c)return J.__e==null&&(J.__e=te.__e,J.__k=te.__k),re.__c(H,J)}_e(H,J,te)};var Xe=s.i.unmount;function k(H,J,te){return H&&(H.__c&&H.__c.__H&&(H.__c.__H.__.forEach(function(re){typeof re.__c=="function"&&re.__c()}),H.__c.__H=null),(H=me({},H)).__c!=null&&(H.__c.__P===te&&(H.__c.__P=J),H.__c=null),H.__k=H.__k&&H.__k.map(function(re){return k(re,J,te)})),H}function $(H,J,te){return H&&(H.__v=null,H.__k=H.__k&&H.__k.map(function(re){return $(re,J,te)}),H.__c&&H.__c.__P===J&&(H.__e&&te.insertBefore(H.__e,H.__d),H.__c.__e=!0,H.__c.__P=te)),H}function q(){this.__u=0,this.t=null,this.__b=null}function he(H){var J=H.__.__c;return J&&J.__e&&J.__e(H)}function xe(H){var J,te,re;function Te(je){if(J||(J=H()).then(function($e){te=$e.default||$e},function($e){re=$e}),re)throw re;if(!te)throw J;return Object(s.e)(te,je)}return Te.displayName="Lazy",Te.__f=!0,Te}function pe(){this.u=null,this.o=null}s.i.unmount=function(H){var J=H.__c;J&&J.__R&&J.__R(),J&&H.__h===!0&&(H.type=null),Xe&&Xe(H)},(q.prototype=new s.a).__c=function(H,J){var te=J.__c,re=this;re.t==null&&(re.t=[]),re.t.push(te);var Te=he(re.__v),je=!1,$e=function(){je||(je=!0,te.__R=null,Te?Te(yt):yt())};te.__R=$e;var yt=function(){if(!--re.__u){if(re.state.__e){var er=re.state.__e;re.__v.__k[0]=$(er,er.__c.__P,er.__c.__O)}var Yn;for(re.setState({__e:re.__b=null});Yn=re.t.pop();)Yn.forceUpdate()}},qt=J.__h===!0;re.__u++||qt||re.setState({__e:re.__b=re.__v.__k[0]}),H.then($e,$e)},q.prototype.componentWillUnmount=function(){this.t=[]},q.prototype.render=function(H,J){if(this.__b){if(this.__v.__k){var te=document.createElement("div"),re=this.__v.__k[0].__c;this.__v.__k[0]=k(this.__b,te,re.__O=re.__P)}this.__b=null}var Te=J.__e&&Object(s.e)(s.b,null,H.fallback);return Te&&(Te.__h=null),[Object(s.e)(s.b,null,J.__e?null:H.children),Te]};var Ge=function(H,J,te){if(++te[1]===te[0]&&H.o.delete(J),H.props.revealOrder&&(H.props.revealOrder[0]!=="t"||!H.o.size))for(te=H.u;te;){for(;te.length>3;)te.pop()();if(te[1]<te[0])break;H.u=te=te[2]}};function tt(H){return this.getChildContext=function(){return H.context},H.children}function Ke(H){var J=this,te=H.i;J.componentWillUnmount=function(){Object(s.j)(null,J.l),J.l=null,J.i=null},J.i&&J.i!==te&&J.componentWillUnmount(),H.__v?(J.l||(J.i=te,J.l={nodeType:1,parentNode:te,childNodes:[],appendChild:function(re){this.childNodes.push(re),J.i.appendChild(re)},insertBefore:function(re,Te){this.childNodes.push(re),J.i.appendChild(re)},removeChild:function(re){this.childNodes.splice(this.childNodes.indexOf(re)>>>1,1),J.i.removeChild(re)}}),Object(s.j)(Object(s.e)(tt,{context:J.context},H.__v),J.l)):J.l&&J.componentWillUnmount()}function it(H,J){return Object(s.e)(Ke,{__v:H,i:J})}(pe.prototype=new s.a).__e=function(H){var J=this,te=he(J.__v),re=J.o.get(H);return re[0]++,function(Te){var je=function(){J.props.revealOrder?(re.push(Te),Ge(J,H,re)):Te()};te?te(je):je()}},pe.prototype.render=function(H){this.u=null,this.o=new Map;var J=Object(s.k)(H.children);H.revealOrder&&H.revealOrder[0]==="b"&&J.reverse();for(var te=J.length;te--;)this.o.set(J[te],this.u=[1,0,this.u]);return H.children},pe.prototype.componentDidUpdate=pe.prototype.componentDidMount=function(){var H=this;this.o.forEach(function(J,te){Ge(H,te,J)})};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,st=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,rt=typeof document!="undefined",ze=function(H){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(H)};function qe(H,J,te){return J.__k==null&&(J.textContent=""),Object(s.j)(H,J),typeof te=="function"&&te(),H?H.__c:null}function wt(H,J,te){return Object(s.h)(H,J),typeof te=="function"&&te(),H?H.__c:null}s.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(H){Object.defineProperty(s.a.prototype,H,{configurable:!0,get:function(){return this["UNSAFE_"+H]},set:function(J){Object.defineProperty(this,H,{configurable:!0,writable:!0,value:J})}})});var vt=s.i.event;function Ot(){}function ae(){return this.cancelBubble}function jt(){return this.defaultPrevented}s.i.event=function(H){return vt&&(H=vt(H)),H.persist=Ot,H.isPropagationStopped=ae,H.isDefaultPrevented=jt,H.nativeEvent=H};var xt,mt={configurable:!0,get:function(){return this.class}},Kt=s.i.vnode;s.i.vnode=function(H){var J=H.type,te=H.props,re=te;if(typeof J=="string"){var Te=J.indexOf("-")===-1;for(var je in re={},te){var $e=te[je];rt&&je==="children"&&J==="noscript"||je==="value"&&"defaultValue"in te&&$e==null||(je==="defaultValue"&&"value"in te&&te.value==null?je="value":je==="download"&&$e===!0?$e="":/ondoubleclick/i.test(je)?je="ondblclick":/^onchange(textarea|input)/i.test(je+J)&&!ze(te.type)?je="oninput":/^onfocus$/i.test(je)?je="onfocusin":/^onblur$/i.test(je)?je="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(je)?je=je.toLowerCase():Te&&st.test(je)?je=je.replace(/[A-Z0-9]/,"-$&").toLowerCase():$e===null&&($e=void 0),re[je]=$e)}J=="select"&&re.multiple&&Array.isArray(re.value)&&(re.value=Object(s.k)(te.children).forEach(function(yt){yt.props.selected=re.value.indexOf(yt.props.value)!=-1})),J=="select"&&re.defaultValue!=null&&(re.value=Object(s.k)(te.children).forEach(function(yt){yt.props.selected=re.multiple?re.defaultValue.indexOf(yt.props.value)!=-1:re.defaultValue==yt.props.value})),H.props=re,te.class!=te.className&&(mt.enumerable="className"in te,te.className!=null&&(re.class=te.className),Object.defineProperty(re,"className",mt))}H.$$typeof=ve,Kt&&Kt(H)};var mr=s.i.__r;s.i.__r=function(H){mr&&mr(H),xt=H.__c};var Qt={ReactCurrentDispatcher:{current:{readContext:function(H){return xt.__n[H.__c].props.value}}}};function Mr(H){return s.e.bind(null,H)}function et(H){return!!H&&H.$$typeof===ve}function Pt(H){return et(H)?s.c.apply(null,arguments):H}function ar(H){return!!H.__k&&(Object(s.j)(null,H),!0)}function Re(H){return H&&(H.base||H.nodeType===1&&H)||null}var Ye=function(H,J){return H(J)},at=function(H,J){return H(J)},Je=s.b,ft={useState:z,useReducer:X,useEffect:Y,useLayoutEffect:le,useRef:se,useImperativeHandle:ne,useMemo:Q,useCallback:ee,useContext:_,useDebugValue:U,version:"17.0.2",Children:Ee,render:qe,hydrate:wt,unmountComponentAtNode:ar,createPortal:it,createElement:s.e,createContext:s.d,createFactory:Mr,cloneElement:Pt,createRef:s.f,Fragment:s.b,isValidElement:et,findDOMNode:Re,Component:s.a,PureComponent:Se,memo:Oe,forwardRef:Ve,flushSync:at,unstable_batchedUpdates:Ye,StrictMode:Je,Suspense:q,SuspenseList:pe,lazy:xe,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Qt};c.d=ft},function(u,c,i){var s=i(7),l=i(147),y=i(148),b=i(179),x=i(57),S=function(M){if(M&&M.forEach!==b)try{x(M,"forEach",b)}catch(A){M.forEach=b}};for(var P in l)l[P]&&S(s[P]&&s[P].prototype);S(y)},function(u,c,i){var s=i(16),l=i(97);s({target:"Object",stat:!0},{setPrototypeOf:l})},function(u,c,i){var s=i(16),l=i(18),y=i(38),b=i(96),x=i(137),S=l(function(){b(1)});s({target:"Object",stat:!0,forced:S,sham:!x},{getPrototypeOf:function(M){return b(y(M))}})},function(u,c,i){var s=i(16),l=i(46),y=i(77),b=i(199),x=i(157),S=i(32),P=i(33),M=i(54),A=i(18),j=l("Reflect","construct"),C=Object.prototype,I=[].push,z=A(function(){function le(){}return!(j(function(){},[],le)instanceof le)}),X=!A(function(){j(function(){})}),Y=z||X;s({target:"Reflect",stat:!0,forced:Y,sham:Y},{construct:function(se,ne){x(se),S(ne);var Q=arguments.length<3?se:x(arguments[2]);if(X&&!z)return j(se,ne,Q);if(se==Q){switch(ne.length){case 0:return new se;case 1:return new se(ne[0]);case 2:return new se(ne[0],ne[1]);case 3:return new se(ne[0],ne[1],ne[2]);case 4:return new se(ne[0],ne[1],ne[2],ne[3])}var ee=[null];return y(I,ee,ne),new(y(b,se,ee))}var _=Q.prototype,U=M(P(_)?_:C),B=y(se,U,ne);return P(B)?B:U}})},function(u,c){var i=Function.prototype,s=i.bind,l=i.call,y=s&&s.bind(l);u.exports=s?function(b){return b&&y(l,b)}:function(b){return b&&function(){return l.apply(b,arguments)}}},function(u,c,i){var s=i(7),l=i(51).f,y=i(57),b=i(44),x=i(108),S=i(134),P=i(95);u.exports=function(M,A){var j=M.target,C=M.global,I=M.stat,z,X,Y,le,se,ne;if(C?X=s:I?X=s[j]||x(j,{}):X=(s[j]||{}).prototype,X)for(Y in A){if(se=A[Y],M.noTargetGet?(ne=l(X,Y),le=ne&&ne.value):le=X[Y],z=P(C?Y:j+(I?".":"#")+Y,M.forced),!z&&le!==void 0){if(typeof se==typeof le)continue;S(se,le)}(M.sham||le&&le.sham)&&y(se,"sham",!0),b(X,Y,se,M)}}},function(u,c,i){var s=i(16),l=i(7),y=i(99),b=i(100),x=i(33),S=i(68),P=i(43),M=i(39),A=i(61),j=i(27),C=i(76),I=i(101),z=C("slice"),X=j("species"),Y=l.Array,le=Math.max;s({target:"Array",proto:!0,forced:!z},{slice:function(ne,Q){var ee=M(this),_=P(ee),U=S(ne,_),B=S(Q===void 0?_:Q,_),w,R,W;if(y(ee)&&(w=ee.constructor,b(w)&&(w===Y||y(w.prototype))?w=void 0:x(w)&&(w=w[X],w===null&&(w=void 0)),w===Y||w===void 0))return I(ee,U,B);for(R=new(w===void 0?Y:w)(le(B-U,0)),W=0;U<B;U++,W++)U in ee&&A(R,W,ee[U]);return R.length=W,R}})},function(u,c){u.exports=function(i){try{return!!i()}catch(s){return!0}}},function(u,c,i){var s=i(16),l=i(102);s({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},function(u,c,i){var s=i(16),l=i(38),y=i(67),b=i(18),x=b(function(){y(1)});s({target:"Object",stat:!0,forced:x},{keys:function(P){return y(l(P))}})},function(u,c,i){var s=i(16),l=i(18),y=i(39),b=i(51).f,x=i(36),S=l(function(){b(1)}),P=!x||S;s({target:"Object",stat:!0,forced:P,sham:!x},{getOwnPropertyDescriptor:function(A,j){return b(y(A),j)}})},function(u,c,i){var s=i(16),l=i(75).filter,y=i(76),b=y("filter");s({target:"Array",proto:!0,forced:!b},{filter:function(S){return l(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var s=i(36),l=i(94).EXISTS,y=i(15),b=i(37).f,x=Function.prototype,S=y(x.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,M=y(P.exec),A="name";s&&!l&&b(x,A,{configurable:!0,get:function(){try{return M(P,S(this))[1]}catch(j){return""}}})},function(u,c,i){var s=i(16),l=i(36),y=i(135),b=i(39),x=i(51),S=i(61);s({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(M){for(var A=b(M),j=x.f,C=y(A),I={},z=0,X,Y;C.length>z;)Y=j(A,X=C[z++]),Y!==void 0&&S(I,X,Y);return I}})},function(u,c,i){var s=i(16),l=i(182),y=i(118),b=!y(function(x){Array.from(x)});s({target:"Array",stat:!0,forced:b},{from:l})},,function(u,c,i){var s=i(7),l=i(84),y=i(34),b=i(85),x=i(109),S=i(128),P=l("wks"),M=s.Symbol,A=M&&M.for,j=S?M:M&&M.withoutSetter||b;u.exports=function(C){if(!y(P,C)||!(x||typeof P[C]=="string")){var I="Symbol."+C;x&&y(M,C)?P[C]=M[C]:S&&A?P[C]=A(I):P[C]=j(I)}return P[C]}},function(u,c){u.exports=function(i){return typeof i=="function"}},function(u,c,i){var s=i(16),l=i(7),y=i(18),b=i(99),x=i(33),S=i(38),P=i(43),M=i(61),A=i(119),j=i(76),C=i(27),I=i(66),z=C("isConcatSpreadable"),X=9007199254740991,Y="Maximum allowed index exceeded",le=l.TypeError,se=I>=51||!y(function(){var _=[];return _[z]=!1,_.concat()[0]!==_}),ne=j("concat"),Q=function(_){if(!x(_))return!1;var U=_[z];return U!==void 0?!!U:b(_)},ee=!se||!ne;s({target:"Array",proto:!0,forced:ee},{concat:function(U){var B=S(this),w=A(B,0),R=0,W,Z,ce,Pe,me;for(W=-1,ce=arguments.length;W<ce;W++)if(me=W===-1?B:arguments[W],Q(me)){if(Pe=P(me),R+Pe>X)throw le(Y);for(Z=0;Z<Pe;Z++,R++)Z in me&&M(w,R,me[Z])}else{if(R>=X)throw le(Y);M(w,R++,me)}return w.length=R,w}})},function(u,c,i){var s=i(16),l=i(198);s({target:"Object",stat:!0,forced:Object.assign!==l},{assign:l})},function(u,c,i){var s=i(105),l=typeof self=="object"&&self&&self.Object===Object&&self,y=s.a||l||Function("return this")();c.a=y},function(u,c,i){var s=i(7),l=i(33),y=s.String,b=s.TypeError;u.exports=function(x){if(l(x))return x;throw b(y(x)+" is not an object")}},function(u,c,i){var s=i(28);u.exports=function(l){return typeof l=="object"?l!==null:s(l)}},function(u,c,i){var s=i(15),l=i(38),y=s({}.hasOwnProperty);u.exports=Object.hasOwn||function(x,S){return y(l(x),S)}},function(u,c){var i=Function.prototype.call;u.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(u,c,i){var s=i(18);u.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,c,i){var s=i(7),l=i(36),y=i(129),b=i(32),x=i(87),S=s.TypeError,P=Object.defineProperty;c.f=l?P:function(A,j,C){if(b(A),j=x(j),b(C),y)try{return P(A,j,C)}catch(I){}if("get"in C||"set"in C)throw S("Accessors not supported");return"value"in C&&(A[j]=C.value),A}},function(u,c,i){var s=i(7),l=i(45),y=s.Object;u.exports=function(b){return y(l(b))}},function(u,c,i){var s=i(81),l=i(45);u.exports=function(y){return s(l(y))}},function(u,c,i){var s=i(7),l=i(98),y=s.String;u.exports=function(b){if(l(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y(b)}},function(u,c,i){var s=i(16),l=i(75).map,y=i(76),b=y("map");s({target:"Array",proto:!0,forced:!b},{map:function(S){return l(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){(function(s){i.d(c,"d",function(){return b}),i.d(c,"c",function(){return x}),i.d(c,"b",function(){return S}),i.d(c,"a",function(){return M});var l=i(10),y=function(A,j){var C=typeof Symbol=="function"&&A[Symbol.iterator];if(!C)return A;var I=C.call(A),z,X=[],Y;try{for(;(j===void 0||j-- >0)&&!(z=I.next()).done;)X.push(z.value)}catch(le){Y={error:le}}finally{try{z&&!z.done&&(C=I.return)&&C.call(I)}finally{if(Y)throw Y.error}}return X};function b(){var A=y(Object(l.j)(0),2),j=A[1],C=Object(l.h)(function(){j(function(I){return I+1})},[]);return C}function x(A){if(!A||typeof A!="object")return!1;var j=Object.getPrototypeOf(A);return!j||j===Object.prototype}function S(A){return typeof Symbol=="function"?Symbol.for(A):"__$mobx-react "+A+"__"}var P={};function M(){return typeof window!="undefined"?window:typeof s!="undefined"?s:typeof self!="undefined"?self:P}}).call(this,i(82))},function(u,c,i){var s=i(90);u.exports=function(l){return s(l.length)}},function(u,c,i){var s=i(7),l=i(28),y=i(34),b=i(57),x=i(108),S=i(92),P=i(56),M=i(94).CONFIGURABLE,A=P.get,j=P.enforce,C=String(String).split("String");(u.exports=function(I,z,X,Y){var le=Y?!!Y.unsafe:!1,se=Y?!!Y.enumerable:!1,ne=Y?!!Y.noTargetGet:!1,Q=Y&&Y.name!==void 0?Y.name:z,ee;if(l(X)&&(String(Q).slice(0,7)==="Symbol("&&(Q="["+String(Q).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!y(X,"name")||M&&X.name!==Q)&&b(X,"name",Q),ee=j(X),ee.source||(ee.source=C.join(typeof Q=="string"?Q:""))),I===s){se?I[z]=X:x(z,X);return}else le?!ne&&I[z]&&(se=!0):delete I[z];se?I[z]=X:b(I,z,X)})(Function.prototype,"toString",function(){return l(this)&&A(this).source||S(this)})},function(u,c,i){var s=i(7),l=s.TypeError;u.exports=function(y){if(y==null)throw l("Can't call method on "+y);return y}},function(u,c,i){var s=i(7),l=i(28),y=function(b){return l(b)?b:void 0};u.exports=function(b,x){return arguments.length<2?y(s[b]):s[b]&&s[b][x]}},function(u,c,i){var s=i(16),l=i(35),y=i(33),b=i(32),x=i(200),S=i(51),P=i(96);function M(A,j){var C=arguments.length<3?A:arguments[2],I,z;if(b(A)===C)return A[j];if(I=S.f(A,j),I)return x(I)?I.value:I.get===void 0?void 0:l(I.get,C);if(y(z=P(A)))return M(z,j,C)}s({target:"Reflect",stat:!0},{get:M})},function(u,c,i){(function(s){var l=i(31),y=i(165),b=h&&!h.nodeType&&h,x=b&&typeof s=="object"&&s&&!s.nodeType&&s,S=x&&x.exports===b,P=S?l.a.Buffer:void 0,M=P?P.isBuffer:void 0,A=M||y.a;c.a=A}).call(this,i(121)(u))},function(u,c,i){(function(s){var l=i(105),y=h&&!h.nodeType&&h,b=y&&typeof s=="object"&&s&&!s.nodeType&&s,x=b&&b.exports===y,S=x&&l.a.process,P=function(){try{var M=b&&b.require&&b.require("util").types;return M||S&&S.binding&&S.binding("util")}catch(A){}}();c.a=P}).call(this,i(121)(u))},function(u,c,i){var s=i(15),l=s({}.toString),y=s("".slice);u.exports=function(b){return y(l(b),8,-1)}},function(u,c,i){var s=i(36),l=i(35),y=i(93),b=i(72),x=i(39),S=i(87),P=i(34),M=i(129),A=Object.getOwnPropertyDescriptor;c.f=s?A:function(C,I){if(C=x(C),I=S(I),M)try{return A(C,I)}catch(z){}if(P(C,I))return b(!l(y.f,C,I),C[I])}},function(u,c,i){var s=i(16),l=i(213).entries;s({target:"Object",stat:!0},{entries:function(b){return l(b)}})},function(u,c,i){var s=i(46);u.exports=s("navigator","userAgent")||""},function(u,c,i){var s=i(32),l=i(168),y=i(110),b=i(70),x=i(133),S=i(86),P=i(91),M=">",A="<",j="prototype",C="script",I=P("IE_PROTO"),z=function(){},X=function(Q){return A+C+M+Q+A+"/"+C+M},Y=function(Q){Q.write(X("")),Q.close();var ee=Q.parentWindow.Object;return Q=null,ee},le=function(){var Q=S("iframe"),ee="java"+C+":",_;return Q.style.display="none",x.appendChild(Q),Q.src=String(ee),_=Q.contentWindow.document,_.open(),_.write(X("document.F=Object")),_.close(),_.F},se,ne=function(){try{se=new ActiveXObject("htmlfile")}catch(ee){}ne=typeof document!="undefined"?document.domain&&se?Y(se):le():Y(se);for(var Q=y.length;Q--;)delete ne[j][y[Q]];return ne()};b[I]=!0,u.exports=Object.create||function(ee,_){var U;return ee!==null?(z[j]=s(ee),U=new z,z[j]=null,U[I]=ee):U=ne(),_===void 0?U:l(U,_)}},function(u,c,i){var s=i(7),l=i(28),y=i(89),b=s.TypeError;u.exports=function(x){if(l(x))return x;throw b(y(x)+" is not a function")}},function(u,c,i){var s=i(170),l=i(7),y=i(15),b=i(33),x=i(57),S=i(34),P=i(107),M=i(91),A=i(70),j="Object already initialized",C=l.TypeError,I=l.WeakMap,z,X,Y,le=function(B){return Y(B)?X(B):z(B,{})},se=function(B){return function(w){var R;if(!b(w)||(R=X(w)).type!==B)throw C("Incompatible receiver, "+B+" required");return R}};if(s||P.state){var ne=P.state||(P.state=new I),Q=y(ne.get),ee=y(ne.has),_=y(ne.set);z=function(B,w){if(ee(ne,B))throw new C(j);return w.facade=B,_(ne,B,w),w},X=function(B){return Q(ne,B)||{}},Y=function(B){return ee(ne,B)}}else{var U=M("state");A[U]=!0,z=function(B,w){if(S(B,U))throw new C(j);return w.facade=B,x(B,U,w),w},X=function(B){return S(B,U)?B[U]:{}},Y=function(B){return S(B,U)}}u.exports={set:z,get:X,has:Y,enforce:le,getterFor:se}},function(u,c,i){var s=i(36),l=i(37),y=i(72);u.exports=s?function(b,x,S){return l.f(b,x,y(1,S))}:function(b,x,S){return b[x]=S,b}},function(u,c,i){var s=i(15);u.exports=s({}.isPrototypeOf)},function(u,c,i){var s=i(55);u.exports=function(l,y){var b=l[y];return b==null?void 0:s(b)}},function(u,c,i){var s=i(173),l=i(177);s("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},l)},function(u,c,i){var s=i(87),l=i(37),y=i(72);u.exports=function(b,x,S){var P=s(x);P in b?l.f(b,P,y(0,S)):b[P]=S}},function(u,c,i){var s=i(15),l=i(55),y=s(s.bind);u.exports=function(b,x){return l(b),x===void 0?b:y?y(b,x):function(){return b.apply(x,arguments)}}},function(u,c,i){var s=i(16),l=i(15),y=i(81),b=i(39),x=i(120),S=l([].join),P=y!=Object,M=x("join",",");s({target:"Array",proto:!0,forced:P||!M},{join:function(j){return S(b(this),j===void 0?",":j)}})},function(u,c,i){var s=i(16),l=i(214),y=i(83);s({target:"Array",proto:!0},{fill:l}),y("fill")},function(u,c){u.exports=!1},function(u,c,i){var s=i(7),l=i(53),y=s.process,b=s.Deno,x=y&&y.versions||b&&b.version,S=x&&x.v8,P,M;S&&(P=S.split("."),M=P[0]>0&&P[0]<4?1:+(P[0]+P[1])),!M&&l&&(P=l.match(/Edge\/(\d+)/),(!P||P[1]>=74)&&(P=l.match(/Chrome\/(\d+)/),P&&(M=+P[1]))),u.exports=M},function(u,c,i){var s=i(131),l=i(110);u.exports=Object.keys||function(b){return s(b,l)}},function(u,c,i){var s=i(69),l=Math.max,y=Math.min;u.exports=function(b,x){var S=s(b);return S<0?l(S+x,0):y(S,x)}},function(u,c){var i=Math.ceil,s=Math.floor;u.exports=function(l){var y=+l;return y!==y||y===0?0:(y>0?s:i)(y)}},function(u,c){u.exports={}},function(u,c){u.exports={}},function(u,c){u.exports=function(i,s){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:s}}},function(u,c,i){var s=i(131),l=i(110),y=l.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(x){return s(x,y)}},function(u,c,i){var s=i(37).f,l=i(34),y=i(27),b=y("toStringTag");u.exports=function(x,S,P){x&&!l(x=P?x:x.prototype,b)&&s(x,b,{configurable:!0,value:S})}},function(u,c,i){var s=i(62),l=i(15),y=i(81),b=i(38),x=i(43),S=i(119),P=l([].push),M=function(A){var j=A==1,C=A==2,I=A==3,z=A==4,X=A==6,Y=A==7,le=A==5||X;return function(se,ne,Q,ee){for(var _=b(se),U=y(_),B=s(ne,Q),w=x(U),R=0,W=ee||S,Z=j?W(se,w):C||Y?W(se,0):void 0,ce,Pe;w>R;R++)if((le||R in U)&&(ce=U[R],Pe=B(ce,R,_),A))if(j)Z[R]=Pe;else if(Pe)switch(A){case 3:return!0;case 5:return ce;case 6:return R;case 2:P(Z,ce)}else switch(A){case 4:return!1;case 7:P(Z,ce)}return X?-1:I||z?z:Z}};u.exports={forEach:M(0),map:M(1),filter:M(2),some:M(3),every:M(4),find:M(5),findIndex:M(6),filterReject:M(7)}},function(u,c,i){var s=i(18),l=i(27),y=i(66),b=l("species");u.exports=function(x){return y>=51||!s(function(){var S=[],P=S.constructor={};return P[b]=function(){return{foo:1}},S[x](Boolean).foo!==1})}},function(u,c){var i=Function.prototype,s=i.apply,l=i.bind,y=i.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(l?y.bind(s):function(){return y.apply(s,arguments)})},function(u,c,i){var s=i(77),l=i(35),y=i(15),b=i(122),x=i(154),S=i(32),P=i(45),M=i(156),A=i(123),j=i(90),C=i(40),I=i(59),z=i(113),X=i(124),Y=i(102),le=i(151),se=i(18),ne=le.UNSUPPORTED_Y,Q=4294967295,ee=Math.min,_=[].push,U=y(/./.exec),B=y(_),w=y("".slice),R=!se(function(){var W=/(?:)/,Z=W.exec;W.exec=function(){return Z.apply(this,arguments)};var ce="ab".split(W);return ce.length!==2||ce[0]!=="a"||ce[1]!=="b"});b("split",function(W,Z,ce){var Pe;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?Pe=function(me,be){var Se=C(P(this)),Oe=be===void 0?Q:be>>>0;if(Oe===0)return[];if(me===void 0)return[Se];if(!x(me))return l(Z,Se,me,Oe);for(var we=[],Fe=(me.ignoreCase?"i":"")+(me.multiline?"m":"")+(me.unicode?"u":"")+(me.sticky?"y":""),Ve=0,Le=new RegExp(me.source,Fe+"g"),Ee,_e,Xe;(Ee=l(Y,Le,Se))&&(_e=Le.lastIndex,!(_e>Ve&&(B(we,w(Se,Ve,Ee.index)),Ee.length>1&&Ee.index<Se.length&&s(_,we,z(Ee,1)),Xe=Ee[0].length,Ve=_e,we.length>=Oe)));)Le.lastIndex===Ee.index&&Le.lastIndex++;return Ve===Se.length?(Xe||!U(Le,""))&&B(we,""):B(we,w(Se,Ve)),we.length>Oe?z(we,0,Oe):we}:"0".split(void 0,0).length?Pe=function(me,be){return me===void 0&&be===0?[]:l(Z,this,me,be)}:Pe=Z,[function(be,Se){var Oe=P(this),we=be==null?void 0:I(be,W);return we?l(we,be,Oe,Se):l(Pe,C(Oe),be,Se)},function(me,be){var Se=S(this),Oe=C(me),we=ce(Pe,Se,Oe,be,Pe!==Z);if(we.done)return we.value;var Fe=M(Se,RegExp),Ve=Se.unicode,Le=(Se.ignoreCase?"i":"")+(Se.multiline?"m":"")+(Se.unicode?"u":"")+(ne?"g":"y"),Ee=new Fe(ne?"^(?:"+Se.source+")":Se,Le),_e=be===void 0?Q:be>>>0;if(_e===0)return[];if(Oe.length===0)return X(Ee,Oe)===null?[Oe]:[];for(var Xe=0,k=0,$=[];k<Oe.length;){Ee.lastIndex=ne?0:k;var q=X(Ee,ne?w(Oe,k):Oe),he;if(q===null||(he=ee(j(Ee.lastIndex+(ne?k:0)),Oe.length))===Xe)k=A(Oe,k,Ve);else{if(B($,w(Oe,Xe,k)),$.length===_e)return $;for(var xe=1;xe<=q.length-1;xe++)if(B($,q[xe]),$.length===_e)return $;k=Xe=he}}return B($,w(Oe,Xe)),$}]},!R,ne)},function(u,c,i){var s=i(36),l=i(7),y=i(15),b=i(95),x=i(44),S=i(34),P=i(143),M=i(58),A=i(88),j=i(130),C=i(18),I=i(73).f,z=i(51).f,X=i(37).f,Y=i(196),le=i(159).trim,se="Number",ne=l[se],Q=ne.prototype,ee=l.TypeError,_=y("".slice),U=y("".charCodeAt),B=function(Pe){var me=j(Pe,"number");return typeof me=="bigint"?me:w(me)},w=function(Pe){var me=j(Pe,"number"),be,Se,Oe,we,Fe,Ve,Le,Ee;if(A(me))throw ee("Cannot convert a Symbol value to a number");if(typeof me=="string"&&me.length>2){if(me=le(me),be=U(me,0),be===43||be===45){if(Se=U(me,2),Se===88||Se===120)return NaN}else if(be===48){switch(U(me,1)){case 66:case 98:Oe=2,we=49;break;case 79:case 111:Oe=8,we=55;break;default:return+me}for(Fe=_(me,2),Ve=Fe.length,Le=0;Le<Ve;Le++)if(Ee=U(Fe,Le),Ee<48||Ee>we)return NaN;return parseInt(Fe,Oe)}}return+me};if(b(se,!ne(" 0o1")||!ne("0b1")||ne("+0x1"))){for(var R=function(me){var be=arguments.length<1?0:ne(B(me)),Se=this;return M(Q,Se)&&C(function(){Y(Se)})?P(Object(be),Se,R):be},W=s?I(ne):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Z=0,ce;W.length>Z;Z++)S(ne,ce=W[Z])&&!S(R,ce)&&X(R,ce,z(ne,ce));R.prototype=Q,Q.constructor=R,x(l,se,R)}},function(u,c,i){var s=i(16);s({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,c,i){var s=i(7),l=i(15),y=i(18),b=i(50),x=s.Object,S=l("".split);u.exports=y(function(){return!x("z").propertyIsEnumerable(0)})?function(P){return b(P)=="String"?S(P,""):x(P)}:x},function(u,c){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(s){typeof window=="object"&&(i=window)}u.exports=i},function(u,c,i){var s=i(27),l=i(54),y=i(37),b=s("unscopables"),x=Array.prototype;x[b]==null&&y.f(x,b,{configurable:!0,value:l(null)}),u.exports=function(S){x[b][S]=!0}},function(u,c,i){var s=i(65),l=i(107);(u.exports=function(y,b){return l[y]||(l[y]=b!==void 0?b:{})})("versions",[]).push({version:"3.19.3",mode:s?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(u,c,i){var s=i(15),l=0,y=Math.random(),b=s(1 .toString);u.exports=function(x){return"Symbol("+(x===void 0?"":x)+")_"+b(++l+y,36)}},function(u,c,i){var s=i(7),l=i(33),y=s.document,b=l(y)&&l(y.createElement);u.exports=function(x){return b?y.createElement(x):{}}},function(u,c,i){var s=i(130),l=i(88);u.exports=function(y){var b=s(y,"string");return l(b)?b:b+""}},function(u,c,i){var s=i(7),l=i(46),y=i(28),b=i(58),x=i(128),S=s.Object;u.exports=x?function(P){return typeof P=="symbol"}:function(P){var M=l("Symbol");return y(M)&&b(M.prototype,S(P))}},function(u,c,i){var s=i(7),l=s.String;u.exports=function(y){try{return l(y)}catch(b){return"Object"}}},function(u,c,i){var s=i(69),l=Math.min;u.exports=function(y){return y>0?l(s(y),9007199254740991):0}},function(u,c,i){var s=i(84),l=i(85),y=s("keys");u.exports=function(b){return y[b]||(y[b]=l(b))}},function(u,c,i){var s=i(15),l=i(28),y=i(107),b=s(Function.toString);l(y.inspectSource)||(y.inspectSource=function(x){return b(x)}),u.exports=y.inspectSource},function(u,c,i){var s={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,y=l&&!s.call({1:2},1);c.f=y?function(x){var S=l(this,x);return!!S&&S.enumerable}:s},function(u,c,i){var s=i(36),l=i(34),y=Function.prototype,b=s&&Object.getOwnPropertyDescriptor,x=l(y,"name"),S=x&&function(){}.name==="something",P=x&&(!s||s&&b(y,"name").configurable);u.exports={EXISTS:x,PROPER:S,CONFIGURABLE:P}},function(u,c,i){var s=i(18),l=i(28),y=/#|\.prototype\./,b=function(A,j){var C=S[x(A)];return C==M?!0:C==P?!1:l(j)?s(j):!!j},x=b.normalize=function(A){return String(A).replace(y,".").toLowerCase()},S=b.data={},P=b.NATIVE="N",M=b.POLYFILL="P";u.exports=b},function(u,c,i){var s=i(7),l=i(34),y=i(28),b=i(38),x=i(91),S=i(137),P=x("IE_PROTO"),M=s.Object,A=M.prototype;u.exports=S?M.getPrototypeOf:function(j){var C=b(j);if(l(C,P))return C[P];var I=C.constructor;return y(I)&&C instanceof I?I.prototype:C instanceof M?A:null}},function(u,c,i){var s=i(15),l=i(32),y=i(172);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,x={},S;try{S=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),S(x,[]),b=x instanceof Array}catch(P){}return function(M,A){return l(M),y(A),b?S(M,A):M.__proto__=A,M}}():void 0)},function(u,c,i){var s=i(7),l=i(116),y=i(28),b=i(50),x=i(27),S=x("toStringTag"),P=s.Object,M=b(function(){return arguments}())=="Arguments",A=function(j,C){try{return j[C]}catch(I){}};u.exports=l?b:function(j){var C,I,z;return j===void 0?"Undefined":j===null?"Null":typeof(I=A(C=P(j),S))=="string"?I:M?b(C):(z=b(C))=="Object"&&y(C.callee)?"Arguments":z}},function(u,c,i){var s=i(50);u.exports=Array.isArray||function(y){return s(y)=="Array"}},function(u,c,i){var s=i(15),l=i(18),y=i(28),b=i(98),x=i(46),S=i(92),P=function(){},M=[],A=x("Reflect","construct"),j=/^\s*(?:class|function)\b/,C=s(j.exec),I=!j.exec(P),z=function(Y){if(!y(Y))return!1;try{return A(P,M,Y),!0}catch(le){return!1}},X=function(Y){if(!y(Y))return!1;switch(b(Y)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return I||!!C(j,S(Y))};u.exports=!A||l(function(){var Y;return z(z.call)||!z(Object)||!z(function(){Y=!0})||Y})?X:z},function(u,c,i){var s=i(15);u.exports=s([].slice)},function(u,c,i){var s=i(35),l=i(15),y=i(40),b=i(184),x=i(151),S=i(84),P=i(54),M=i(56).get,A=i(185),j=i(186),C=S("native-string-replace",String.prototype.replace),I=RegExp.prototype.exec,z=I,X=l("".charAt),Y=l("".indexOf),le=l("".replace),se=l("".slice),ne=function(){var U=/a/,B=/b*/g;return s(I,U,"a"),s(I,B,"a"),U.lastIndex!==0||B.lastIndex!==0}(),Q=x.BROKEN_CARET,ee=/()??/.exec("")[1]!==void 0,_=ne||ee||Q||A||j;_&&(z=function(B){var w=this,R=M(w),W=y(B),Z=R.raw,ce,Pe,me,be,Se,Oe,we;if(Z)return Z.lastIndex=w.lastIndex,ce=s(z,Z,W),w.lastIndex=Z.lastIndex,ce;var Fe=R.groups,Ve=Q&&w.sticky,Le=s(b,w),Ee=w.source,_e=0,Xe=W;if(Ve&&(Le=le(Le,"y",""),Y(Le,"g")===-1&&(Le+="g"),Xe=se(W,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&X(W,w.lastIndex-1)!==`
`)&&(Ee="(?: "+Ee+")",Xe=" "+Xe,_e++),Pe=new RegExp("^(?:"+Ee+")",Le)),ee&&(Pe=new RegExp("^"+Ee+"$(?!\\s)",Le)),ne&&(me=w.lastIndex),be=s(I,Ve?Pe:w,Xe),Ve?be?(be.input=se(be.input,_e),be[0]=se(be[0],_e),be.index=w.lastIndex,w.lastIndex+=be[0].length):w.lastIndex=0:ne&&be&&(w.lastIndex=w.global?be.index+be[0].length:me),ee&&be&&be.length>1&&s(C,be[0],Pe,function(){for(Se=1;Se<arguments.length-2;Se++)arguments[Se]===void 0&&(be[Se]=void 0)}),be&&Fe)for(be.groups=Oe=P(null),Se=0;Se<Fe.length;Se++)we=Fe[Se],Oe[we[0]]=be[we[1]];return be}),u.exports=z},function(u,c,i){var s=i(16),l=i(7),y=i(68),b=i(69),x=i(43),S=i(38),P=i(119),M=i(61),A=i(76),j=A("splice"),C=l.TypeError,I=Math.max,z=Math.min,X=9007199254740991,Y="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!j},{splice:function(se,ne){var Q=S(this),ee=x(Q),_=y(se,ee),U=arguments.length,B,w,R,W,Z,ce;if(U===0?B=w=0:U===1?(B=0,w=ee-_):(B=U-2,w=z(I(b(ne),0),ee-_)),ee+B-w>X)throw C(Y);for(R=P(Q,w),W=0;W<w;W++)Z=_+W,Z in Q&&M(R,W,Q[Z]);if(R.length=w,B<w){for(W=_;W<ee-w;W++)Z=W+w,ce=W+B,Z in Q?Q[ce]=Q[Z]:delete Q[ce];for(W=ee;W>ee-w+B;W--)delete Q[W-1]}else if(B>w)for(W=ee-w;W>_;W--)Z=W+w-1,ce=W+B-1,Z in Q?Q[ce]=Q[Z]:delete Q[ce];for(W=0;W<B;W++)Q[W+_]=arguments[W+2];return Q.length=ee-w+B,R}})},function(u,c,i){var s=i(16),l=i(201),y=i(202);s({target:"String",proto:!0,forced:y("anchor")},{anchor:function(x){return l(this,"a","name",x)}})},function(u,c,i){(function(s){var l=typeof s=="object"&&s&&s.Object===Object&&s;c.a=l}).call(this,i(82))},function(u,c,i){(function(s){var l=i(31),y=h&&!h.nodeType&&h,b=y&&typeof s=="object"&&s&&!s.nodeType&&s,x=b&&b.exports===y,S=x?l.a.Buffer:void 0,P=S?S.allocUnsafe:void 0;function M(A,j){if(j)return A.slice();var C=A.length,I=P?P(C):new A.constructor(C);return A.copy(I),I}c.a=M}).call(this,i(121)(u))},function(u,c,i){var s=i(7),l=i(108),y="__core-js_shared__",b=s[y]||l(y,{});u.exports=b},function(u,c,i){var s=i(7),l=Object.defineProperty;u.exports=function(y,b){try{l(s,y,{value:b,configurable:!0,writable:!0})}catch(x){s[y]=b}return b}},function(u,c,i){var s=i(66),l=i(18);u.exports=!!Object.getOwnPropertySymbols&&!l(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&s&&s<41})},function(u,c){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,c,i){var s=i(16),l=i(35),y=i(65),b=i(94),x=i(28),S=i(171),P=i(96),M=i(97),A=i(74),j=i(57),C=i(44),I=i(27),z=i(71),X=i(136),Y=b.PROPER,le=b.CONFIGURABLE,se=X.IteratorPrototype,ne=X.BUGGY_SAFARI_ITERATORS,Q=I("iterator"),ee="keys",_="values",U="entries",B=function(){return this};u.exports=function(w,R,W,Z,ce,Pe,me){S(W,R,Z);var be=function(k){if(k===ce&&Ve)return Ve;if(!ne&&k in we)return we[k];switch(k){case ee:return function(){return new W(this,k)};case _:return function(){return new W(this,k)};case U:return function(){return new W(this,k)}}return function(){return new W(this)}},Se=R+" Iterator",Oe=!1,we=w.prototype,Fe=we[Q]||we["@@iterator"]||ce&&we[ce],Ve=!ne&&Fe||be(ce),Le=R=="Array"&&we.entries||Fe,Ee,_e,Xe;if(Le&&(Ee=P(Le.call(new w)),Ee!==Object.prototype&&Ee.next&&(!y&&P(Ee)!==se&&(M?M(Ee,se):x(Ee[Q])||C(Ee,Q,B)),A(Ee,Se,!0,!0),y&&(z[Se]=B))),Y&&ce==_&&Fe&&Fe.name!==_&&(!y&&le?j(we,"name",_):(Oe=!0,Ve=function(){return l(Fe,this)})),ce)if(_e={values:be(_),keys:Pe?Ve:be(ee),entries:be(U)},me)for(Xe in _e)(ne||Oe||!(Xe in we))&&C(we,Xe,_e[Xe]);else s({target:R,proto:!0,forced:ne||Oe},_e);return(!y||me)&&we[Q]!==Ve&&C(we,Q,Ve,{name:ce}),z[R]=Ve,_e}},function(u,c){c.f=Object.getOwnPropertySymbols},function(u,c,i){var s=i(7),l=i(68),y=i(43),b=i(61),x=s.Array,S=Math.max;u.exports=function(P,M,A){for(var j=y(P),C=l(M,j),I=l(A===void 0?j:A,j),z=x(S(I-C,0)),X=0;C<I;C++,X++)b(z,X,P[C]);return z.length=X,z}},function(u,c,i){var s=i(7),l=i(62),y=i(35),b=i(32),x=i(89),S=i(140),P=i(43),M=i(58),A=i(141),j=i(115),C=i(142),I=s.TypeError,z=function(Y,le){this.stopped=Y,this.result=le},X=z.prototype;u.exports=function(Y,le,se){var ne=se&&se.that,Q=!!(se&&se.AS_ENTRIES),ee=!!(se&&se.IS_ITERATOR),_=!!(se&&se.INTERRUPTED),U=l(le,ne),B,w,R,W,Z,ce,Pe,me=function(Se){return B&&C(B,"normal",Se),new z(!0,Se)},be=function(Se){return Q?(b(Se),_?U(Se[0],Se[1],me):U(Se[0],Se[1])):_?U(Se,me):U(Se)};if(ee)B=Y;else{if(w=j(Y),!w)throw I(x(Y)+" is not iterable");if(S(w)){for(R=0,W=P(Y);W>R;R++)if(Z=be(Y[R]),Z&&M(X,Z))return Z;return new z(!1)}B=A(Y,w)}for(ce=B.next;!(Pe=y(ce,B)).done;){try{Z=be(Pe.value)}catch(Se){C(B,"throw",Se)}if(typeof Z=="object"&&Z&&M(X,Z))return Z}return new z(!1)}},function(u,c,i){var s=i(98),l=i(59),y=i(71),b=i(27),x=b("iterator");u.exports=function(S){if(S!=null)return l(S,x)||l(S,"@@iterator")||y[s(S)]}},function(u,c,i){var s=i(27),l=s("toStringTag"),y={};y[l]="z",u.exports=String(y)==="[object z]"},function(u,c,i){var s=i(7),l=i(58),y=s.TypeError;u.exports=function(b,x){if(l(x,b))return b;throw y("Incorrect invocation")}},function(u,c,i){var s=i(27),l=s("iterator"),y=!1;try{var b=0,x={next:function(){return{done:!!b++}},return:function(){y=!0}};x[l]=function(){return this},Array.from(x,function(){throw 2})}catch(S){}u.exports=function(S,P){if(!P&&!y)return!1;var M=!1;try{var A={};A[l]=function(){return{next:function(){return{done:M=!0}}}},S(A)}catch(j){}return M}},function(u,c,i){var s=i(180);u.exports=function(l,y){return new(s(l))(y===0?0:y)}},function(u,c,i){var s=i(18);u.exports=function(l,y){var b=[][l];return!!b&&s(function(){b.call(null,y||function(){throw 1},1)})}},function(u,c){u.exports=function(i){if(!i.webpackPolyfill){var s=Object.create(i);s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),Object.defineProperty(s,"exports",{enumerable:!0}),s.webpackPolyfill=1}return s}},function(u,c,i){i(19);var s=i(15),l=i(44),y=i(102),b=i(18),x=i(27),S=i(57),P=x("species"),M=RegExp.prototype;u.exports=function(A,j,C,I){var z=x(A),X=!b(function(){var ne={};return ne[z]=function(){return 7},""[A](ne)!=7}),Y=X&&!b(function(){var ne=!1,Q=/a/;return A==="split"&&(Q={},Q.constructor={},Q.constructor[P]=function(){return Q},Q.flags="",Q[z]=/./[z]),Q.exec=function(){return ne=!0,null},Q[z](""),!ne});if(!X||!Y||C){var le=s(/./[z]),se=j(z,""[A],function(ne,Q,ee,_,U){var B=s(ne),w=Q.exec;return w===y||w===M.exec?X&&!U?{done:!0,value:le(Q,ee,_)}:{done:!0,value:B(ee,Q,_)}:{done:!1}});l(String.prototype,A,se[0]),l(M,z,se[1])}I&&S(M[z],"sham",!0)}},function(u,c,i){var s=i(146).charAt;u.exports=function(l,y,b){return y+(b?s(l,y).length:1)}},function(u,c,i){var s=i(7),l=i(35),y=i(32),b=i(28),x=i(50),S=i(102),P=s.TypeError;u.exports=function(M,A){var j=M.exec;if(b(j)){var C=l(j,M,A);return C!==null&&y(C),C}if(x(M)==="RegExp")return l(S,M,A);throw P("RegExp#exec called on incompatible receiver")}},function(u,c,i){var s=i(77),l=i(35),y=i(15),b=i(122),x=i(18),S=i(32),P=i(28),M=i(69),A=i(90),j=i(40),C=i(45),I=i(123),z=i(59),X=i(197),Y=i(124),le=i(27),se=le("replace"),ne=Math.max,Q=Math.min,ee=y([].concat),_=y([].push),U=y("".indexOf),B=y("".slice),w=function(ce){return ce===void 0?ce:String(ce)},R=function(){return"a".replace(/./,"$0")==="$0"}(),W=function(){return/./[se]?/./[se]("a","$0")==="":!1}(),Z=!x(function(){var ce=/./;return ce.exec=function(){var Pe=[];return Pe.groups={a:"7"},Pe},"".replace(ce,"$<a>")!=="7"});b("replace",function(ce,Pe,me){var be=W?"$":"$0";return[function(Oe,we){var Fe=C(this),Ve=Oe==null?void 0:z(Oe,se);return Ve?l(Ve,Oe,Fe,we):l(Pe,j(Fe),Oe,we)},function(Se,Oe){var we=S(this),Fe=j(Se);if(typeof Oe=="string"&&U(Oe,be)===-1&&U(Oe,"$<")===-1){var Ve=me(Pe,we,Fe,Oe);if(Ve.done)return Ve.value}var Le=P(Oe);Le||(Oe=j(Oe));var Ee=we.global;if(Ee){var _e=we.unicode;we.lastIndex=0}for(var Xe=[];;){var k=Y(we,Fe);if(k===null||(_(Xe,k),!Ee))break;var $=j(k[0]);$===""&&(we.lastIndex=I(Fe,A(we.lastIndex),_e))}for(var q="",he=0,xe=0;xe<Xe.length;xe++){k=Xe[xe];for(var pe=j(k[0]),Ge=ne(Q(M(k.index),Fe.length),0),tt=[],Ke=1;Ke<k.length;Ke++)_(tt,w(k[Ke]));var it=k.groups;if(Le){var ve=ee([pe],tt,Ge,Fe);it!==void 0&&_(ve,it);var st=j(s(Oe,void 0,ve))}else st=X(pe,Fe,Ge,tt,it,Oe);Ge>=he&&(q+=B(Fe,he,Ge)+st,he=Ge+pe.length)}return q+B(Fe,he)}]},!Z||!R||W)},function(u,c,i){var s=i(50),l=i(7);u.exports=s(l.process)=="process"},function(u,c,i){var s=i(16);s({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,c,i){var s=i(109);u.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,c,i){var s=i(36),l=i(18),y=i(86);u.exports=!s&&!l(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(u,c,i){var s=i(7),l=i(35),y=i(33),b=i(88),x=i(59),S=i(169),P=i(27),M=s.TypeError,A=P("toPrimitive");u.exports=function(j,C){if(!y(j)||b(j))return j;var I=x(j,A),z;if(I){if(C===void 0&&(C="default"),z=l(I,j,C),!y(z)||b(z))return z;throw M("Can't convert object to primitive value")}return C===void 0&&(C="number"),S(j,C)}},function(u,c,i){var s=i(15),l=i(34),y=i(39),b=i(132).indexOf,x=i(70),S=s([].push);u.exports=function(P,M){var A=y(P),j=0,C=[],I;for(I in A)!l(x,I)&&l(A,I)&&S(C,I);for(;M.length>j;)l(A,I=M[j++])&&(~b(C,I)||S(C,I));return C}},function(u,c,i){var s=i(39),l=i(68),y=i(43),b=function(x){return function(S,P,M){var A=s(S),j=y(A),C=l(M,j),I;if(x&&P!=P){for(;j>C;)if(I=A[C++],I!=I)return!0}else for(;j>C;C++)if((x||C in A)&&A[C]===P)return x||C||0;return!x&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}},function(u,c,i){var s=i(46);u.exports=s("document","documentElement")},function(u,c,i){var s=i(34),l=i(135),y=i(51),b=i(37);u.exports=function(x,S){for(var P=l(S),M=b.f,A=y.f,j=0;j<P.length;j++){var C=P[j];s(x,C)||M(x,C,A(S,C))}}},function(u,c,i){var s=i(46),l=i(15),y=i(73),b=i(112),x=i(32),S=l([].concat);u.exports=s("Reflect","ownKeys")||function(M){var A=y.f(x(M)),j=b.f;return j?S(A,j(M)):A}},function(u,c,i){var s=i(18),l=i(28),y=i(54),b=i(96),x=i(44),S=i(27),P=i(65),M=S("iterator"),A=!1,j,C,I;[].keys&&(I=[].keys(),"next"in I?(C=b(b(I)),C!==Object.prototype&&(j=C)):A=!0);var z=j==null||s(function(){var X={};return j[M].call(X)!==X});z?j={}:P&&(j=y(j)),l(j[M])||x(j,M,function(){return this}),u.exports={IteratorPrototype:j,BUGGY_SAFARI_ITERATORS:A}},function(u,c,i){var s=i(18);u.exports=!s(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},function(u,c,i){var s=i(16),l=i(15),y=i(70),b=i(33),x=i(34),S=i(37).f,P=i(73),M=i(139),A=i(174),j=i(85),C=i(176),I=!1,z=j("meta"),X=0,Y=function(_){S(_,z,{value:{objectID:"O"+X++,weakData:{}}})},le=function(_,U){if(!b(_))return typeof _=="symbol"?_:(typeof _=="string"?"S":"P")+_;if(!x(_,z)){if(!A(_))return"F";if(!U)return"E";Y(_)}return _[z].objectID},se=function(_,U){if(!x(_,z)){if(!A(_))return!0;if(!U)return!1;Y(_)}return _[z].weakData},ne=function(_){return C&&I&&A(_)&&!x(_,z)&&Y(_),_},Q=function(){ee.enable=function(){},I=!0;var _=P.f,U=l([].splice),B={};B[z]=1,_(B).length&&(P.f=function(w){for(var R=_(w),W=0,Z=R.length;W<Z;W++)if(R[W]===z){U(R,W,1);break}return R},s({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:M.f}))},ee=u.exports={enable:Q,fastKey:le,getWeakData:se,onFreeze:ne};y[z]=!0},function(u,c,i){var s=i(50),l=i(39),y=i(73).f,b=i(113),x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],S=function(P){try{return y(P)}catch(M){return b(x)}};u.exports.f=function(M){return x&&s(M)=="Window"?S(M):y(l(M))}},function(u,c,i){var s=i(27),l=i(71),y=s("iterator"),b=Array.prototype;u.exports=function(x){return x!==void 0&&(l.Array===x||b[y]===x)}},function(u,c,i){var s=i(7),l=i(35),y=i(55),b=i(32),x=i(89),S=i(115),P=s.TypeError;u.exports=function(M,A){var j=arguments.length<2?S(M):A;if(y(j))return b(l(j,M));throw P(x(M)+" is not iterable")}},function(u,c,i){var s=i(35),l=i(32),y=i(59);u.exports=function(b,x,S){var P,M;l(b);try{if(P=y(b,"return"),!P){if(x==="throw")throw S;return S}P=s(P,b)}catch(A){M=!0,P=A}if(x==="throw")throw S;if(M)throw P;return l(P),S}},function(u,c,i){var s=i(28),l=i(33),y=i(97);u.exports=function(b,x,S){var P,M;return y&&s(P=x.constructor)&&P!==S&&l(M=P.prototype)&&M!==S.prototype&&y(b,M),b}},function(u,c,i){var s=i(44);u.exports=function(l,y,b){for(var x in y)s(l,x,y[x],b);return l}},function(u,c,i){var s=i(46),l=i(37),y=i(27),b=i(36),x=y("species");u.exports=function(S){var P=s(S),M=l.f;b&&P&&!P[x]&&M(P,x,{configurable:!0,get:function(){return this}})}},function(u,c,i){var s=i(15),l=i(69),y=i(40),b=i(45),x=s("".charAt),S=s("".charCodeAt),P=s("".slice),M=function(A){return function(j,C){var I=y(b(j)),z=l(C),X=I.length,Y,le;return z<0||z>=X?A?"":void 0:(Y=S(I,z),Y<55296||Y>56319||z+1===X||(le=S(I,z+1))<56320||le>57343?A?x(I,z):Y:A?P(I,z,z+2):(Y-55296<<10)+(le-56320)+65536)}};u.exports={codeAt:M(!1),charAt:M(!0)}},function(u,c){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,c,i){var s=i(86),l=s("span").classList,y=l&&l.constructor&&l.constructor.prototype;u.exports=y===Object.prototype?void 0:y},function(u,c,i){var s=i(27);c.f=s},function(u,c,i){var s=i(181),l=i(34),y=i(149),b=i(37).f;u.exports=function(x){var S=s.Symbol||(s.Symbol={});l(S,x)||b(S,x,{value:y.f(x)})}},function(u,c,i){var s=i(18),l=i(7),y=l.RegExp,b=s(function(){var P=y("a","y");return P.lastIndex=2,P.exec("abcd")!=null}),x=b||s(function(){return!y("a","y").sticky}),S=b||s(function(){var P=y("^r","gy");return P.lastIndex=2,P.exec("str")!=null});u.exports={BROKEN_CARET:S,MISSED_STICKY:x,UNSUPPORTED_Y:b}},function(u,c,i){var s=i(16),l=i(132).includes,y=i(83);s({target:"Array",proto:!0},{includes:function(x){return l(this,x,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(u,c,i){var s=i(16),l=i(15),y=i(193),b=i(45),x=i(40),S=i(194),P=l("".indexOf);s({target:"String",proto:!0,forced:!S("includes")},{includes:function(A){return!!~P(x(b(this)),x(y(A)),arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var s=i(33),l=i(50),y=i(27),b=y("match");u.exports=function(x){var S;return s(x)&&((S=x[b])!==void 0?!!S:l(x)=="RegExp")}},function(u,c){var i=u.exports={},s,l;function y(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=y}catch(Y){s=y}try{typeof clearTimeout=="function"?l=clearTimeout:l=b}catch(Y){l=b}})();function x(Y){if(s===setTimeout)return setTimeout(Y,0);if((s===y||!s)&&setTimeout)return s=setTimeout,setTimeout(Y,0);try{return s(Y,0)}catch(le){try{return s.call(null,Y,0)}catch(se){return s.call(this,Y,0)}}}function S(Y){if(l===clearTimeout)return clearTimeout(Y);if((l===b||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(Y);try{return l(Y)}catch(le){try{return l.call(null,Y)}catch(se){return l.call(this,Y)}}}var P=[],M=!1,A,j=-1;function C(){!M||!A||(M=!1,A.length?P=A.concat(P):j=-1,P.length&&I())}function I(){if(!M){var Y=x(C);M=!0;for(var le=P.length;le;){for(A=P,P=[];++j<le;)A&&A[j].run();j=-1,le=P.length}A=null,M=!1,S(Y)}}i.nextTick=function(Y){var le=new Array(arguments.length-1);if(arguments.length>1)for(var se=1;se<arguments.length;se++)le[se-1]=arguments[se];P.push(new z(Y,le)),P.length===1&&!M&&x(I)};function z(Y,le){this.fun=Y,this.array=le}z.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function X(){}i.on=X,i.addListener=X,i.once=X,i.off=X,i.removeListener=X,i.removeAllListeners=X,i.emit=X,i.prependListener=X,i.prependOnceListener=X,i.listeners=function(Y){return[]},i.binding=function(Y){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(Y){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(u,c,i){var s=i(32),l=i(157),y=i(27),b=y("species");u.exports=function(x,S){var P=s(x).constructor,M;return P===void 0||(M=s(P)[b])==null?S:l(M)}},function(u,c,i){var s=i(7),l=i(100),y=i(89),b=s.TypeError;u.exports=function(x){if(l(x))return x;throw b(y(x)+" is not a constructor")}},function(u,c,i){var s=i(16),l=i(159).trim,y=i(195);s({target:"String",proto:!0,forced:y("trim")},{trim:function(){return l(this)}})},function(u,c,i){var s=i(15),l=i(45),y=i(40),b=i(160),x=s("".replace),S="["+b+"]",P=RegExp("^"+S+S+"*"),M=RegExp(S+S+"*$"),A=function(j){return function(C){var I=y(l(C));return j&1&&(I=x(I,P,"")),j&2&&(I=x(I,M,"")),I}};u.exports={start:A(1),end:A(2),trim:A(3)}},function(u,c){u.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(u,c,i){var s=i(35),l=i(122),y=i(32),b=i(90),x=i(40),S=i(45),P=i(59),M=i(123),A=i(124);l("match",function(j,C,I){return[function(X){var Y=S(this),le=X==null?void 0:P(X,j);return le?s(le,X,Y):new RegExp(X)[j](x(Y))},function(z){var X=y(this),Y=x(z),le=I(C,X,Y);if(le.done)return le.value;if(!X.global)return A(X,Y);var se=X.unicode;X.lastIndex=0;for(var ne=[],Q=0,ee;(ee=A(X,Y))!==null;){var _=x(ee[0]);ne[Q]=_,_===""&&(X.lastIndex=M(Y,b(X.lastIndex),se)),Q++}return Q===0?null:ne}]})},function(u,c,i){var s=i(7),l=i(77),y=i(62),b=i(28),x=i(34),S=i(18),P=i(133),M=i(101),A=i(86),j=i(163),C=i(126),I=s.setImmediate,z=s.clearImmediate,X=s.process,Y=s.Dispatch,le=s.Function,se=s.MessageChannel,ne=s.String,Q=0,ee={},_="onreadystatechange",U,B,w,R;try{U=s.location}catch(me){}var W=function(me){if(x(ee,me)){var be=ee[me];delete ee[me],be()}},Z=function(me){return function(){W(me)}},ce=function(me){W(me.data)},Pe=function(me){s.postMessage(ne(me),U.protocol+"//"+U.host)};(!I||!z)&&(I=function(be){var Se=M(arguments,1);return ee[++Q]=function(){l(b(be)?be:le(be),void 0,Se)},B(Q),Q},z=function(be){delete ee[be]},C?B=function(me){X.nextTick(Z(me))}:Y&&Y.now?B=function(me){Y.now(Z(me))}:se&&!j?(w=new se,R=w.port2,w.port1.onmessage=ce,B=y(R.postMessage,R)):s.addEventListener&&b(s.postMessage)&&!s.importScripts&&U&&U.protocol!=="file:"&&!S(Pe)?(B=Pe,s.addEventListener("message",ce,!1)):_ in A("script")?B=function(me){P.appendChild(A("script"))[_]=function(){P.removeChild(this),W(me)}}:B=function(me){setTimeout(Z(me),0)}),u.exports={set:I,clear:z}},function(u,c,i){var s=i(53);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},function(u,c,i){var s=i(55),l=function(y){var b,x;this.promise=new y(function(S,P){if(b!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");b=S,x=P}),this.resolve=s(b),this.reject=s(x)};u.exports.f=function(y){return new l(y)}},function(u,c,i){function s(){return!1}c.a=s},function(u,c,i){(function(s){i.d(c,"a",function(){return Q});var l=i(0);function y(_){throw new Error("[mobx-utils] "+_)}function b(_,U){U===void 0&&(U="Illegal state"),_||y(U)}var x=function(_){return _&&_!==Object.prototype&&Object.getOwnPropertyNames(_).concat(x(Object.getPrototypeOf(_))||[])},S=function(_){var U=x(_),B=U.filter(function(w,R){return U.indexOf(w)===R});return B},P=function(_){return S(_).filter(function(U){return U!=="constructor"&&!~U.indexOf("__")})},M="pending",A="fulfilled",j="rejected";function C(_){switch(this.state){case M:return _.pending&&_.pending(this.value);case j:return _.rejected&&_.rejected(this.value);case A:return _.fulfilled?_.fulfilled(this.value):this.value}}function I(_,U){if(b(arguments.length<=2,"fromPromise expects up to two arguments"),b(typeof _=="function"||typeof _=="object"&&_&&typeof _.then=="function","Please pass a promise or function to fromPromise"),_.isPromiseBasedObservable===!0)return _;typeof _=="function"&&(_=new Promise(_));var B=_;_.then(Object(l.k)("observableFromPromise-resolve",function(R){B.value=R,B.state=A}),Object(l.k)("observableFromPromise-reject",function(R){B.value=R,B.state=j})),B.isPromiseBasedObservable=!0,B.case=C;var w=U&&U.state===A?U.value:void 0;return Object(l.q)(B,{value:w,state:M},{},{deep:!1}),B}(function(_){_.reject=Object(l.k)("fromPromise.reject",function(B){var w=_(Promise.reject(B));return w.state=j,w.value=B,w});function U(B){B===void 0&&(B=void 0);var w=_(Promise.resolve(B));return w.state=A,w.value=B,w}_.resolve=Object(l.k)("fromPromise.resolve",U)})(I||(I={}));var z=function(_,U,B,w){var R=arguments.length,W=R<3?U:w===null?w=Object.getOwnPropertyDescriptor(U,B):w,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(_,U,B,w);else for(var ce=_.length-1;ce>=0;ce--)(Z=_[ce])&&(W=(R<3?Z(W):R>3?Z(U,B,W):Z(U,B))||W);return R>3&&W&&Object.defineProperty(U,B,W),W};(function(){function _(U,B){var w=this;Object(l.G)(function(){w.current=B,w.subscription=U.subscribe(w)})}return _.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},_.prototype.next=function(U){this.current=U},_.prototype.complete=function(){this.dispose()},_.prototype.error=function(U){this.current=U,this.dispose()},z([l.C.ref],_.prototype,"current",void 0),z([l.k.bound],_.prototype,"next",null),z([l.k.bound],_.prototype,"complete",null),z([l.k.bound],_.prototype,"error",null),_})();var X=function(){return X=Object.assign||function(_){for(var U,B=1,w=arguments.length;B<w;B++){U=arguments[B];for(var R in U)Object.prototype.hasOwnProperty.call(U,R)&&(_[R]=U[R])}return _},X.apply(this,arguments)},Y=function(_,U,B,w){var R=arguments.length,W=R<3?U:w===null?w=Object.getOwnPropertyDescriptor(U,B):w,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(_,U,B,w);else for(var ce=_.length-1;ce>=0;ce--)(Z=_[ce])&&(W=(R<3?Z(W):R>3?Z(U,B,W):Z(U,B))||W);return R>3&&W&&Object.defineProperty(U,B,W),W},le=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function _(U){var B=this;this.model=U,this.localValues=l.C.map({}),this.localComputedValues=l.C.map({}),this.isPropertyDirty=function(w){return B.localValues.has(w)},b(Object(l.A)(U),"createViewModel expects an observable object"),P(U).forEach(function(w){if(!(w===l.a||w==="__mobxDidRunLazyInitializers")){if(b(le.indexOf(w)===-1,"The propertyname "+w+" is reserved and cannot be used with viewModels"),Object(l.w)(U,w)){var R=Object(l.h)(U,w).derivation;B.localComputedValues.set(w,Object(l.m)(R.bind(B)))}var W=Object.getOwnPropertyDescriptor(U,w),Z=W?{enumerable:W.enumerable}:{};Object.defineProperty(B,w,X(X({},Z),{configurable:!0,get:function(){return Object(l.w)(U,w)?B.localComputedValues.get(w).get():B.isPropertyDirty(w)?B.localValues.get(w):B.model[w]},set:Object(l.k)(function(ce){ce!==B.model[w]?B.localValues.set(w,ce):B.localValues.delete(w)})}))}})}return Object.defineProperty(_.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),_.prototype.submit=function(){var U=this;Object(l.B)(this.localValues).forEach(function(B){var w=U.localValues.get(B),R=U.model[B];Object(l.y)(R)?R.replace(w):Object(l.z)(R)?(R.clear(),R.merge(w)):Object(l.v)(w)||(U.model[B]=w)}),this.localValues.clear()},_.prototype.reset=function(){this.localValues.clear()},_.prototype.resetProperty=function(U){this.localValues.delete(U)},Y([l.m],_.prototype,"isDirty",null),Y([l.m],_.prototype,"changedValues",null),Y([l.k.bound],_.prototype,"submit",null),Y([l.k.bound],_.prototype,"reset",null),Y([l.k.bound],_.prototype,"resetProperty",null),_})();function se(_){if(!_)return"ROOT";for(var U=[];_.parent;)U.push(_.path),_=_.parent;return U.reverse().join("/")}function ne(_){return Object(l.A)(_)||Object(l.y)(_)||Object(l.z)(_)}function Q(_,U){var B=new WeakMap;function w(ce){var Pe=B.get(ce.object);R(ce,Pe),U(ce,se(Pe),_)}function R(ce,Pe){switch(ce.type){case"add":W(ce.newValue,Pe,ce.name);break;case"update":Z(ce.oldValue),W(ce.newValue,Pe,ce.name||""+ce.index);break;case"remove":case"delete":Z(ce.oldValue);break;case"splice":ce.removed.map(Z),ce.added.forEach(function(Se,Oe){return W(Se,Pe,""+(ce.index+Oe))});for(var me=ce.index+ce.addedCount;me<ce.object.length;me++)if(ne(ce.object[me])){var be=B.get(ce.object[me]);be&&(be.path=""+me)}break}}function W(ce,Pe,me){if(ne(ce)){var be=B.get(ce);if(be){if(be.parent!==Pe||be.path!==me)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+se(Pe)+"/"+me+"',")+(" but it already exists at '"+se(be.parent)+"/"+be.path+"'"))}else{var Se={parent:Pe,path:me,dispose:Object(l.D)(ce,w)};B.set(ce,Se),Object(l.p)(ce).forEach(function(Oe){var we=Oe[0],Fe=Oe[1];return W(Fe,Se,we)})}}}function Z(ce){if(ne(ce)){var Pe=B.get(ce);if(!Pe)return;B.delete(ce),Pe.dispose(),Object(l.L)(ce).forEach(Z)}}return W(_,void 0,""),function(){Z(_)}}var ee=function(){var _=function(U,B){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,R){w.__proto__=R}||function(w,R){for(var W in R)R.hasOwnProperty(W)&&(w[W]=R[W])},_(U,B)};return function(U,B){_(U,B);function w(){this.constructor=U}U.prototype=B===null?Object.create(B):(w.prototype=B.prototype,new w)}}();(function(_){ee(U,_);function U(B,w,R){var W=R===void 0?{}:R,Z=W.name,ce=Z===void 0?"ogm"+(Math.random()*1e3|0):Z,Pe=W.keyToName,me=Pe===void 0?function(Oe){return""+Oe}:Pe,be=_.call(this)||this;be._keyToName=me,be._groupBy=w,be._ogmInfoKey=Symbol("ogmInfo"+ce),be._base=B;for(var Se=0;Se<B.length;Se++)be._addItem(B[Se]);return be._disposeBaseObserver=Object(l.D)(be._base,function(Oe){if(Oe.type==="splice")Object(l.J)(function(){for(var we=0,Fe=Oe.removed;we<Fe.length;we++){var Ve=Fe[we];be._removeItem(Ve)}for(var Le=0,Ee=Oe.added;Le<Ee.length;Le++){var _e=Ee[Le];be._addItem(_e)}});else if(Oe.type==="update")Object(l.J)(function(){be._removeItem(Oe.oldValue),be._addItem(Oe.newValue)});else throw new Error("illegal state")}),be}return U.prototype.clear=function(){throw new Error("not supported")},U.prototype.delete=function(B){throw new Error("not supported")},U.prototype.set=function(B,w){throw new Error("not supported")},U.prototype.dispose=function(){this._disposeBaseObserver();for(var B=0;B<this._base.length;B++){var w=this._base[B],R=w[this._ogmInfoKey];R.reaction(),delete w[this._ogmInfoKey]}},U.prototype._getGroupArr=function(B){var w=_.prototype.get.call(this,B);return w===void 0&&(w=Object(l.C)([],{name:"GroupArray["+this._keyToName(B)+"]",deep:!1}),_.prototype.set.call(this,B,w)),w},U.prototype._removeFromGroupArr=function(B,w){var R=_.prototype.get.call(this,B);R.length===1?_.prototype.delete.call(this,B):(w===R.length-1||(R[w]=R[R.length-1],R[w][this._ogmInfoKey].groupArrIndex=w),R.length--)},U.prototype._addItem=function(B){var w=this,R=this._groupBy(B),W=this._getGroupArr(R),Z={groupByValue:R,groupArrIndex:W.length,reaction:Object(l.F)(function(){return w._groupBy(B)},function(ce,Pe){var me=B[w._ogmInfoKey];w._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var be=w._getGroupArr(ce),Se=be.length;be.push(B),me.groupByValue=ce,me.groupArrIndex=Se})};Object.defineProperty(B,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:Z}),W.push(B)},U.prototype._removeItem=function(B){var w=B[this._ogmInfoKey];this._removeFromGroupArr(w.groupByValue,w.groupArrIndex),w.reaction(),delete B[this._ogmInfoKey]},U})(l.b),Promise.resolve(),typeof queueMicrotask!="undefined"||typeof s!="undefined"&&s.nextTick}).call(this,i(155))},function(u,c,i){var s;(function(l,y,b){if(!l)return;for(var x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},M={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},A,j=1;j<20;++j)x[111+j]="f"+j;for(j=0;j<=9;++j)x[j+96]=j.toString();function C(w,R,W){if(w.addEventListener){w.addEventListener(R,W,!1);return}w.attachEvent("on"+R,W)}function I(w){if(w.type=="keypress"){var R=String.fromCharCode(w.which);return w.shiftKey||(R=R.toLowerCase()),R}return x[w.which]?x[w.which]:S[w.which]?S[w.which]:String.fromCharCode(w.which).toLowerCase()}function z(w,R){return w.sort().join(",")===R.sort().join(",")}function X(w){var R=[];return w.shiftKey&&R.push("shift"),w.altKey&&R.push("alt"),w.ctrlKey&&R.push("ctrl"),w.metaKey&&R.push("meta"),R}function Y(w){if(w.preventDefault){w.preventDefault();return}w.returnValue=!1}function le(w){if(w.stopPropagation){w.stopPropagation();return}w.cancelBubble=!0}function se(w){return w=="shift"||w=="ctrl"||w=="alt"||w=="meta"}function ne(){if(!A){A={};for(var w in x)w>95&&w<112||x.hasOwnProperty(w)&&(A[x[w]]=w)}return A}function Q(w,R,W){return W||(W=ne()[w]?"keydown":"keypress"),W=="keypress"&&R.length&&(W="keydown"),W}function ee(w){return w==="+"?["+"]:(w=w.replace(/\+{2}/g,"+plus"),w.split("+"))}function _(w,R){var W,Z,ce,Pe=[];for(W=ee(w),ce=0;ce<W.length;++ce)Z=W[ce],M[Z]&&(Z=M[Z]),R&&R!="keypress"&&P[Z]&&(Z=P[Z],Pe.push("shift")),se(Z)&&Pe.push(Z);return R=Q(Z,Pe,R),{key:Z,modifiers:Pe,action:R}}function U(w,R){return w===null||w===y?!1:w===R?!0:U(w.parentNode,R)}function B(w){var R=this;if(w=w||y,!(R instanceof B))return new B(w);R.target=w,R._callbacks={},R._directMap={};var W={},Z,ce=!1,Pe=!1,me=!1;function be(Ee){Ee=Ee||{};var _e=!1,Xe;for(Xe in W){if(Ee[Xe]){_e=!0;continue}W[Xe]=0}_e||(me=!1)}function Se(Ee,_e,Xe,k,$,q){var he,xe,pe=[],Ge=Xe.type;if(!R._callbacks[Ee])return[];for(Ge=="keyup"&&se(Ee)&&(_e=[Ee]),he=0;he<R._callbacks[Ee].length;++he)if(xe=R._callbacks[Ee][he],!(!k&&xe.seq&&W[xe.seq]!=xe.level)&&Ge==xe.action&&(Ge=="keypress"&&!Xe.metaKey&&!Xe.ctrlKey||z(_e,xe.modifiers))){var tt=!k&&xe.combo==$,Ke=k&&xe.seq==k&&xe.level==q;(tt||Ke)&&R._callbacks[Ee].splice(he,1),pe.push(xe)}return pe}function Oe(Ee,_e,Xe,k){R.stopCallback(_e,_e.target||_e.srcElement,Xe,k)||Ee(_e,Xe)===!1&&(Y(_e),le(_e))}R._handleKey=function(Ee,_e,Xe){var k=Se(Ee,_e,Xe),$,q={},he=0,xe=!1;for($=0;$<k.length;++$)k[$].seq&&(he=Math.max(he,k[$].level));for($=0;$<k.length;++$){if(k[$].seq){if(k[$].level!=he)continue;xe=!0,q[k[$].seq]=1,Oe(k[$].callback,Xe,k[$].combo,k[$].seq);continue}xe||Oe(k[$].callback,Xe,k[$].combo)}var pe=Xe.type=="keypress"&&Pe;Xe.type==me&&!se(Ee)&&!pe&&be(q),Pe=xe&&Xe.type=="keydown"};function we(Ee){typeof Ee.which!="number"&&(Ee.which=Ee.keyCode);var _e=I(Ee);if(_e){if(Ee.type=="keyup"&&ce===_e){ce=!1;return}R.handleKey(_e,X(Ee),Ee)}}function Fe(){clearTimeout(Z),Z=setTimeout(be,1e3)}function Ve(Ee,_e,Xe,k){W[Ee]=0;function $(Ge){return function(){me=Ge,++W[Ee],Fe()}}function q(Ge){Oe(Xe,Ge,Ee),k!=="keyup"&&(ce=I(Ge)),setTimeout(be,10)}for(var he=0;he<_e.length;++he){var xe=he+1===_e.length,pe=xe?q:$(k||_(_e[he+1]).action);Le(_e[he],pe,k,Ee,he)}}function Le(Ee,_e,Xe,k,$){R._directMap[Ee+":"+Xe]=_e,Ee=Ee.replace(/\s+/g," ");var q=Ee.split(" "),he;if(q.length>1){Ve(Ee,q,_e,Xe);return}he=_(Ee,Xe),R._callbacks[he.key]=R._callbacks[he.key]||[],Se(he.key,he.modifiers,{type:he.action},k,Ee,$),R._callbacks[he.key][k?"unshift":"push"]({callback:_e,modifiers:he.modifiers,action:he.action,seq:k,level:$,combo:Ee})}R._bindMultiple=function(Ee,_e,Xe){for(var k=0;k<Ee.length;++k)Le(Ee[k],_e,Xe)},C(w,"keypress",we),C(w,"keydown",we),C(w,"keyup",we)}B.prototype.bind=function(w,R,W){var Z=this;return w=w instanceof Array?w:[w],Z._bindMultiple.call(Z,w,R,W),Z},B.prototype.unbind=function(w,R){var W=this;return W.bind.call(W,w,function(){},R)},B.prototype.trigger=function(w,R){var W=this;return W._directMap[w+":"+R]&&W._directMap[w+":"+R]({},w),W},B.prototype.reset=function(){var w=this;return w._callbacks={},w._directMap={},w},B.prototype.stopCallback=function(w,R){var W=this;if((" "+R.className+" ").indexOf(" mousetrap ")>-1||U(R,W.target))return!1;if("composedPath"in w&&typeof w.composedPath=="function"){var Z=w.composedPath()[0];Z!==w.target&&(R=Z)}return R.tagName=="INPUT"||R.tagName=="SELECT"||R.tagName=="TEXTAREA"||R.isContentEditable},B.prototype.handleKey=function(){var w=this;return w._handleKey.apply(w,arguments)},B.addKeycodes=function(w){for(var R in w)w.hasOwnProperty(R)&&(x[R]=w[R]);A=null},B.init=function(){var w=B(y);for(var R in w)R.charAt(0)!=="_"&&(B[R]=function(W){return function(){return w[W].apply(w,arguments)}}(R))},B.init(),l.Mousetrap=B,u.exports&&(u.exports=B),s=function(){return B}.call(c,i,c,u),s!==b&&(u.exports=s)})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(u,c,i){var s=i(36),l=i(37),y=i(32),b=i(39),x=i(67);u.exports=s?Object.defineProperties:function(P,M){y(P);for(var A=b(M),j=x(M),C=j.length,I=0,z;C>I;)l.f(P,z=j[I++],A[z]);return P}},function(u,c,i){var s=i(7),l=i(35),y=i(28),b=i(33),x=s.TypeError;u.exports=function(S,P){var M,A;if(P==="string"&&y(M=S.toString)&&!b(A=l(M,S))||y(M=S.valueOf)&&!b(A=l(M,S))||P!=="string"&&y(M=S.toString)&&!b(A=l(M,S)))return A;throw x("Can't convert object to primitive value")}},function(u,c,i){var s=i(7),l=i(28),y=i(92),b=s.WeakMap;u.exports=l(b)&&/native code/.test(y(b))},function(u,c,i){var s=i(136).IteratorPrototype,l=i(54),y=i(72),b=i(74),x=i(71),S=function(){return this};u.exports=function(P,M,A,j){var C=M+" Iterator";return P.prototype=l(s,{next:y(+!j,A)}),b(P,C,!1,!0),x[C]=S,P}},function(u,c,i){var s=i(7),l=i(28),y=s.String,b=s.TypeError;u.exports=function(x){if(typeof x=="object"||l(x))return x;throw b("Can't set "+y(x)+" as a prototype")}},function(u,c,i){var s=i(16),l=i(7),y=i(15),b=i(95),x=i(44),S=i(138),P=i(114),M=i(117),A=i(28),j=i(33),C=i(18),I=i(118),z=i(74),X=i(143);u.exports=function(Y,le,se){var ne=Y.indexOf("Map")!==-1,Q=Y.indexOf("Weak")!==-1,ee=ne?"set":"add",_=l[Y],U=_&&_.prototype,B=_,w={},R=function(Se){var Oe=y(U[Se]);x(U,Se,Se=="add"?function(Fe){return Oe(this,Fe===0?0:Fe),this}:Se=="delete"?function(we){return Q&&!j(we)?!1:Oe(this,we===0?0:we)}:Se=="get"?function(Fe){return Q&&!j(Fe)?void 0:Oe(this,Fe===0?0:Fe)}:Se=="has"?function(Fe){return Q&&!j(Fe)?!1:Oe(this,Fe===0?0:Fe)}:function(Fe,Ve){return Oe(this,Fe===0?0:Fe,Ve),this})},W=b(Y,!A(_)||!(Q||U.forEach&&!C(function(){new _().entries().next()})));if(W)B=se.getConstructor(le,Y,ne,ee),S.enable();else if(b(Y,!0)){var Z=new B,ce=Z[ee](Q?{}:-0,1)!=Z,Pe=C(function(){Z.has(1)}),me=I(function(Se){new _(Se)}),be=!Q&&C(function(){for(var Se=new _,Oe=5;Oe--;)Se[ee](Oe,Oe);return!Se.has(-0)});me||(B=le(function(Se,Oe){M(Se,U);var we=X(new _,Se,B);return Oe!=null&&P(Oe,we[ee],{that:we,AS_ENTRIES:ne}),we}),B.prototype=U,U.constructor=B),(Pe||be)&&(R("delete"),R("has"),ne&&R("get")),(be||ce)&&R(ee),Q&&U.clear&&delete U.clear}return w[Y]=B,s({global:!0,forced:B!=_},w),z(B,Y),Q||se.setStrong(B,Y,ne),B}},function(u,c,i){var s=i(18),l=i(33),y=i(50),b=i(175),x=Object.isExtensible,S=s(function(){});u.exports=S||b?function(M){return!l(M)||b&&y(M)=="ArrayBuffer"?!1:x?x(M):!0}:x},function(u,c,i){var s=i(18);u.exports=s(function(){if(typeof ArrayBuffer=="function"){var l=new ArrayBuffer(8);Object.isExtensible(l)&&Object.defineProperty(l,"a",{value:8})}})},function(u,c,i){var s=i(18);u.exports=!s(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,c,i){var s=i(37).f,l=i(54),y=i(144),b=i(62),x=i(117),S=i(114),P=i(111),M=i(145),A=i(36),j=i(138).fastKey,C=i(56),I=C.set,z=C.getterFor;u.exports={getConstructor:function(X,Y,le,se){var ne=X(function(B,w){x(B,Q),I(B,{type:Y,index:l(null),first:void 0,last:void 0,size:0}),A||(B.size=0),w!=null&&S(w,B[se],{that:B,AS_ENTRIES:le})}),Q=ne.prototype,ee=z(Y),_=function(B,w,R){var W=ee(B),Z=U(B,w),ce,Pe;return Z?Z.value=R:(W.last=Z={index:Pe=j(w,!0),key:w,value:R,previous:ce=W.last,next:void 0,removed:!1},W.first||(W.first=Z),ce&&(ce.next=Z),A?W.size++:B.size++,Pe!=="F"&&(W.index[Pe]=Z)),B},U=function(B,w){var R=ee(B),W=j(w),Z;if(W!=="F")return R.index[W];for(Z=R.first;Z;Z=Z.next)if(Z.key==w)return Z};return y(Q,{clear:function(){for(var w=this,R=ee(w),W=R.index,Z=R.first;Z;)Z.removed=!0,Z.previous&&(Z.previous=Z.previous.next=void 0),delete W[Z.index],Z=Z.next;R.first=R.last=void 0,A?R.size=0:w.size=0},delete:function(B){var w=this,R=ee(w),W=U(w,B);if(W){var Z=W.next,ce=W.previous;delete R.index[W.index],W.removed=!0,ce&&(ce.next=Z),Z&&(Z.previous=ce),R.first==W&&(R.first=Z),R.last==W&&(R.last=ce),A?R.size--:w.size--}return!!W},forEach:function(w){for(var R=ee(this),W=b(w,arguments.length>1?arguments[1]:void 0),Z;Z=Z?Z.next:R.first;)for(W(Z.value,Z.key,this);Z&&Z.removed;)Z=Z.previous},has:function(w){return!!U(this,w)}}),y(Q,le?{get:function(w){var R=U(this,w);return R&&R.value},set:function(w,R){return _(this,w===0?0:w,R)}}:{add:function(w){return _(this,w=w===0?0:w,w)}}),A&&s(Q,"size",{get:function(){return ee(this).size}}),ne},setStrong:function(X,Y,le){var se=Y+" Iterator",ne=z(Y),Q=z(se);P(X,Y,function(ee,_){I(this,{type:se,target:ee,state:ne(ee),kind:_,last:void 0})},function(){for(var ee=Q(this),_=ee.kind,U=ee.last;U&&U.removed;)U=U.previous;return!ee.target||!(ee.last=U=U?U.next:ee.state.first)?(ee.target=void 0,{value:void 0,done:!0}):_=="keys"?{value:U.key,done:!1}:_=="values"?{value:U.value,done:!1}:{value:[U.key,U.value],done:!1}},le?"entries":"values",!le,!0),M(Y)}}},function(u,c,i){var s=i(116),l=i(98);u.exports=s?{}.toString:function(){return"[object "+l(this)+"]"}},function(u,c,i){var s=i(75).forEach,l=i(120),y=l("forEach");u.exports=y?[].forEach:function(x){return s(this,x,arguments.length>1?arguments[1]:void 0)}},function(u,c,i){var s=i(7),l=i(99),y=i(100),b=i(33),x=i(27),S=x("species"),P=s.Array;u.exports=function(M){var A;return l(M)&&(A=M.constructor,y(A)&&(A===P||l(A.prototype))?A=void 0:b(A)&&(A=A[S],A===null&&(A=void 0))),A===void 0?P:A}},function(u,c,i){var s=i(7);u.exports=s},function(u,c,i){var s=i(7),l=i(62),y=i(35),b=i(38),x=i(183),S=i(140),P=i(100),M=i(43),A=i(61),j=i(141),C=i(115),I=s.Array;u.exports=function(X){var Y=b(X),le=P(this),se=arguments.length,ne=se>1?arguments[1]:void 0,Q=ne!==void 0;Q&&(ne=l(ne,se>2?arguments[2]:void 0));var ee=C(Y),_=0,U,B,w,R,W,Z;if(ee&&!(this==I&&S(ee)))for(R=j(Y,ee),W=R.next,B=le?new this:[];!(w=y(W,R)).done;_++)Z=Q?x(R,ne,[w.value,_],!0):w.value,A(B,_,Z);else for(U=M(Y),B=le?new this(U):I(U);U>_;_++)Z=Q?ne(Y[_],_):Y[_],A(B,_,Z);return B.length=_,B}},function(u,c,i){var s=i(32),l=i(142);u.exports=function(y,b,x,S){try{return S?b(s(x)[0],x[1]):b(x)}catch(P){l(y,"throw",P)}}},function(u,c,i){var s=i(32);u.exports=function(){var l=s(this),y="";return l.global&&(y+="g"),l.ignoreCase&&(y+="i"),l.multiline&&(y+="m"),l.dotAll&&(y+="s"),l.unicode&&(y+="u"),l.sticky&&(y+="y"),y}},function(u,c,i){var s=i(18),l=i(7),y=l.RegExp;u.exports=s(function(){var b=y(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(u,c,i){var s=i(18),l=i(7),y=l.RegExp;u.exports=s(function(){var b=y("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(u,c,i){var s=i(16),l=i(15),y=i(55),b=i(38),x=i(43),S=i(40),P=i(18),M=i(188),A=i(120),j=i(189),C=i(190),I=i(66),z=i(191),X=[],Y=l(X.sort),le=l(X.push),se=P(function(){X.sort(void 0)}),ne=P(function(){X.sort(null)}),Q=A("sort"),ee=!P(function(){if(I)return I<70;if(!(j&&j>3)){if(C)return!0;if(z)return z<603;var B="",w,R,W,Z;for(w=65;w<76;w++){switch(R=String.fromCharCode(w),w){case 66:case 69:case 70:case 72:W=3;break;case 68:case 71:W=4;break;default:W=2}for(Z=0;Z<47;Z++)X.push({k:R+Z,v:W})}for(X.sort(function(ce,Pe){return Pe.v-ce.v}),Z=0;Z<X.length;Z++)R=X[Z].k.charAt(0),B.charAt(B.length-1)!==R&&(B+=R);return B!=="DGBEFHACIJK"}}),_=se||!ne||!Q||!ee,U=function(B){return function(w,R){return R===void 0?-1:w===void 0?1:B!==void 0?+B(w,R)||0:S(w)>S(R)?1:-1}};s({target:"Array",proto:!0,forced:_},{sort:function(w){w!==void 0&&y(w);var R=b(this);if(ee)return w===void 0?Y(R):Y(R,w);var W=[],Z=x(R),ce,Pe;for(Pe=0;Pe<Z;Pe++)Pe in R&&le(W,R[Pe]);for(M(W,U(w)),ce=W.length,Pe=0;Pe<ce;)R[Pe]=W[Pe++];for(;Pe<Z;)delete R[Pe++];return R}})},function(u,c,i){var s=i(113),l=Math.floor,y=function(S,P){var M=S.length,A=l(M/2);return M<8?b(S,P):x(S,y(s(S,0,A),P),y(s(S,A),P),P)},b=function(S,P){for(var M=S.length,A=1,j,C;A<M;){for(C=A,j=S[A];C&&P(S[C-1],j)>0;)S[C]=S[--C];C!==A++&&(S[C]=j)}return S},x=function(S,P,M,A){for(var j=P.length,C=M.length,I=0,z=0;I<j||z<C;)S[I+z]=I<j&&z<C?A(P[I],M[z])<=0?P[I++]:M[z++]:I<j?P[I++]:M[z++];return S};u.exports=y},function(u,c,i){var s=i(53),l=s.match(/firefox\/(\d+)/i);u.exports=!!l&&+l[1]},function(u,c,i){var s=i(53);u.exports=/MSIE|Trident/.test(s)},function(u,c,i){var s=i(53),l=s.match(/AppleWebKit\/(\d+)\./);u.exports=!!l&&+l[1]},function(u,c,i){var s=i(16),l=i(75).find,y=i(83),b="find",x=!0;b in[]&&Array(1)[b](function(){x=!1}),s({target:"Array",proto:!0,forced:x},{find:function(P){return l(this,P,arguments.length>1?arguments[1]:void 0)}}),y(b)},function(u,c,i){var s=i(7),l=i(154),y=s.TypeError;u.exports=function(b){if(l(b))throw y("The method doesn't accept regular expressions");return b}},function(u,c,i){var s=i(27),l=s("match");u.exports=function(y){var b=/./;try{"/./"[y](b)}catch(x){try{return b[l]=!1,"/./"[y](b)}catch(S){}}return!1}},function(u,c,i){var s=i(94).PROPER,l=i(18),y=i(160),b="​᠎";u.exports=function(x){return l(function(){return!!y[x]()||b[x]()!==b||s&&y[x].name!==x})}},function(u,c,i){var s=i(15);u.exports=s(1 .valueOf)},function(u,c,i){var s=i(15),l=i(38),y=Math.floor,b=s("".charAt),x=s("".replace),S=s("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,M=/\$([$&'`]|\d{1,2})/g;u.exports=function(A,j,C,I,z,X){var Y=C+A.length,le=I.length,se=M;return z!==void 0&&(z=l(z),se=P),x(X,se,function(ne,Q){var ee;switch(b(Q,0)){case"$":return"$";case"&":return A;case"`":return S(j,0,C);case"'":return S(j,Y);case"<":ee=z[S(Q,1,-1)];break;default:var _=+Q;if(_===0)return ne;if(_>le){var U=y(_/10);return U===0?ne:U<=le?I[U-1]===void 0?b(Q,1):I[U-1]+b(Q,1):ne}ee=I[_-1]}return ee===void 0?"":ee})}},function(u,c,i){var s=i(36),l=i(15),y=i(35),b=i(18),x=i(67),S=i(112),P=i(93),M=i(38),A=i(81),j=Object.assign,C=Object.defineProperty,I=l([].concat);u.exports=!j||b(function(){if(s&&j({b:1},j(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var z={},X={},Y=Symbol(),le="abcdefghijklmnopqrst";return z[Y]=7,le.split("").forEach(function(se){X[se]=se}),j({},z)[Y]!=7||x(j({},X)).join("")!=le})?function(X,Y){for(var le=M(X),se=arguments.length,ne=1,Q=S.f,ee=P.f;se>ne;)for(var _=A(arguments[ne++]),U=Q?I(x(_),Q(_)):x(_),B=U.length,w=0,R;B>w;)R=U[w++],(!s||y(ee,_,R))&&(le[R]=_[R]);return le}:j},function(u,c,i){var s=i(7),l=i(15),y=i(55),b=i(33),x=i(34),S=i(101),P=s.Function,M=l([].concat),A=l([].join),j={},C=function(I,z,X){if(!x(j,z)){for(var Y=[],le=0;le<z;le++)Y[le]="a["+le+"]";j[z]=P("C,a","return new C("+A(Y,",")+")")}return j[z](I,X)};u.exports=P.bind||function(z){var X=y(this),Y=X.prototype,le=S(arguments,1),se=function(){var Q=M(le,S(arguments));return this instanceof se?C(X,Q.length,Q):X.apply(z,Q)};return b(Y)&&(se.prototype=Y),se}},function(u,c,i){var s=i(34);u.exports=function(l){return l!==void 0&&(s(l,"value")||s(l,"writable"))}},function(u,c,i){var s=i(15),l=i(45),y=i(40),b=/"/g,x=s("".replace);u.exports=function(S,P,M,A){var j=y(l(S)),C="<"+P;return M!==""&&(C+=" "+M+'="'+x(y(A),b,"&quot;")+'"'),C+">"+j+"</"+P+">"}},function(u,c,i){var s=i(18);u.exports=function(l){return s(function(){var y=""[l]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(u,c,i){var s=i(16),l=Math.hypot,y=Math.abs,b=Math.sqrt,x=!!l&&l(1/0,NaN)!==1/0;s({target:"Math",stat:!0,forced:x},{hypot:function(P,M){for(var A=0,j=0,C=arguments.length,I=0,z,X;j<C;)z=y(arguments[j++]),I<z?(X=I/z,A=A*X*X+1,I=z):z>0?(X=z/I,A+=X*X):A+=z;return I===1/0?1/0:I*b(A)}})},function(u,c,i){var s=i(16),l=i(65),y=i(7),b=i(46),x=i(35),S=i(205),P=i(44),M=i(144),A=i(97),j=i(74),C=i(145),I=i(55),z=i(28),X=i(33),Y=i(117),le=i(92),se=i(114),ne=i(118),Q=i(156),ee=i(162).set,_=i(206),U=i(209),B=i(210),w=i(164),R=i(211),W=i(56),Z=i(95),ce=i(27),Pe=i(212),me=i(126),be=i(66),Se=ce("species"),Oe="Promise",we=W.getterFor(Oe),Fe=W.set,Ve=W.getterFor(Oe),Le=S&&S.prototype,Ee=S,_e=Le,Xe=y.TypeError,k=y.document,$=y.process,q=w.f,he=q,xe=!!(k&&k.createEvent&&y.dispatchEvent),pe=z(y.PromiseRejectionEvent),Ge="unhandledrejection",tt="rejectionhandled",Ke=0,it=1,ve=2,st=1,rt=2,ze=!1,qe,wt,vt,Ot,ae=Z(Oe,function(){var Re=le(Ee),Ye=Re!==String(Ee);if(!Ye&&be===66||l&&!_e.finally)return!0;if(be>=51&&/native code/.test(Re))return!1;var at=new Ee(function(H){H(1)}),Je=function(H){H(function(){},function(){})},ft=at.constructor={};return ft[Se]=Je,ze=at.then(function(){})instanceof Je,ze?!Ye&&Pe&&!pe:!0}),jt=ae||!ne(function(Re){Ee.all(Re).catch(function(){})}),xt=function(Re){var Ye;return X(Re)&&z(Ye=Re.then)?Ye:!1},mt=function(Re,Ye){if(!Re.notified){Re.notified=!0;var at=Re.reactions;_(function(){for(var Je=Re.value,ft=Re.state==it,H=0;at.length>H;){var J=at[H++],te=ft?J.ok:J.fail,re=J.resolve,Te=J.reject,je=J.domain,$e,yt,qt;try{te?(ft||(Re.rejection===rt&&Mr(Re),Re.rejection=st),te===!0?$e=Je:(je&&je.enter(),$e=te(Je),je&&(je.exit(),qt=!0)),$e===J.promise?Te(Xe("Promise-chain cycle")):(yt=xt($e))?x(yt,$e,re,Te):re($e)):Te(Je)}catch(er){je&&!qt&&je.exit(),Te(er)}}Re.reactions=[],Re.notified=!1,Ye&&!Re.rejection&&mr(Re)})}},Kt=function(Re,Ye,at){var Je,ft;xe?(Je=k.createEvent("Event"),Je.promise=Ye,Je.reason=at,Je.initEvent(Re,!1,!0),y.dispatchEvent(Je)):Je={promise:Ye,reason:at},!pe&&(ft=y["on"+Re])?ft(Je):Re===Ge&&B("Unhandled promise rejection",at)},mr=function(Re){x(ee,y,function(){var Ye=Re.facade,at=Re.value,Je=Qt(Re),ft;if(Je&&(ft=R(function(){me?$.emit("unhandledRejection",at,Ye):Kt(Ge,Ye,at)}),Re.rejection=me||Qt(Re)?rt:st,ft.error))throw ft.value})},Qt=function(Re){return Re.rejection!==st&&!Re.parent},Mr=function(Re){x(ee,y,function(){var Ye=Re.facade;me?$.emit("rejectionHandled",Ye):Kt(tt,Ye,Re.value)})},et=function(Re,Ye,at){return function(Je){Re(Ye,Je,at)}},Pt=function(Re,Ye,at){Re.done||(Re.done=!0,at&&(Re=at),Re.value=Ye,Re.state=ve,mt(Re,!0))},ar=function(Re,Ye,at){if(!Re.done){Re.done=!0,at&&(Re=at);try{if(Re.facade===Ye)throw Xe("Promise can't be resolved itself");var Je=xt(Ye);Je?_(function(){var ft={done:!1};try{x(Je,Ye,et(ar,ft,Re),et(Pt,ft,Re))}catch(H){Pt(ft,H,Re)}}):(Re.value=Ye,Re.state=it,mt(Re,!1))}catch(ft){Pt({done:!1},ft,Re)}}};if(ae&&(Ee=function(Ye){Y(this,_e),I(Ye),x(qe,this);var at=we(this);try{Ye(et(ar,at),et(Pt,at))}catch(Je){Pt(at,Je)}},_e=Ee.prototype,qe=function(Ye){Fe(this,{type:Oe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Ke,value:void 0})},qe.prototype=M(_e,{then:function(Ye,at){var Je=Ve(this),ft=Je.reactions,H=q(Q(this,Ee));return H.ok=z(Ye)?Ye:!0,H.fail=z(at)&&at,H.domain=me?$.domain:void 0,Je.parent=!0,ft[ft.length]=H,Je.state!=Ke&&mt(Je,!1),H.promise},catch:function(Re){return this.then(void 0,Re)}}),wt=function(){var Re=new qe,Ye=we(Re);this.promise=Re,this.resolve=et(ar,Ye),this.reject=et(Pt,Ye)},w.f=q=function(Re){return Re===Ee||Re===vt?new wt(Re):he(Re)},!l&&z(S)&&Le!==Object.prototype)){Ot=Le.then,ze||(P(Le,"then",function(Ye,at){var Je=this;return new Ee(function(ft,H){x(Ot,Je,ft,H)}).then(Ye,at)},{unsafe:!0}),P(Le,"catch",_e.catch,{unsafe:!0}));try{delete Le.constructor}catch(Re){}A&&A(Le,_e)}s({global:!0,wrap:!0,forced:ae},{Promise:Ee}),j(Ee,Oe,!1,!0),C(Oe),vt=b(Oe),s({target:Oe,stat:!0,forced:ae},{reject:function(Ye){var at=q(this);return x(at.reject,void 0,Ye),at.promise}}),s({target:Oe,stat:!0,forced:l||ae},{resolve:function(Ye){return U(l&&this===vt?Ee:this,Ye)}}),s({target:Oe,stat:!0,forced:jt},{all:function(Ye){var at=this,Je=q(at),ft=Je.resolve,H=Je.reject,J=R(function(){var te=I(at.resolve),re=[],Te=0,je=1;se(Ye,function($e){var yt=Te++,qt=!1;je++,x(te,at,$e).then(function(er){qt||(qt=!0,re[yt]=er,--je||ft(re))},H)}),--je||ft(re)});return J.error&&H(J.value),Je.promise},race:function(Ye){var at=this,Je=q(at),ft=Je.reject,H=R(function(){var J=I(at.resolve);se(Ye,function(te){x(J,at,te).then(Je.resolve,ft)})});return H.error&&ft(H.value),Je.promise}})},function(u,c,i){var s=i(7);u.exports=s.Promise},function(u,c,i){var s=i(7),l=i(62),y=i(51).f,b=i(162).set,x=i(163),S=i(207),P=i(208),M=i(126),A=s.MutationObserver||s.WebKitMutationObserver,j=s.document,C=s.process,I=s.Promise,z=y(s,"queueMicrotask"),X=z&&z.value,Y,le,se,ne,Q,ee,_,U;X||(Y=function(){var B,w;for(M&&(B=C.domain)&&B.exit();le;){w=le.fn,le=le.next;try{w()}catch(R){throw le?ne():se=void 0,R}}se=void 0,B&&B.enter()},!x&&!M&&!P&&A&&j?(Q=!0,ee=j.createTextNode(""),new A(Y).observe(ee,{characterData:!0}),ne=function(){ee.data=Q=!Q}):!S&&I&&I.resolve?(_=I.resolve(void 0),_.constructor=I,U=l(_.then,_),ne=function(){U(Y)}):M?ne=function(){C.nextTick(Y)}:(b=l(b,s),ne=function(){b(Y)})),u.exports=X||function(B){var w={fn:B,next:void 0};se&&(se.next=w),le||(le=w,ne()),se=w}},function(u,c,i){var s=i(53),l=i(7);u.exports=/ipad|iphone|ipod/i.test(s)&&l.Pebble!==void 0},function(u,c,i){var s=i(53);u.exports=/web0s(?!.*chrome)/i.test(s)},function(u,c,i){var s=i(32),l=i(33),y=i(164);u.exports=function(b,x){if(s(b),l(x)&&x.constructor===b)return x;var S=y.f(b),P=S.resolve;return P(x),S.promise}},function(u,c,i){var s=i(7);u.exports=function(l,y){var b=s.console;b&&b.error&&(arguments.length==1?b.error(l):b.error(l,y))}},function(u,c){u.exports=function(i){try{return{error:!1,value:i()}}catch(s){return{error:!0,value:s}}}},function(u,c){u.exports=typeof window=="object"},function(u,c,i){var s=i(36),l=i(15),y=i(67),b=i(39),x=i(93).f,S=l(x),P=l([].push),M=function(A){return function(j){for(var C=b(j),I=y(C),z=I.length,X=0,Y=[],le;z>X;)le=I[X++],(!s||S(C,le))&&P(Y,A?[le,C[le]]:C[le]);return Y}};u.exports={entries:M(!0),values:M(!1)}},function(u,c,i){var s=i(38),l=i(68),y=i(43);u.exports=function(x){for(var S=s(this),P=y(S),M=arguments.length,A=l(M>1?arguments[1]:void 0,P),j=M>2?arguments[2]:void 0,C=j===void 0?P:l(j,P);C>A;)S[A++]=x;return S}},function(u,c,i){i.r(c),i.d(c,"observer",function(){return Xr}),i.d(c,"LogicFlow",function(){return qc}),i.d(c,"h",function(){return ae.g}),i.d(c,"LogicFlowUtil",function(){return s}),i.d(c,"BaseNode",function(){return vn}),i.d(c,"RectNode",function(){return dc}),i.d(c,"CircleNode",function(){return vc}),i.d(c,"PolygonNode",function(){return mc}),i.d(c,"DiamondNode",function(){return Ec}),i.d(c,"EllipseNode",function(){return Pc}),i.d(c,"TextNode",function(){return Tc}),i.d(c,"HtmlNode",function(){return Nc}),i.d(c,"BaseEdge",function(){return Pi}),i.d(c,"LineEdge",function(){return zc}),i.d(c,"PolylineEdge",function(){return Hc}),i.d(c,"BezierEdge",function(){return Xc}),i.d(c,"Arrow",function(){return pj}),i.d(c,"BaseEdgeModel",function(){return hf}),i.d(c,"BezierEdgeModel",function(){return Gf}),i.d(c,"LineEdgeModel",function(){return gf}),i.d(c,"PolylineEdgeModel",function(){return Of}),i.d(c,"BaseNodeModel",function(){return pn}),i.d(c,"CircleNodeModel",function(){return kf}),i.d(c,"DiamondNodeModel",function(){return Yf}),i.d(c,"EllipseNodeModel",function(){return Kf}),i.d(c,"PolygonNodeModel",function(){return Jf}),i.d(c,"RectNodeModel",function(){return ec}),i.d(c,"TextNodeModel",function(){return rc}),i.d(c,"HtmlNodeModel",function(){return oc}),i.d(c,"EditConfigModel",function(){return lp}),i.d(c,"GraphModel",function(){return av}),i.d(c,"SnaplineModel",function(){return ag}),i.d(c,"Keyboard",function(){return dm}),i.d(c,"get",function(){return Gv}),i.d(c,"defaults",function(){return Hv}),i.d(c,"ElementState",function(){return bt}),i.d(c,"ModelType",function(){return pt}),i.d(c,"ElementType",function(){return zt}),i.d(c,"EventType",function(){return nt});var s={};i.r(s),i.d(s,"createUuid",function(){return In}),i.d(s,"refreshGraphId",function(){return bP}),i.d(s,"createDrag",function(){return AA}),i.d(s,"StepDrag",function(){return fn});var l=i(0),y=i(10);if(!y.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!l.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var b=i(42),x=Object(b.b)("observerBatching");function S(e){e()}function P(e){e||(e=S),Object(l.n)({reactionScheduler:e}),Object(b.a)()[x]=!0}function M(e){return Object(l.t)(e)}function A(e){var r={cleanAt:Date.now()+j,reaction:e};return r}var j=1e4,C=1e4,I=new Set,z;function X(){z===void 0&&(z=setTimeout(se,C))}function Y(e){I.add(e),X()}function le(e){I.delete(e)}function se(){z=void 0;var e=Date.now();I.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,I.delete(r))}),I.size>0&&X()}var ne=!1,Q=[];function ee(e){return function(){ne?Q.push(e):e()}}function _(e){ne=!0,Q=[];try{var r=e();ne=!1;var t=Q.length>0?Q:void 0;return y.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{ne=!1}}var U={};function B(e){return"observer"+e}function w(e,r,t){r===void 0&&(r="observed"),t===void 0&&(t=U);var n=t.useForceUpdate||b.d,o=n(),a=ee(o),f=y.d.useRef(null);if(!f.current){var p=new l.c(B(r),function(){m.mounted?a():(p.dispose(),f.current=null)}),m=A(p);f.current=m,Y(f)}var O=f.current.reaction;return y.d.useDebugValue(O,M),y.d.useEffect(function(){return le(f),f.current?f.current.mounted=!0:(f.current={reaction:new l.c(B(r),function(){a()}),cleanAt:1/0},a()),function(){f.current.reaction.dispose(),f.current=null}},[]),_(function(){var T,N;if(O.track(function(){try{T=e()}catch(L){N=L}}),N)throw N;return T})}var R=function(){return R=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},R.apply(this,arguments)};function W(e,r){var t=R({forwardRef:!1},r),n=e.displayName||e.name,o=function(f,p){return w(function(){return e(f,p)},n)};o.displayName=n;var a;return t.forwardRef?a=Object(y.f)(Object(y.e)(o)):a=Object(y.f)(o),ce(e,a),a.displayName=n,a}var Z={$$typeof:!0,render:!0,compare:!0,type:!0};function ce(e,r){Object.keys(e).forEach(function(t){Z[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}function Pe(e){var r=e.children,t=e.render,n=r||t;return typeof n!="function"?null:w(n)}Pe.propTypes={children:me,render:me},Pe.displayName="Observer";function me(e,r,t,n,o){var a=r==="children"?"render":"children",f=typeof e[r]=="function",p=typeof e[a]=="function";return f&&p?new Error("MobX Observer: Do not use children and render in the same time in`"+t):f||p?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}P(y.g);var be=0;function Se(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+be+")";return be++,r}var Oe={};function we(e){return Oe[e]||(Oe[e]=Se(e)),Oe[e]}function Fe(e,r){if(Ve(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!Ve(e[t[o]],r[t[o]]))return!1;return!0}function Ve(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function Le(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Ee=we("patchMixins"),_e=we("patchedDefinition");function Xe(e,r){var t=e[Ee]=e[Ee]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function k(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];r.locks++;try{var f;return e!=null&&(f=e.apply(this,o)),f}finally{r.locks--,r.locks===0&&r.methods.forEach(function(p){p.apply(t,o)})}}function $(e,r){var t=function(){for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];k.call.apply(k,[this,e,r].concat(a))};return t}function q(e,r,t){var n=Xe(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!(o&&o[_e])){var a=e[r],f=he(e,r,o?o.enumerable:void 0,n,a);Object.defineProperty(e,r,f)}}function he(e,r,t,n,o){var a,f=$(o,n);return a={},a[_e]=!0,a.get=function(){return f},a.set=function(m){if(this===e)f=$(m,n);else{var O=he(this,r,t,n,m);Object.defineProperty(this,r,O)}},a.configurable=!0,a.enumerable=t,a}var xe=l.a||"$mobx",pe=we("isMobXReactObserver"),Ge=we("isUnmounted"),tt=we("skipRender"),Ke=we("isForcingUpdate");function it(e){var r=e.prototype;if(e[pe])var t=ve(r);else e[pe]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==y.b){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=rt;else if(r.shouldComponentUpdate!==rt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}ze(r,"props"),ze(r,"state");var n=r.render;return r.render=function(){return st.call(this,n)},q(r,"componentWillUnmount",function(){var o;if((o=this.render[xe])===null||o===void 0||o.dispose(),this[Ge]=!0,!this.render[xe])var a=ve(this)}),e}function ve(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function st(e){var r=this;Le(this,tt,!1),Le(this,Ke,!1);var t=ve(this),n=e.bind(this),o=!1,a=new l.c(t+".render()",function(){if(!o&&(o=!0,r[Ge]!==!0)){var p=!0;try{Le(r,Ke,!0),r[tt]||y.a.prototype.forceUpdate.call(r),p=!1}finally{Le(r,Ke,!1),p&&a.dispose()}}});a.reactComponent=this,f[xe]=a,this.render=f;function f(){o=!1;var p=void 0,m=void 0;if(a.track(function(){try{m=Object(l.d)(!1,n)}catch(O){p=O}}),p)throw p;return m}return f.call(this)}function rt(e,r){return this.state!==r?!0:!Fe(this.props,e)}function ze(e,r){var t=we("reactProp_"+r+"_valueHolder"),n=we("reactProp_"+r+"_atomHolder");function o(){return this[n]||Le(this,n,Object(l.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var f=!1;return l.f&&l.e&&(f=Object(l.f)(!0)),o.call(this).reportObserved(),l.f&&l.e&&Object(l.e)(f),this[t]},set:function(f){!this[Ke]&&!Fe(this[t],f)?(Le(this,t,f),Le(this,tt,!0),o.call(this).reportChanged(),Le(this,tt,!1)):Le(this,t,f)}})}var qe=typeof Symbol=="function"&&Symbol.for,wt=qe?Symbol.for("react.forward_ref"):typeof y.e=="function"&&Object(y.e)(function(e){return null}).$$typeof,vt=qe?Symbol.for("react.memo"):typeof y.f=="function"&&Object(y.f)(function(e){return null}).$$typeof;function Ot(e){if(e.isMobxInjector,vt&&e.$$typeof===vt)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(wt&&e.$$typeof===wt){var r=e.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Object(y.e)(function(){var n=arguments;return Object(y.c)(Pe,null,function(){return r.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(y.a,e)?W(e):it(e)}if(!y.a)throw new Error("mobx-react requires React to be available");if(!l.C)throw new Error("mobx-react requires mobx to be available");var ae=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(23),i(20),i(5),i(22),i(21),i(24),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);function jt(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var xt=jt;function mt(){this.__data__=[],this.size=0}var Kt=mt;function mr(e,r){return e===r||e!==e&&r!==r}var Qt=mr;function Mr(e,r){for(var t=e.length;t--;)if(Qt(e[t][0],r))return t;return-1}var et=Mr,Pt=Array.prototype,ar=Pt.splice;function Re(e){var r=this.__data__,t=et(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():ar.call(r,t,1),--this.size,!0}var Ye=Re;function at(e){var r=this.__data__,t=et(r,e);return t<0?void 0:r[t][1]}var Je=at;function ft(e){return et(this.__data__,e)>-1}var H=ft;function J(e,r){var t=this.__data__,n=et(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var te=J;function re(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}re.prototype.clear=Kt,re.prototype.delete=Ye,re.prototype.get=Je,re.prototype.has=H,re.prototype.set=te;var Te=re;function je(){this.__data__=new Te,this.size=0}var $e=je;function yt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var qt=yt;function er(e){return this.__data__.get(e)}var Yn=er;function $r(e){return this.__data__.has(e)}var zi=$r,wr=i(31),Fi=wr.a.Symbol,dr=Fi,On=Object.prototype,Wn=On.hasOwnProperty,un=On.toString,Kn=dr?dr.toStringTag:void 0;function En(e){var r=Wn.call(e,Kn),t=e[Kn];try{e[Kn]=void 0;var n=!0}catch(a){}var o=un.call(e);return n&&(r?e[Kn]=t:delete e[Kn]),o}var Sn=En,co=Object.prototype,el=co.toString;function po(e){return el.call(e)}var ho=po,Gi="[object Null]",He="[object Undefined]",Hi=dr?dr.toStringTag:void 0;function tl(e){return e==null?e===void 0?He:Gi:Hi&&Hi in Object(e)?Sn(e):ho(e)}var Yr=tl;function Ui(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var At=Ui,br="[object AsyncFunction]",ki="[object Function]",rl="[object GeneratorFunction]",nl="[object Proxy]";function ol(e){if(!At(e))return!1;var r=Yr(e);return r==ki||r==rl||r==br||r==nl}var vo=ol,Xi=wr.a["__core-js_shared__"],sn=Xi,$i=function(){var e=/[^.]+$/.exec(sn&&sn.keys&&sn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Qo(e){return!!$i&&$i in e}var Yi=Qo,il=Function.prototype,yo=il.toString;function al(e){if(e!=null){try{return yo.call(e)}catch(r){}try{return e+""}catch(r){}}return""}var Ct=al,vd=/[\\^$.*+?()[\]{}|]/g,yd=/^\[object .+?Constructor\]$/,gd=Function.prototype,Wi=Object.prototype,ul=gd.toString,Ki=Wi.hasOwnProperty,sl=RegExp("^"+ul.call(Ki).replace(vd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ll(e){if(!At(e)||Yi(e))return!1;var r=vo(e)?sl:yd;return r.test(Ct(e))}var Wr=ll;function fl(e,r){return e==null?void 0:e[r]}var cl=fl;function qo(e,r){var t=cl(e,r);return Wr(t)?t:void 0}var _r=qo,dl=_r(wr.a,"Map"),xn=dl,pl=_r(Object,"create"),Vn=pl;function hl(){this.__data__=Vn?Vn(null):{},this.size=0}var ei=hl;function Vi(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var vl=Vi,ti="__lodash_hash_undefined__",Zi=Object.prototype,Ji=Zi.hasOwnProperty;function Qi(e){var r=this.__data__;if(Vn){var t=r[e];return t===ti?void 0:t}return Ji.call(r,e)?r[e]:void 0}var qi=Qi,yl=Object.prototype,ea=yl.hasOwnProperty;function gl(e){var r=this.__data__;return Vn?r[e]!==void 0:ea.call(r,e)}var ta=gl,ra="__lodash_hash_undefined__";function ml(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Vn&&r===void 0?ra:r,this}var bl=ml;function Pn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Pn.prototype.clear=ei,Pn.prototype.delete=vl,Pn.prototype.get=qi,Pn.prototype.has=ta,Pn.prototype.set=bl;var An=Pn;function Tn(){this.size=0,this.__data__={hash:new An,map:new(xn||Te),string:new An}}var Ol=Tn;function El(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var na=El;function Sl(e,r){var t=e.__data__;return na(r)?t[typeof r=="string"?"string":"hash"]:t.map}var go=Sl;function xl(e){var r=go(this,e).delete(e);return this.size-=r?1:0,r}var Pl=xl;function Mn(e){return go(this,e).get(e)}var Kr=Mn;function Al(e){return go(this,e).has(e)}var Tl=Al;function Ml(e,r){var t=go(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var Nr=Ml;function wn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}wn.prototype.clear=Ol,wn.prototype.delete=Pl,wn.prototype.get=Kr,wn.prototype.has=Tl,wn.prototype.set=Nr;var Zn=wn,wl=200;function mo(e,r){var t=this.__data__;if(t instanceof Te){var n=t.__data__;if(!xn||n.length<wl-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Zn(n)}return t.set(e,r),this.size=t.size,this}var bo=mo;function Nn(e){var r=this.__data__=new Te(e);this.size=r.size}Nn.prototype.clear=$e,Nn.prototype.delete=qt,Nn.prototype.get=Yn,Nn.prototype.has=zi,Nn.prototype.set=bo;var Dn=Nn,Dr="__lodash_hash_undefined__";function Jn(e){return this.__data__.set(e,Dr),this}var jr=Jn;function Or(e){return this.__data__.has(e)}var Qn=Or;function tr(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Zn;++r<t;)this.add(e[r])}tr.prototype.add=tr.prototype.push=jr,tr.prototype.has=Qn;var Nl=tr;function Dl(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var jl=Dl;function oa(e,r){return e.has(r)}var zr=oa,Cl=1,Fr=2;function ia(e,r,t,n,o,a){var f=t&Cl,p=e.length,m=r.length;if(p!=m&&!(f&&m>p))return!1;var O=a.get(e),T=a.get(r);if(O&&T)return O==r&&T==e;var N=-1,L=!0,G=t&Fr?new Nl:void 0;for(a.set(e,r),a.set(r,e);++N<p;){var K=e[N],ie=r[N];if(n)var oe=f?n(ie,K,N,r,e,a):n(K,ie,N,e,r,a);if(oe!==void 0){if(oe)continue;L=!1;break}if(G){if(!jl(r,function(ue,Me){if(!zr(G,Me)&&(K===ue||o(K,ue,t,n,a)))return G.push(Me)})){L=!1;break}}else if(!(K===ie||o(K,ie,t,n,a))){L=!1;break}}return a.delete(e),a.delete(r),L}var aa=ia,ri=wr.a.Uint8Array,Xt=ri;function ua(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var Rl=ua;function sa(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var pr=sa,la=1,ni=2,fa="[object Boolean]",ca="[object Date]",Il="[object Error]",da="[object Map]",Bl="[object Number]",Ll="[object RegExp]",Er="[object Set]",Cr="[object String]",qn="[object Symbol]",_l="[object ArrayBuffer]",pa="[object DataView]",Oo=dr?dr.prototype:void 0,eo=Oo?Oo.valueOf:void 0;function ha(e,r,t,n,o,a,f){switch(t){case pa:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case _l:return!(e.byteLength!=r.byteLength||!a(new Xt(e),new Xt(r)));case fa:case ca:case Bl:return Qt(+e,+r);case Il:return e.name==r.name&&e.message==r.message;case Ll:case Cr:return e==r+"";case da:var p=Rl;case Er:var m=n&la;if(p||(p=pr),e.size!=r.size&&!m)return!1;var O=f.get(e);if(O)return O==r;n|=ni,f.set(e,r);var T=aa(p(e),p(r),n,o,a,f);return f.delete(e),T;case qn:if(eo)return eo.call(e)==eo.call(r)}return!1}var zl=ha;function Eo(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var oi=Eo,va=Array.isArray,d=va;function v(e,r,t){var n=r(e);return d(e)?n:oi(n,t(e))}var E=v;function D(e,r){for(var t=-1,n=e==null?0:e.length,o=0,a=[];++t<n;){var f=e[t];r(f,t,e)&&(a[o++]=f)}return a}var F=D;function V(){return[]}var fe=V,Ae=Object.prototype,Ue=Ae.propertyIsEnumerable,ct=Object.getOwnPropertySymbols,dt=ct?function(e){return e==null?[]:(e=Object(e),F(ct(e),function(r){return Ue.call(e,r)}))}:fe,Et=dt;function St(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Bt=St;function $t(e){return e!=null&&typeof e=="object"}var Tt=$t,Sr="[object Arguments]";function jn(e){return Tt(e)&&Yr(e)==Sr}var ya=jn,ga=Object.prototype,ma=ga.hasOwnProperty,ba=ga.propertyIsEnumerable,ii=ya(function(){return arguments}())?ya:function(e){return Tt(e)&&ma.call(e,"callee")&&!ba.call(e,"callee")},Cn=ii,ln=i(48),Tb=9007199254740991,Mb=/^(?:0|[1-9]\d*)$/;function wb(e,r){var t=typeof e;return r=r==null?Tb:r,!!r&&(t=="number"||t!="symbol"&&Mb.test(e))&&e>-1&&e%1==0&&e<r}var Oa=wb,Nb=9007199254740991;function Db(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Nb}var Fl=Db,jb="[object Arguments]",Cb="[object Array]",Rb="[object Boolean]",Ib="[object Date]",Bb="[object Error]",Lb="[object Function]",_b="[object Map]",zb="[object Number]",Fb="[object Object]",Gb="[object RegExp]",Hb="[object Set]",Ub="[object String]",kb="[object WeakMap]",Xb="[object ArrayBuffer]",$b="[object DataView]",Yb="[object Float32Array]",Wb="[object Float64Array]",Kb="[object Int8Array]",Vb="[object Int16Array]",Zb="[object Int32Array]",Jb="[object Uint8Array]",Qb="[object Uint8ClampedArray]",qb="[object Uint16Array]",eO="[object Uint32Array]",Nt={};Nt[Yb]=Nt[Wb]=Nt[Kb]=Nt[Vb]=Nt[Zb]=Nt[Jb]=Nt[Qb]=Nt[qb]=Nt[eO]=!0,Nt[jb]=Nt[Cb]=Nt[Xb]=Nt[Rb]=Nt[$b]=Nt[Ib]=Nt[Bb]=Nt[Lb]=Nt[_b]=Nt[zb]=Nt[Fb]=Nt[Gb]=Nt[Hb]=Nt[Ub]=Nt[kb]=!1;function tO(e){return Tt(e)&&Fl(e.length)&&!!Nt[Yr(e)]}var rO=tO;function nO(e){return function(r){return e(r)}}var Gl=nO,So=i(49),md=So.a&&So.a.isTypedArray,oO=md?Gl(md):rO,Hl=oO,iO=Object.prototype,aO=iO.hasOwnProperty;function uO(e,r){var t=d(e),n=!t&&Cn(e),o=!t&&!n&&Object(ln.a)(e),a=!t&&!n&&!o&&Hl(e),f=t||n||o||a,p=f?Bt(e.length,String):[],m=p.length;for(var O in e)(r||aO.call(e,O))&&!(f&&(O=="length"||o&&(O=="offset"||O=="parent")||a&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||Oa(O,m)))&&p.push(O);return p}var bd=uO,sO=Object.prototype;function lO(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||sO;return e===t}var Ea=lO;function fO(e,r){return function(t){return e(r(t))}}var Od=fO,cO=Od(Object.keys,Object),dO=cO,pO=Object.prototype,hO=pO.hasOwnProperty;function vO(e){if(!Ea(e))return dO(e);var r=[];for(var t in Object(e))hO.call(e,t)&&t!="constructor"&&r.push(t);return r}var yO=vO;function gO(e){return e!=null&&Fl(e.length)&&!vo(e)}var to=gO;function mO(e){return to(e)?bd(e):yO(e)}var xo=mO;function bO(e){return E(e,xo,Et)}var Ul=bO,OO=1,EO=Object.prototype,SO=EO.hasOwnProperty;function xO(e,r,t,n,o,a){var f=t&OO,p=Ul(e),m=p.length,O=Ul(r),T=O.length;if(m!=T&&!f)return!1;for(var N=m;N--;){var L=p[N];if(!(f?L in r:SO.call(r,L)))return!1}var G=a.get(e),K=a.get(r);if(G&&K)return G==r&&K==e;var ie=!0;a.set(e,r),a.set(r,e);for(var oe=f;++N<m;){L=p[N];var ue=e[L],Me=r[L];if(n)var Ce=f?n(Me,ue,L,r,e,a):n(ue,Me,L,e,r,a);if(!(Ce===void 0?ue===Me||o(ue,Me,t,n,a):Ce)){ie=!1;break}oe||(oe=L=="constructor")}if(ie&&!oe){var ye=e.constructor,Be=r.constructor;ye!=Be&&"constructor"in e&&"constructor"in r&&!(typeof ye=="function"&&ye instanceof ye&&typeof Be=="function"&&Be instanceof Be)&&(ie=!1)}return a.delete(e),a.delete(r),ie}var PO=xO,AO=_r(wr.a,"DataView"),kl=AO,TO=_r(wr.a,"Promise"),Xl=TO,MO=_r(wr.a,"Set"),$l=MO,wO=_r(wr.a,"WeakMap"),Yl=wO,Ed="[object Map]",NO="[object Object]",Sd="[object Promise]",xd="[object Set]",Pd="[object WeakMap]",Ad="[object DataView]",DO=Ct(kl),jO=Ct(xn),CO=Ct(Xl),RO=Ct($l),IO=Ct(Yl),ro=Yr;(kl&&ro(new kl(new ArrayBuffer(1)))!=Ad||xn&&ro(new xn)!=Ed||Xl&&ro(Xl.resolve())!=Sd||$l&&ro(new $l)!=xd||Yl&&ro(new Yl)!=Pd)&&(ro=function(e){var r=Yr(e),t=r==NO?e.constructor:void 0,n=t?Ct(t):"";if(n)switch(n){case DO:return Ad;case jO:return Ed;case CO:return Sd;case RO:return xd;case IO:return Pd}return r});var ai=ro,BO=1,Td="[object Arguments]",Md="[object Array]",Sa="[object Object]",LO=Object.prototype,wd=LO.hasOwnProperty;function _O(e,r,t,n,o,a){var f=d(e),p=d(r),m=f?Md:ai(e),O=p?Md:ai(r);m=m==Td?Sa:m,O=O==Td?Sa:O;var T=m==Sa,N=O==Sa,L=m==O;if(L&&Object(ln.a)(e)){if(!Object(ln.a)(r))return!1;f=!0,T=!1}if(L&&!T)return a||(a=new Dn),f||Hl(e)?aa(e,r,t,n,o,a):zl(e,r,m,t,n,o,a);if(!(t&BO)){var G=T&&wd.call(e,"__wrapped__"),K=N&&wd.call(r,"__wrapped__");if(G||K){var ie=G?e.value():e,oe=K?r.value():r;return a||(a=new Dn),o(ie,oe,t,n,a)}}return L?(a||(a=new Dn),PO(e,r,t,n,o,a)):!1}var zO=_O;function Nd(e,r,t,n,o){return e===r?!0:e==null||r==null||!Tt(e)&&!Tt(r)?e!==e&&r!==r:zO(e,r,t,n,Nd,o)}var Wl=Nd,FO=1,GO=2;function HO(e,r,t,n){var o=t.length,a=o,f=!n;if(e==null)return!a;for(e=Object(e);o--;){var p=t[o];if(f&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<a;){p=t[o];var m=p[0],O=e[m],T=p[1];if(f&&p[2]){if(O===void 0&&!(m in e))return!1}else{var N=new Dn;if(n)var L=n(O,T,m,e,r,N);if(!(L===void 0?Wl(T,O,FO|GO,n,N):L))return!1}}return!0}var UO=HO;function kO(e){return e===e&&!At(e)}var Dd=kO;function XO(e){for(var r=xo(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,Dd(o)]}return r}var $O=XO;function YO(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var jd=YO;function WO(e){var r=$O(e);return r.length==1&&r[0][2]?jd(r[0][0],r[0][1]):function(t){return t===e||UO(t,e,r)}}var KO=WO,VO="[object Symbol]";function ZO(e){return typeof e=="symbol"||Tt(e)&&Yr(e)==VO}var xa=ZO,JO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QO=/^\w*$/;function qO(e,r){if(d(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||xa(e)?!0:QO.test(e)||!JO.test(e)||r!=null&&e in Object(r)}var Kl=qO,eE="Expected a function";function Vl(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(eE);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var f=e.apply(this,n);return t.cache=a.set(o,f)||a,f};return t.cache=new(Vl.Cache||Zn),t}Vl.Cache=Zn;var tE=Vl,rE=500;function nE(e){var r=tE(e,function(n){return t.size===rE&&t.clear(),n}),t=r.cache;return r}var oE=nE,iE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aE=/\\(\\)?/g,uE=oE(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(iE,function(t,n,o,a){r.push(o?a.replace(aE,"$1"):n||t)}),r}),sE=uE,lE=1/0,Cd=dr?dr.prototype:void 0,Rd=Cd?Cd.toString:void 0;function Id(e){if(typeof e=="string")return e;if(d(e))return xt(e,Id)+"";if(xa(e))return Rd?Rd.call(e):"";var r=e+"";return r=="0"&&1/e==-lE?"-0":r}var fE=Id;function cE(e){return e==null?"":fE(e)}var dE=cE;function pE(e,r){return d(e)?e:Kl(e,r)?[e]:sE(dE(e))}var Pa=pE,hE=1/0;function vE(e){if(typeof e=="string"||xa(e))return e;var r=e+"";return r=="0"&&1/e==-hE?"-0":r}var ui=vE;function yE(e,r){r=Pa(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[ui(r[t++])];return t&&t==n?e:void 0}var Zl=yE;function gE(e,r,t){var n=e==null?void 0:Zl(e,r);return n===void 0?t:n}var Bd=gE;function mE(e,r){return e!=null&&r in Object(e)}var bE=mE;function OE(e,r,t){r=Pa(r,e);for(var n=-1,o=r.length,a=!1;++n<o;){var f=ui(r[n]);if(!(a=e!=null&&t(e,f)))break;e=e[f]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&Fl(o)&&Oa(f,o)&&(d(e)||Cn(e)))}var EE=OE;function SE(e,r){return e!=null&&EE(e,r,bE)}var Ld=SE,xE=1,PE=2;function AE(e,r){return Kl(e)&&Dd(r)?jd(ui(e),r):function(t){var n=Bd(t,e);return n===void 0&&n===r?Ld(t,e):Wl(r,n,xE|PE)}}var TE=AE;function ME(e){return e}var Jl=ME;function wE(e){return function(r){return r==null?void 0:r[e]}}var NE=wE;function DE(e){return function(r){return Zl(r,e)}}var jE=DE;function CE(e){return Kl(e)?NE(ui(e)):jE(e)}var RE=CE;function IE(e){return typeof e=="function"?e:e==null?Jl:typeof e=="object"?d(e)?TE(e[0],e[1]):KO(e):RE(e)}var BE=IE;function LE(e){return function(r,t,n){for(var o=-1,a=Object(r),f=n(r),p=f.length;p--;){var m=f[e?p:++o];if(t(a[m],m,a)===!1)break}return r}}var _E=LE,zE=_E(),_d=zE;function FE(e,r){return e&&_d(e,r,xo)}var GE=FE;function HE(e,r){return function(t,n){if(t==null)return t;if(!to(t))return e(t,n);for(var o=t.length,a=r?o:-1,f=Object(t);(r?a--:++a<o)&&n(f[a],a,f)!==!1;);return t}}var UE=HE,kE=UE(GE),XE=kE;function $E(e,r){var t=-1,n=to(e)?Array(e.length):[];return XE(e,function(o,a,f){n[++t]=r(o,a,f)}),n}var YE=$E;function WE(e,r){var t=d(e)?xt:YE;return t(e,BE(r))}var Aa=WE,KE=function(){try{var e=_r(Object,"defineProperty");return e({},"",{}),e}catch(r){}}(),Ta=KE;function VE(e,r,t){r=="__proto__"&&Ta?Ta(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Ql=VE,ZE=Object.prototype,JE=ZE.hasOwnProperty;function QE(e,r,t){var n=e[r];(!(JE.call(e,r)&&Qt(n,t))||t===void 0&&!(r in e))&&Ql(e,r,t)}var Ma=QE;function qE(e,r,t,n){var o=!t;t||(t={});for(var a=-1,f=r.length;++a<f;){var p=r[a],m=n?n(t[p],e[p],p,t,e):void 0;m===void 0&&(m=e[p]),o?Ql(t,p,m):Ma(t,p,m)}return t}var Po=qE;function eS(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var tS=eS,zd=Math.max;function rS(e,r,t){return r=zd(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=zd(n.length-r,0),f=Array(a);++o<a;)f[o]=n[r+o];o=-1;for(var p=Array(r+1);++o<r;)p[o]=n[o];return p[r]=t(f),tS(e,this,p)}}var Fd=rS;function nS(e){return function(){return e}}var oS=nS,iS=Ta?function(e,r){return Ta(e,"toString",{configurable:!0,enumerable:!1,value:oS(r),writable:!0})}:Jl,aS=iS,uS=800,sS=16,lS=Date.now;function fS(e){var r=0,t=0;return function(){var n=lS(),o=sS-(n-t);if(t=n,o>0){if(++r>=uS)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var cS=fS,dS=cS(aS),Gd=dS;function pS(e,r){return Gd(Fd(e,r,Jl),e+"")}var hS=pS;function vS(e,r,t){if(!At(t))return!1;var n=typeof r;return(n=="number"?to(t)&&Oa(r,t.length):n=="string"&&r in t)?Qt(t[r],e):!1}var yS=vS;function gS(e){return hS(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,f=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,f&&yS(t[0],t[1],f)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var p=t[n];p&&e(r,p,n,a)}return r})}var Hd=gS,mS=Object.prototype,bS=mS.hasOwnProperty,OS=Hd(function(e,r){if(Ea(r)||to(r)){Po(r,xo(r),e);return}for(var t in r)bS.call(r,t)&&Ma(e,t,r[t])}),ur=OS;function ES(e,r,t,n){if(!At(e))return e;r=Pa(r,e);for(var o=-1,a=r.length,f=a-1,p=e;p!=null&&++o<a;){var m=ui(r[o]),O=t;if(m==="__proto__"||m==="constructor"||m==="prototype")return e;if(o!=f){var T=p[m];O=n?n(T,m,p):void 0,O===void 0&&(O=At(T)?T:Oa(r[o+1])?[]:{})}Ma(p,m,O),p=p[m]}return e}var SS=ES;function xS(e,r,t){for(var n=-1,o=r.length,a={};++n<o;){var f=r[n],p=Zl(e,f);t(p,f)&&SS(a,Pa(f,e),p)}return a}var PS=xS;function AS(e,r){return PS(e,r,function(t,n){return Ld(e,n)})}var TS=AS,Ud=dr?dr.isConcatSpreadable:void 0;function MS(e){return d(e)||Cn(e)||!!(Ud&&e&&e[Ud])}var wS=MS;function kd(e,r,t,n,o){var a=-1,f=e.length;for(t||(t=wS),o||(o=[]);++a<f;){var p=e[a];r>0&&t(p)?r>1?kd(p,r-1,t,n,o):oi(o,p):n||(o[o.length]=p)}return o}var NS=kd;function DS(e){var r=e==null?0:e.length;return r?NS(e,1):[]}var jS=DS;function CS(e){return Gd(Fd(e,void 0,jS),e+"")}var RS=CS,IS=RS(function(e,r){return e==null?{}:TS(e,r)}),si=IS,Rt,Xd,$d,Yd,Wd,Kd,Vd,Zd,Jd,Qd,qd,ep,tp,rp,np,op,ip,ap;function Vt(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function BS(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function up(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LS(e,r,t){return r&&up(e.prototype,r),t&&up(e,t),e}function sp(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Yt(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var _S={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},ql=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],lp=(Rt=function(){function e(r){BS(this,e),Vt(this,"isSilentMode",Xd,this),Vt(this,"stopZoomGraph",$d,this),Vt(this,"stopScrollGraph",Yd,this),Vt(this,"stopMoveGraph",Wd,this),Vt(this,"adjustEdge",Kd,this),Vt(this,"adjustEdgeMiddle",Vd,this),Vt(this,"adjustEdgeStartAndEnd",Zd,this),Vt(this,"adjustNodePosition",Jd,this),Vt(this,"hideAnchors",Qd,this),Vt(this,"hoverOutline",qd,this),Vt(this,"nodeSelectedOutline",ep,this),Vt(this,"edgeSelectedOutline",tp,this),Vt(this,"nodeTextEdit",rp,this),Vt(this,"edgeTextEdit",np,this),Vt(this,"nodeTextDraggable",op,this),Vt(this,"edgeTextDraggable",ip,this),Vt(this,"autoExpand",ap,this),sp(this,"multipleSelectKey",""),sp(this,"defaultConfig",{}),ur(this,this.getConfigDetail(r))}return LS(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);ur(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,a={};if(n===!1&&ur(a,this.defaultConfig),n===!0){var f=si(_S,ql);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},ur(a,f)}o===!1&&ur(a,{nodeTextEdit:!1,edgeTextEdit:!1});var p=si(t,ql);return ur(a,p)}},{key:"getConfig",value:function(){return si(this,ql)}}]),e}(),Xd=Yt(Rt.prototype,"isSilentMode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$d=Yt(Rt.prototype,"stopZoomGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yd=Yt(Rt.prototype,"stopScrollGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wd=Yt(Rt.prototype,"stopMoveGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kd=Yt(Rt.prototype,"adjustEdge",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vd=Yt(Rt.prototype,"adjustEdgeMiddle",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zd=Yt(Rt.prototype,"adjustEdgeStartAndEnd",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jd=Yt(Rt.prototype,"adjustNodePosition",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qd=Yt(Rt.prototype,"hideAnchors",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qd=Yt(Rt.prototype,"hoverOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ep=Yt(Rt.prototype,"nodeSelectedOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tp=Yt(Rt.prototype,"edgeSelectedOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rp=Yt(Rt.prototype,"nodeTextEdit",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),np=Yt(Rt.prototype,"edgeTextEdit",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),op=Yt(Rt.prototype,"nodeTextDraggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ip=Yt(Rt.prototype,"edgeTextDraggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ap=Yt(Rt.prototype,"autoExpand",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yt(Rt.prototype,"updateEditConfig",[l.k],Object.getOwnPropertyDescriptor(Rt.prototype,"updateEditConfig"),Rt.prototype),Rt);i(63);var bt;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(bt||(bt={}));var fp;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(fp||(fp={}));var pt;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(pt||(pt={}));var zt;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(zt||(zt={}));var nt;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",e.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",e.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",e.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",e.ADJUST_POINT_DRAG="adjustPoint:drag",e.ADJUST_POINT_DROP="adjustPoint:drop",e.ADJUST_POINT_DRAGEND="adjustPoint:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(nt||(nt={}));var Dt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Dt||(Dt={}));var zS=9999,xr;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(xr||(xr={}));var Lt,cp,dp,pp,hp,vp,yp,gp;function wa(e,r){return US(e)||HS(e,r)||GS(e,r)||FS()}function FS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GS(e,r){if(e){if(typeof e=="string")return mp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mp(e,r)}}function mp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function HS(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function US(e){if(Array.isArray(e))return e}function no(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function kS(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XS(e,r,t){return r&&bp(e.prototype,r),t&&bp(e,t),e}function ef(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Gr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var $S=(Lt=function(){function e(r){kS(this,e),ef(this,"MINI_SCALE_SIZE",.2),ef(this,"MAX_SCALE_SIZE",16),no(this,"SCALE_X",cp,this),no(this,"SKEW_Y",dp,this),no(this,"SKEW_X",pp,this),no(this,"SCALE_Y",hp,this),no(this,"TRANSLATE_X",vp,this),no(this,"TRANSLATE_Y",yp,this),no(this,"ZOOM_SIZE",gp,this),ef(this,"eventCenter",void 0),this.eventCenter=r}return XS(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=wa(t,2),o=n[0],a=n[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=wa(t,2),o=n[0],a=n[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var a=wa(t,2),f=a[0],p=a[1];return[f+n/this.SCALE_X,p+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,a=this.SCALE_Y;return t===!0?(o+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):t===!1?(o-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof t=="number"&&(o=t,a=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=a,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(nt.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,a){var f=this.CanvasPointToHtmlPoint([t,n]),p=wa(f,2),m=p[0],O=p[1],T=o/2-m,N=a/2-O;this.TRANSLATE_X+=T,this.TRANSLATE_Y+=N,this.emitGraphTransform("focusOn")}}]),e}(),cp=Gr(Lt.prototype,"SCALE_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dp=Gr(Lt.prototype,"SKEW_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pp=Gr(Lt.prototype,"SKEW_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hp=Gr(Lt.prototype,"SCALE_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),vp=Gr(Lt.prototype,"TRANSLATE_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yp=Gr(Lt.prototype,"TRANSLATE_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gp=Gr(Lt.prototype,"ZOOM_SIZE",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Gr(Lt.prototype,"zoom",[l.k],Object.getOwnPropertyDescriptor(Lt.prototype,"zoom"),Lt.prototype),Gr(Lt.prototype,"resetZoom",[l.k],Object.getOwnPropertyDescriptor(Lt.prototype,"resetZoom"),Lt.prototype),Gr(Lt.prototype,"translate",[l.k],Object.getOwnPropertyDescriptor(Lt.prototype,"translate"),Lt.prototype),Gr(Lt.prototype,"focusOn",[l.k],Object.getOwnPropertyDescriptor(Lt.prototype,"focusOn"),Lt.prototype),Lt);function YS(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var WS=YS;function KS(e,r){return e&&Po(r,xo(r),e)}var VS=KS;function ZS(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var JS=ZS,QS=Object.prototype,qS=QS.hasOwnProperty;function ex(e){if(!At(e))return JS(e);var r=Ea(e),t=[];for(var n in e)n=="constructor"&&(r||!qS.call(e,n))||t.push(n);return t}var tx=ex;function rx(e){return to(e)?bd(e,!0):tx(e)}var li=rx;function nx(e,r){return e&&Po(r,li(r),e)}var ox=nx,Op=i(106);function ix(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var Ep=ix;function ax(e,r){return Po(e,Et(e),r)}var ux=ax,sx=Od(Object.getPrototypeOf,Object),tf=sx,lx=Object.getOwnPropertySymbols,fx=lx?function(e){for(var r=[];e;)oi(r,Et(e)),e=tf(e);return r}:fe,Sp=fx;function cx(e,r){return Po(e,Sp(e),r)}var dx=cx;function px(e){return E(e,li,Sp)}var hx=px,vx=Object.prototype,yx=vx.hasOwnProperty;function gx(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&yx.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var mx=gx;function bx(e){var r=new e.constructor(e.byteLength);return new Xt(r).set(new Xt(e)),r}var rf=bx;function Ox(e,r){var t=r?rf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var Ex=Ox,Sx=/\w*$/;function xx(e){var r=new e.constructor(e.source,Sx.exec(e));return r.lastIndex=e.lastIndex,r}var Px=xx,xp=dr?dr.prototype:void 0,Pp=xp?xp.valueOf:void 0;function Ax(e){return Pp?Object(Pp.call(e)):{}}var Tx=Ax;function Mx(e,r){var t=r?rf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Ap=Mx,wx="[object Boolean]",Nx="[object Date]",Dx="[object Map]",jx="[object Number]",Cx="[object RegExp]",Rx="[object Set]",Ix="[object String]",Bx="[object Symbol]",Lx="[object ArrayBuffer]",_x="[object DataView]",zx="[object Float32Array]",Fx="[object Float64Array]",Gx="[object Int8Array]",Hx="[object Int16Array]",Ux="[object Int32Array]",kx="[object Uint8Array]",Xx="[object Uint8ClampedArray]",$x="[object Uint16Array]",Yx="[object Uint32Array]";function Wx(e,r,t){var n=e.constructor;switch(r){case Lx:return rf(e);case wx:case Nx:return new n(+e);case _x:return Ex(e,t);case zx:case Fx:case Gx:case Hx:case Ux:case kx:case Xx:case $x:case Yx:return Ap(e,t);case Dx:return new n;case jx:case Ix:return new n(e);case Cx:return Px(e);case Rx:return new n;case Bx:return Tx(e)}}var Kx=Wx,Tp=Object.create,Vx=function(){function e(){}return function(r){if(!At(r))return{};if(Tp)return Tp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),Zx=Vx;function Jx(e){return typeof e.constructor=="function"&&!Ea(e)?Zx(tf(e)):{}}var Mp=Jx,Qx="[object Map]";function qx(e){return Tt(e)&&ai(e)==Qx}var e0=qx,wp=So.a&&So.a.isMap,t0=wp?Gl(wp):e0,r0=t0,n0="[object Set]";function o0(e){return Tt(e)&&ai(e)==n0}var i0=o0,Np=So.a&&So.a.isSet,a0=Np?Gl(Np):i0,u0=a0,s0=1,l0=2,f0=4,Dp="[object Arguments]",c0="[object Array]",d0="[object Boolean]",p0="[object Date]",h0="[object Error]",jp="[object Function]",v0="[object GeneratorFunction]",y0="[object Map]",g0="[object Number]",Cp="[object Object]",m0="[object RegExp]",b0="[object Set]",O0="[object String]",E0="[object Symbol]",S0="[object WeakMap]",x0="[object ArrayBuffer]",P0="[object DataView]",A0="[object Float32Array]",T0="[object Float64Array]",M0="[object Int8Array]",w0="[object Int16Array]",N0="[object Int32Array]",D0="[object Uint8Array]",j0="[object Uint8ClampedArray]",C0="[object Uint16Array]",R0="[object Uint32Array]",Mt={};Mt[Dp]=Mt[c0]=Mt[x0]=Mt[P0]=Mt[d0]=Mt[p0]=Mt[A0]=Mt[T0]=Mt[M0]=Mt[w0]=Mt[N0]=Mt[y0]=Mt[g0]=Mt[Cp]=Mt[m0]=Mt[b0]=Mt[O0]=Mt[E0]=Mt[D0]=Mt[j0]=Mt[C0]=Mt[R0]=!0,Mt[h0]=Mt[jp]=Mt[S0]=!1;function Na(e,r,t,n,o,a){var f,p=r&s0,m=r&l0,O=r&f0;if(t&&(f=o?t(e,n,o,a):t(e)),f!==void 0)return f;if(!At(e))return e;var T=d(e);if(T){if(f=mx(e),!p)return Ep(e,f)}else{var N=ai(e),L=N==jp||N==v0;if(Object(ln.a)(e))return Object(Op.a)(e,p);if(N==Cp||N==Dp||L&&!o){if(f=m||L?{}:Mp(e),!p)return m?dx(e,ox(f,e)):ux(e,VS(f,e))}else{if(!Mt[N])return o?e:{};f=Kx(e,N,p)}}a||(a=new Dn);var G=a.get(e);if(G)return G;a.set(e,f),u0(e)?e.forEach(function(oe){f.add(Na(oe,r,t,oe,e,a))}):r0(e)&&e.forEach(function(oe,ue){f.set(ue,Na(oe,r,t,ue,e,a))});var K=O?m?hx:Ul:m?li:xo,ie=T?void 0:K(e);return WS(ie||e,function(oe,ue){ie&&(ue=oe,oe=e[ue]),Ma(f,ue,Na(oe,r,t,ue,e,a))}),f}var I0=Na,B0=1,L0=4;function _0(e){return I0(e,B0|L0)}var It=_0;function z0(e,r,t){(t!==void 0&&!Qt(e[r],t)||t===void 0&&!(r in e))&&Ql(e,r,t)}var nf=z0;function F0(e){return Tt(e)&&to(e)}var G0=F0,H0="[object Object]",U0=Function.prototype,k0=Object.prototype,Rp=U0.toString,X0=k0.hasOwnProperty,$0=Rp.call(Object);function Y0(e){if(!Tt(e)||Yr(e)!=H0)return!1;var r=tf(e);if(r===null)return!0;var t=X0.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Rp.call(t)==$0}var W0=Y0;function K0(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var of=K0;function V0(e){return Po(e,li(e))}var Z0=V0;function J0(e,r,t,n,o,a,f){var p=of(e,t),m=of(r,t),O=f.get(m);if(O){nf(e,t,O);return}var T=a?a(p,m,t+"",e,r,f):void 0,N=T===void 0;if(N){var L=d(m),G=!L&&Object(ln.a)(m),K=!L&&!G&&Hl(m);T=m,L||G||K?d(p)?T=p:G0(p)?T=Ep(p):G?(N=!1,T=Object(Op.a)(m,!0)):K?(N=!1,T=Ap(m,!0)):T=[]:W0(m)||Cn(m)?(T=p,Cn(p)?T=Z0(p):(!At(p)||vo(p))&&(T=Mp(m))):N=!1}N&&(f.set(m,T),o(T,m,n,a,f),f.delete(m)),nf(e,t,T)}var Q0=J0;function Ip(e,r,t,n,o){e!==r&&_d(r,function(a,f){if(o||(o=new Dn),At(a))Q0(e,r,f,t,Ip,n,o);else{var p=n?n(of(e,f),a,f+"",e,r,o):void 0;p===void 0&&(p=a),nf(e,f,p)}},li)}var q0=Ip,eP=Hd(function(e,r,t){q0(e,r,t)}),Bp=eP,tP={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Lp=function(r){var t=It(tP);return r&&(t=Bp(t,r)),t};i(78),i(158);function rP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _p(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nP(e,r,t){return r&&_p(e.prototype,r),t&&_p(e,t),e}function oP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var iP="*",aP=function(){function e(){rP(this,e),oP(this,"_events",{})}return nP(e,[{key:"on",value:function(t,n,o){var a=this;return t==null||t.split(",").forEach(function(f){f=f.trim(),a._events[f]||(a._events[f]=[]),a._events[f].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){return a=a.trim(),o.on(a,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){var f=o._events[a]||[],p=o._events[iP]||[],m=function(T){for(var N=T.length,L=0;L<N;L++)if(T[L]){var G=T[L],K=G.callback,ie=G.once;ie&&(T.splice(L,1),T.length===0&&delete o._events[a],N--,L--),K.apply(o,[n])}};m(f),m(p)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(a){if(!n)delete o._events[a];else{for(var f=o._events[a]||[],p=f.length,m=0;m<p;m++)f[m].callback===n&&(f.splice(m,1),p--,m--);f.length===0&&delete o._events[a]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function Rn(e,r){return r*Math.round(e/r)||e}function zp(e,r){return e%r}function af(e,r){return fP(e)||lP(e,r)||sP(e,r)||uP()}function uP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sP(e,r){if(e){if(typeof e=="string")return Fp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fp(e,r)}}function Fp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function lP(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function fP(e){if(Array.isArray(e))return e}var uf=function(r,t,n){var o=af(r,2),a=o[0],f=o[1],p=af(t,2),m=p[0],O=p[1],T=af(n,2),N=T[0],L=T[1];return a>m&&a<N&&f>O&&f<L},Gp=function(r,t){var n=t.multipleSelectKey,o=!1;switch(n){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;case"ctrl":o=r.ctrlKey;break;default:o=!1;break}return o};i(79),i(161),i(125),i(80),i(30),i(12),i(13),i(14),i(47);var Da,cP=new Uint8Array(16);function dP(){if(!Da&&(Da=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Da))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Da(cP)}var pP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function hP(e){return typeof e=="string"&&pP.test(e)}for(var vP=hP,Zt=[],sf=0;sf<256;++sf)Zt.push((sf+256).toString(16).substr(1));function yP(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Zt[e[r+0]]+Zt[e[r+1]]+Zt[e[r+2]]+Zt[e[r+3]]+"-"+Zt[e[r+4]]+Zt[e[r+5]]+"-"+Zt[e[r+6]]+Zt[e[r+7]]+"-"+Zt[e[r+8]]+Zt[e[r+9]]+"-"+Zt[e[r+10]]+Zt[e[r+11]]+Zt[e[r+12]]+Zt[e[r+13]]+Zt[e[r+14]]+Zt[e[r+15]]).toLowerCase();if(!vP(t))throw TypeError("Stringified UUID is invalid");return t}var gP=yP;function mP(e,r,t){e=e||{};var n=e.random||(e.rng||dP)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return gP(n)}var lf=mP,In=function(){var r=lf();return r},bP=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.nodes.reduce(function(o,a){return o[a.id]=t+lf(),a.id=o[a.id],o},{});return r.edges.forEach(function(o){o.id=t+lf(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r};i(104),i(203);var OP=function(r,t,n,o){var a=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(a===0)return!1;var f=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/a,p=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/a;return(f-r.x)*(f-t.x)<=0&&(p-r.y)*(p-t.y)<=0&&(f-n.x)*(f-o.x)<=0&&(p-n.y)*(p-o.y)<=0?{x:f,y:p}:!1},fi=function(r,t,n){var o=r.x,a=r.y;return(o-t.x)*(o-n.x)<=0&&(a-t.y)*(a-n.y)<=0};function ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ja=function(t){return typeof t}:ja=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ja(e)}function Hp(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Up(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Hp(Object(t),!0).forEach(function(n){EP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hp(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function EP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ff=function(r){var t=r.anchors;return t},Ca=function(r,t){for(var n=t.nodes,o,a=n.length-1;a>=0;a--){var f=n[a],p=PP(r,f);if(p){var m=f.getTargetAnchor(r);if(m){var O={node:f,anchorIndex:m.index,anchor:m.anchor};(!o||SP(f,o.node,t))&&(o=O)}}}return o},SP=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},xP=function(r,t){for(var n=ff(t),o,a=Number.MAX_SAFE_INTEGER,f=0;f<n.length;f++){var p=Vr(r.x,r.y,n[f].x,n[f].y);p<a&&(a=p,o={index:f,anchor:Up(Up({},n[f]),{},{x:n[f].x,y:n[f].y,id:n[f].id})})}return o},Vr=function(r,t,n,o){return Math.hypot(r-n,t-o)},Bn=function(r,t){var n=!1,o=0,a=Pr(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},PP=function(r,t){var n=!1,o=5,a=Pr(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},Pr=function(r){var t=r.x,n=r.y,o=r.width,a=r.height,f={minX:t-o/2,minY:n-a/2,maxX:t+o/2,maxY:n+a/2,x:t,y:n,width:o,height:a,centerX:t,centerY:n};return f},AP=function(r){var t=r,n=t.x,o=t.y,a=t.width,f=t.height,p=t.radius,m=[{x:n-a/2+p,y:o-f/2+p,r:p},{x:n+a/2-p,y:o-f/2+p,r:p},{x:n-a/2+p,y:o+f/2-p,r:p},{x:n+a/2-p,y:o+f/2-p,r:p}];return m},kp=function(r,t,n){var o=AP(n),a,f=Number.MAX_SAFE_INTEGER;o.forEach(function(m){var O=Vr(r.x,r.y,m.x,m.y);O<f&&(f=O,a=m)});var p=cf(r,t,a);return p},cf=function(r,t,n){var o,a=n,f=a.x,p=a.y,m=a.r;if(t===Dt.HORIZONTAL){var O=f-Math.sqrt(m*m-(r.y-p)*(r.y-p)),T=f+Math.sqrt(m*m-(r.y-p)*(r.y-p)),N=Math.abs(O-r.x)<Math.abs(T-r.x)?O:T;o={x:N,y:r.y}}else if(t===Dt.VERTICAL){var L=p-Math.sqrt(m*m-(r.x-f)*(r.x-f)),G=p+Math.sqrt(m*m-(r.x-f)*(r.x-f)),K=Math.abs(L-r.y)<Math.abs(G-r.y)?L:G;o={x:r.x,y:K}}return o},Xp=function(r,t){var n=t,o=!1,a={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},f=n.x,p=n.y,m=n.width,O=n.height;return r.y===p+O/2||r.y===p-O/2?o=r.x>a.minX&&r.x<a.maxX:(r.x===f+m/2||r.x===f-m/2)&&(o=r.y>a.minY&&r.y<a.maxY),o},$p=function(r,t,n){var o,a=n,f=a.x,p=a.y,m=a.rx,O=a.ry;if(t===Dt.HORIZONTAL){var T=f-Math.sqrt(m*m-(r.y-p)*(r.y-p)*m*m/(O*O)),N=f+Math.sqrt(m*m-(r.y-p)*(r.y-p)*m*m/(O*O)),L=Math.abs(T-r.x)<Math.abs(N-r.x)?T:N;o={x:L,y:r.y}}else if(t===Dt.VERTICAL){var G=p-Math.sqrt(O*O-(r.x-f)*(r.x-f)*O*O/(m*m)),K=p+Math.sqrt(O*O-(r.x-f)*(r.x-f)*O*O/(m*m)),ie=Math.abs(G-r.y)<Math.abs(K-r.y)?G:K;o={x:r.x,y:ie}}return o},Ra=function(r,t,n){for(var o=n,a=o.pointsPosition,f=Number.MAX_SAFE_INTEGER,p,m=[],O=0;O<a.length;O++)m.push({start:a[O],end:a[(O+1)%a.length]});return m.forEach(function(T){var N=T.start,L=T.end,G=N,K=L;N.x>L.x&&(G=L,K=N);var ie={x:r.x,y:r.y};if(G.x===K.x&&t===Dt.HORIZONTAL&&(ie={x:G.x,y:r.y}),G.y===K.y&&t===Dt.VERTICAL&&(ie={x:r.x,y:G.y}),G.x!==K.x&&G.y!==K.y){var oe=(K.y-G.y)/(K.x-G.x),ue=(G.x*K.y-K.x*G.y)/(G.x-K.x);t===Dt.HORIZONTAL?ie={x:(r.y-ue)/oe,y:r.y}:t===Dt.VERTICAL&&(ie={x:r.x,y:oe*r.x+ue})}var Me=fi(ie,N,L);if(Me){var Ce=Vr(ie.x,ie.y,r.x,r.y);Ce<f&&(f=Ce,p=ie)}}),p},TP=function(r){var t=si(r,["id","type","x","y","text","properties","virtual"]);return t},Yp=function(r,t,n,o){var a=r.x,f=r.y;return t.x>r.x?a=r.x+n/2:t.x<r.x&&(a=r.x-n/2),t.y>r.y?f=r.y+o/2:t.y<r.y&&(f=r.y-o/2),{x:a,y:f}},Wp=function(r){var t=r.rows,n=r.style,o=r.rowsLength,a=r.className,f=document.createElement("div");f.style.fontSize=n.fontSize,f.style.width=n.width,f.className=a,f.style.lineHeight=n.lineHeight,f.style.padding=n.padding,n.fontFamily&&(f.style.fontFamily=n.fontFamily),o>1?t.forEach(function(m){var O=document.createElement("div");O.textContent=m,f.appendChild(O)}):f.textContent=t,document.body.appendChild(f);var p=f.clientHeight;return document.body.removeChild(f),p},df=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,a=0;return t&&t.forEach(function(f){var p=zh(f);a=p>a?p:a}),{width:Math.ceil(a/2)*o+o/4,height:n*(o+2)+o/4}},Ia=function(r){return ja(r)!=="object"?{isAllPass:!!r,msg:r?"":"不允许连接"}:r},rr=function(r){try{return JSON.parse(JSON.stringify(r))}catch(t){return r}},MP=1e3,wP=999,pf=function(){return++MP},NP=function(){return--wP},ge,Kp,Vp,Zp,Jp,Qp,qp,eh,th,rh,nh,oh,ih,ah,uh,sh,lh,fh,ch,dh,ph;function hh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function hr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?hh(Object(t),!0).forEach(function(n){Rr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ft(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function DP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jP(e,r,t){return r&&vh(e.prototype,r),t&&vh(e,t),e}function Rr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Qe(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var hf=(ge=function(){function e(r,t){DP(this,e),Rr(this,"id",""),Ft(this,"type",Kp,this),Ft(this,"sourceNodeId",Vp,this),Ft(this,"targetNodeId",Zp,this),Ft(this,"startPoint",Jp,this),Ft(this,"endPoint",Qp,this),Ft(this,"text",qp,this),Ft(this,"properties",eh,this),Ft(this,"points",th,this),Ft(this,"pointsList",rh,this),Ft(this,"isSelected",nh,this),Ft(this,"isHovered",oh,this),Ft(this,"isHitable",ih,this),Ft(this,"draggable",ah,this),Ft(this,"visible",uh,this),Rr(this,"virtual",!1),Ft(this,"isAnimation",sh,this),Ft(this,"isShowAdjustPoint",lh,this),Rr(this,"graphModel",void 0),Ft(this,"zIndex",fh,this),Rr(this,"BaseType",zt.EDGE),Rr(this,"modelType",pt.EDGE),Ft(this,"state",ch,this),Rr(this,"additionStateData",void 0),Rr(this,"sourceAnchorId",""),Rr(this,"targetAnchorId",""),Rr(this,"menu",void 0),Rr(this,"customTextPosition",!1),Ft(this,"style",dh,this),Ft(this,"arrowConfig",ph,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return jP(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type),a=this.createId();t.id=a||o||In()}this.arrowConfig.markerEnd="url(#marker-end-".concat(t.id,")");var f=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=f,ur(this,OA(t));var p=this.graphModel.overlapMode;p===xr.INCREASE&&(this.zIndex=t.zIndex||pf()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return hr(hr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return hr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return It(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return It(t)}},{key:"getArrowStyle",value:function(){var t=this.getEdgeStyle(),n=this.getEdgeAnimationStyle(),o=this.graphModel.theme.arrow,a=this.isAnimation?n.stroke:t.stroke;return hr(hr({},t),{},{fill:a,stroke:a},o)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,n=t.theme.outline;return It(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,a,f=ff(t);return f.forEach(function(p){var m=Hh(p,n);(a===void 0||m<a)&&(a=m,o=p)}),o}},{key:"getEndAnchor",value:function(t){var n=this,o,a,f=ff(t);return f.forEach(function(p){var m=Hh(p,n.startPoint);(a===void 0||m<a)&&(a=m,o=p)}),o}},{key:"getProperties",value:function(){return Object(l.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,f={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(l.I)(this.properties)};return a&&(f.text={x:n,y:o,value:a}),this.graphModel.overlapMode===xr.INCREASE&&(f.zIndex=this.zIndex),f}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=rr(n),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=hr(hr({},this.properties),rr(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var n=this.arrowConfig,o=n.markerEnd,a=n.markerStart;a&&a==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,n){this.style=hr(hr({},this.style),{},Rr({},t,rr(n)))}},{key:"setStyles",value:function(t){this.style=hr(hr({},this.style),rr(t))}},{key:"updateStyles",value:function(t){this.style=hr({},rr(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,a=n.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||o,y:t.text.y||a,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,n=t.x,o=t.y;this.text.x=n,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text,a=o.x,f=o.y,p=o.value,m=o.draggable,O=o.editable;this.text={value:p,draggable:m,x:a+t,y:f+n,editable:O}}}},{key:"setText",value:function(t){t&&ur(this.text,t)}},{key:"updateText",value:function(t){this.text=hr(hr({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){ur(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),Kp=Qe(ge.prototype,"type",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vp=Qe(ge.prototype,"sourceNodeId",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zp=Qe(ge.prototype,"targetNodeId",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jp=Qe(ge.prototype,"startPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qp=Qe(ge.prototype,"endPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qp=Qe(ge.prototype,"text",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),eh=Qe(ge.prototype,"properties",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),th=Qe(ge.prototype,"points",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rh=Qe(ge.prototype,"pointsList",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nh=Qe(ge.prototype,"isSelected",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oh=Qe(ge.prototype,"isHovered",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ih=Qe(ge.prototype,"isHitable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ah=Qe(ge.prototype,"draggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uh=Qe(ge.prototype,"visible",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sh=Qe(ge.prototype,"isAnimation",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lh=Qe(ge.prototype,"isShowAdjustPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fh=Qe(ge.prototype,"zIndex",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ch=Qe(ge.prototype,"state",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dh=Qe(ge.prototype,"style",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ph=Qe(ge.prototype,"arrowConfig",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),Qe(ge.prototype,"sourceNode",[l.m],Object.getOwnPropertyDescriptor(ge.prototype,"sourceNode"),ge.prototype),Qe(ge.prototype,"targetNode",[l.m],Object.getOwnPropertyDescriptor(ge.prototype,"targetNode"),ge.prototype),Qe(ge.prototype,"textPosition",[l.m],Object.getOwnPropertyDescriptor(ge.prototype,"textPosition"),ge.prototype),Qe(ge.prototype,"setProperty",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setProperty"),ge.prototype),Qe(ge.prototype,"deleteProperty",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"deleteProperty"),ge.prototype),Qe(ge.prototype,"setProperties",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setProperties"),ge.prototype),Qe(ge.prototype,"changeEdgeId",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"changeEdgeId"),ge.prototype),Qe(ge.prototype,"setStyle",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setStyle"),ge.prototype),Qe(ge.prototype,"setStyles",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setStyles"),ge.prototype),Qe(ge.prototype,"updateStyles",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateStyles"),ge.prototype),Qe(ge.prototype,"formatText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"formatText"),ge.prototype),Qe(ge.prototype,"resetTextPosition",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"resetTextPosition"),ge.prototype),Qe(ge.prototype,"moveText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveText"),ge.prototype),Qe(ge.prototype,"setText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setText"),ge.prototype),Qe(ge.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateText"),ge.prototype),Qe(ge.prototype,"setAnchors",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setAnchors"),ge.prototype),Qe(ge.prototype,"setSelected",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setSelected"),ge.prototype),Qe(ge.prototype,"setHovered",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setHovered"),ge.prototype),Qe(ge.prototype,"setHitable",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setHitable"),ge.prototype),Qe(ge.prototype,"openEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"openEdgeAnimation"),ge.prototype),Qe(ge.prototype,"closeEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"closeEdgeAnimation"),ge.prototype),Qe(ge.prototype,"setElementState",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setElementState"),ge.prototype),Qe(ge.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateStartPoint"),ge.prototype),Qe(ge.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveStartPoint"),ge.prototype),Qe(ge.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateEndPoint"),ge.prototype),Qe(ge.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveEndPoint"),ge.prototype),Qe(ge.prototype,"setZIndex",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setZIndex"),ge.prototype),Qe(ge.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"initPoints"),ge.prototype),Qe(ge.prototype,"updateAttributes",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateAttributes"),ge.prototype),Qe(ge.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"getAdjustStart"),ge.prototype),Qe(ge.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"getAdjustEnd"),ge.prototype),Qe(ge.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateAfterAdjustStartAndEnd"),ge.prototype),ge),vf=hf;function Ba(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ba=function(t){return typeof t}:Ba=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ba(e)}function yh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yh(Object(t),!0).forEach(function(n){Oh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function CP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RP(e,r,t){return r&&mh(e.prototype,r),t&&mh(e,t),e}function La(){return typeof Reflect!="undefined"&&Reflect.get?La=Reflect.get:La=function(r,t,n){var o=IP(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},La.apply(this,arguments)}function IP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ao(e),e!==null););return e}function BP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&yf(e,r)}function yf(e,r){return yf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},yf(e,r)}function LP(e){var r=zP();return function(){var n=Ao(e),o;if(r){var a=Ao(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return _P(this,o)}}function _P(e,r){if(r&&(Ba(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bh(e)}function bh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ao(e){return Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ao(e)}function Oh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var gf=function(e){BP(t,e);var r=LP(t);function t(){var n;CP(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),Oh(bh(n),"modelType",pt.LINE_EDGE),n}return RP(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line,a=La(Ao(t.prototype),"getEdgeStyle",this).call(this);return gh(gh({},a),It(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(vf);function _a(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_a=function(t){return typeof t}:_a=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(e)}var ut,Eh;function FP(e,r){return kP(e)||UP(e,r)||HP(e,r)||GP()}function GP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HP(e,r){if(e){if(typeof e=="string")return Sh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sh(e,r)}}function Sh(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function UP(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function kP(e){if(Array.isArray(e))return e}function xh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ph(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?xh(Object(t),!0).forEach(function(n){bf(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function XP(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function $P(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ah(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function YP(e,r,t){return r&&Ah(e.prototype,r),t&&Ah(e,t),e}function To(){return typeof Reflect!="undefined"&&Reflect.get?To=Reflect.get:To=function(r,t,n){var o=WP(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},To.apply(this,arguments)}function WP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ln(e),e!==null););return e}function KP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&mf(e,r)}function mf(e,r){return mf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},mf(e,r)}function VP(e){var r=JP();return function(){var n=Ln(e),o;if(r){var a=Ln(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return ZP(this,o)}}function ZP(e,r){if(r&&(_a(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ci(e)}function ci(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ln(e){return Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ln(e)}function bf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function sr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Of=(ut=function(e){KP(t,e);var r=VP(t);function t(){var n;$P(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),bf(ci(n),"modelType",pt.POLYLINE_EDGE),bf(ci(n),"draggingPointList",void 0),XP(ci(n),"dbClickPosition",Eh,ci(n)),n}return YP(t,[{key:"initEdgeData",value:function(o){this.offset=30,To(Ln(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline,a=To(Ln(t.prototype),"getEdgeStyle",this).call(this);return Ph(Ph({},a),It(o))}},{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var f=this.dbClickPosition,p=f.x,m=f.y;return{x:p,y:m}}var O=Mo(this.points),T=yA(O),N=FP(T,2),L=N[0],G=N[1];return{x:(L.x+G.x)/2,y:(L.y+G.y)/2}}},{key:"getAfterAnchor",value:function(o,a,f){var p,m;return f.forEach(function(O){var T;o===Dt.HORIZONTAL?T=Math.abs(a.y-O.y):o===Dt.VERTICAL&&(T=Math.abs(a.x-O.x)),(!m||m>T)&&(m=T,p=O)}),p}},{key:"getCrossPoint",value:function(o,a,f){var p;return o===Dt.HORIZONTAL?p={x:f.x,y:a.y}:o===Dt.VERTICAL&&(p={x:a.x,y:f.y}),p}},{key:"removeCrossPoints",value:function(o,a,f){var p=f.map(function(Ne){return Ne});if(o===1){var m=p[o],O=p[a],T=p[o-1],N=Ih(T,m,this.sourceNode);if(N){var L=Bh(m,O,this.sourceNode);if(L){var G=Lh(m,O,this.sourceNode);G&&(p[o]=G,p.splice(o-1,1),o--,a--)}}else{var K=this.sourceNode.anchors;K.forEach(function(Ne){if(Ne.x===T.x&&Ne.x===m.x||Ne.y===T.y&&Ne.y===m.y){var ke=Vr(Ne.x,Ne.y,m.x,m.y),De=Vr(T.x,T.y,m.x,m.y);ke<De&&(p[o-1]=Ne)}})}}if(a===f.length-2){var ie=p[o],oe=p[a],ue=p[a+1],Me=Ih(oe,ue,this.targetNode);if(Me){var Ce=Bh(ie,oe,this.targetNode);if(Ce){var ye=Lh(ie,oe,this.targetNode);ye&&(p[a]=ye,p.splice(a+1,1))}}else{var Be=this.targetNode.anchors;Be.forEach(function(Ne){if(Ne.x===ue.x&&Ne.x===oe.x||Ne.y===ue.y&&Ne.y===oe.y){var ke=Vr(Ne.x,Ne.y,oe.x,oe.y),De=Vr(ue.x,ue.y,oe.x,oe.y);ke<De&&(p[a+1]=Ne)}})}}return p}},{key:"getDraggingPoints",value:function(o,a,f,p,m){var O=m.map(function(L){return L}),T=this.getAfterAnchor(o,f,p),N=this.getCrossPoint(o,f,T);return a==="start"?(O.unshift(N),O.unshift(T)):(O.push(N),O.push(T)),O}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(ye){return ye}),f=o[0],p=o[1],m=o[a.length-2],O=o[a.length-1],T=this.sourceNode,N=this.targetNode,L=T.modelType,G=N.modelType,K=Xa(f,p),ie=a[0];switch(L){case pt.RECT_NODE:if(T.radius!==0){var oe=Xp(f,T);oe||(ie=kp(f,K,T))}break;case pt.CIRCLE_NODE:ie=cf(f,K,T);break;case pt.ELLIPSE_NODE:ie=$p(f,K,T);break;case pt.DIAMOND_NODE:ie=Ra(f,K,T);break;case pt.POLYGON_NODE:ie=Ra(f,K,T);break}a[0]=ie;var ue=Xa(m,O),Me=a[a.length-1];switch(G){case pt.RECT_NODE:if(N.radius!==0){var Ce=Xp(O,N);Ce||(Me=kp(O,ue,N))}break;case pt.CIRCLE_NODE:Me=cf(O,ue,N);break;case pt.ELLIPSE_NODE:Me=$p(O,ue,N);break;case pt.DIAMOND_NODE:Me=Ra(O,ue,N);break;case pt.POLYGON_NODE:Me=Ra(O,ue,N);break}return a[a.length-1]=Me,a}},{key:"getData",value:function(){var o=To(Ln(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){var p=f.x,m=f.y;return{x:p,y:m}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Rh({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,a){this.isDragging=!0;var f=o.start,p=o.end,m=o.startIndex,O=o.endIndex,T=o.direction,N=this.pointsList,L=N;return T===Dt.HORIZONTAL?(N[m]={x:f.x,y:f.y+a.y},N[O]={x:p.x,y:p.y+a.y},L=this.pointsList.map(function(G){return G})):T===Dt.VERTICAL&&(N[m]={x:f.x+a.x,y:f.y},N[O]={x:p.x+a.x,y:p.y},L=this.pointsList.map(function(G){return G})),this.updatePointsAfterDrag(L),this.draggingPointList=L,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},N[m]),end:Object.assign({},N[O]),startIndex:m,endIndex:O,direction:T}}},{key:"dragAppend",value:function(o,a){this.isDragging=!0;var f=o.start,p=o.end,m=o.startIndex,O=o.endIndex,T=o.direction,N=this.pointsList;if(T===Dt.HORIZONTAL){N[m]={x:f.x,y:f.y+a.y},N[O]={x:p.x,y:p.y+a.y};var L=this.pointsList.map(function(ht){return ht});if(m!==0&&O!==this.pointsList.length-1&&(L=this.removeCrossPoints(m,O,L)),m===0){var G={x:f.x,y:f.y+a.y},K=Bn(G,this.sourceNode);if(!K){var ie=this.sourceNode.anchors;L=this.getDraggingPoints(T,"start",G,ie,L)}}if(O===this.pointsList.length-1){var oe={x:p.x,y:p.y+a.y},ue=Bn(oe,this.targetNode);if(!ue){var Me=this.targetNode.anchors;L=this.getDraggingPoints(T,"end",oe,Me,L)}}this.updatePointsAfterDrag(L),this.draggingPointList=L}else if(T===Dt.VERTICAL){N[m]={x:f.x+a.x,y:f.y},N[O]={x:p.x+a.x,y:p.y};var Ce=this.pointsList.map(function(ht){return ht});if(m!==0&&O!==this.pointsList.length-1&&(Ce=this.removeCrossPoints(m,O,Ce)),m===0){var ye={x:f.x+a.x,y:f.y},Be=Bn(ye,this.sourceNode);if(!Be){var Ne=this.sourceNode.anchors;Ce=this.getDraggingPoints(T,"start",ye,Ne,Ce)}}if(O===this.pointsList.length-1){var ke={x:p.x+a.x,y:p.y},De=Bn(ke,this.targetNode);if(!De){var ot=this.targetNode.anchors;Ce=this.getDraggingPoints(T,"end",ke,ot,Ce)}}this.updatePointsAfterDrag(Ce),this.draggingPointList=Ce}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},N[m]),end:Object.assign({},N[O]),startIndex:m,endIndex:O,direction:T}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var o=Ch(Mo(this.points));this.pointsList=o.map(function(p){return p}),this.draggingPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var f=o[o.length-1];this.endPoint=Object.assign({},f)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(f){return"".concat(f.x,",").concat(f.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,f=o.endPoint,p=o.sourceNode,m=o.targetNode,O=Rh({x:a.x,y:a.y},{x:f.x,y:f.y},p,m,this.offset||0);this.pointsList=O,this.initPoints()}}]),t}(vf),Eh=sr(ut.prototype,"dbClickPosition",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sr(ut.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"initPoints"),ut.prototype),sr(ut.prototype,"updatePoints",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePoints"),ut.prototype),sr(ut.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateStartPoint"),ut.prototype),sr(ut.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"moveStartPoint"),ut.prototype),sr(ut.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateEndPoint"),ut.prototype),sr(ut.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"moveEndPoint"),ut.prototype),sr(ut.prototype,"dragAppendStart",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendStart"),ut.prototype),sr(ut.prototype,"dragAppendSimple",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendSimple"),ut.prototype),sr(ut.prototype,"dragAppend",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppend"),ut.prototype),sr(ut.prototype,"dragAppendEnd",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendEnd"),ut.prototype),sr(ut.prototype,"updatePointsAfterDrag",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePointsAfterDrag"),ut.prototype),sr(ut.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustStart"),ut.prototype),sr(ut.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustEnd"),ut.prototype),sr(ut.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateAfterAdjustStartAndEnd"),ut.prototype),ut),di=function(r){var t=r.start,n=r.end,o=r.offset,a=r.verticalLength,f=r.type,p={leftX:0,leftY:0,rightX:0,rightY:0},m=Math.atan((n.y-t.y)/(n.x-t.x)),O=Math.atan(o/a),T=Math.sqrt(a*a+o*o);return f==="start"?n.x>=t.x?(p.leftX=t.x+T*Math.sin(m+O),p.leftY=t.y-T*Math.cos(m+O),p.rightX=t.x-T*Math.sin(m-O),p.rightY=t.y+T*Math.cos(m-O)):(p.leftX=t.x-T*Math.sin(m+O),p.leftY=t.y+T*Math.cos(m+O),p.rightX=t.x+T*Math.sin(m-O),p.rightY=t.y-T*Math.cos(m-O)):f==="end"&&(n.x>=t.x?(p.leftX=n.x+T*Math.sin(m-O),p.leftY=n.y-T*Math.cos(m-O),p.rightX=n.x-T*Math.sin(m+O),p.rightY=n.y+T*Math.cos(m+O)):(p.leftX=n.x-T*Math.sin(m-O),p.leftY=n.y+T*Math.cos(m-O),p.rightX=n.x+T*Math.sin(m+O),p.rightY=n.y-T*Math.cos(m+O))),p};function Th(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function za(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Th(Object(t),!0).forEach(function(n){QP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Th(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function QP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function qP(e){return rA(e)||tA(e)||Mh(e)||eA()}function eA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tA(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rA(e){if(Array.isArray(e))return Sf(e)}function Fa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fa=function(t){return typeof t}:Fa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(e)}function Ef(e,r){return iA(e)||oA(e,r)||Mh(e,r)||nA()}function nA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mh(e,r){if(e){if(typeof e=="string")return Sf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sf(e,r)}}function Sf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function oA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function iA(e){if(Array.isArray(e))return e}var aA=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},xf=function(r){var t=[],n={};return r.forEach(function(o){var a="".concat(o.x,"-").concat(o.y);o.id=a,n[a]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},Ga=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},uA=function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?Dt.HORIZONTAL:Dt.VERTICAL},Ha=function(r,t){var n=uA(t,r);return n===Dt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},wh=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),f=Math.max(r.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(o+f)/2,minX:n,minY:o,maxX:a,maxY:f,height:f-o,width:a-n}},pi=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],o=[];r.forEach(function(N){n.push(N.x),o.push(N.y)});var a=Math.min.apply(Math,n),f=Math.max.apply(Math,n),p=Math.min.apply(Math,o),m=Math.max.apply(Math,o),O=f-a,T=m-p;return t&&(O+=t,T+=t),{centerX:(a+f)/2,centerY:(p+m)/2,maxX:f,maxY:m,minX:a,minY:p,x:(a+f)/2,y:(p+m)/2,height:T,width:O}},Ua=function(r){var t=r.minX,n=r.minY,o=r.maxX,a=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:a},{x:t,y:a}]},ka=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},sA=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},lA=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},fA=function(r,t){return sA(r,t.x).concat(lA(r,t.y))},Pf=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},cA=function(r,t){var n=-2,o=0;return t.forEach(function(a){a&&(r.x===a.x&&(o+=n),r.y===a.y&&(o+=n))}),o},Nh=function(r,t,n,o,a){return Pf(r,t)+Pf(r,n)+cA(r,[t,n,o,a])},dA=function e(r,t,n,o,a){a||(a=0),r.unshift(t[o]),n[o]&&n[o]!==o&&a<=100&&e(r,t,n,n[o],a+1)},pA=function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)},hi=function(r,t,n,o){var a=t.x-r.x,f=t.y-r.y,p=o.x-n.x,m=o.y-n.y,O=(-f*(r.x-n.x)+a*(r.y-n.y))/(-p*f+a*m),T=(p*(r.y-n.y)-m*(r.x-n.x))/(-p*f+a*m);return O>=0&&O<=1&&T>=0&&T<=1},Dh=function(r,t,n){if(n.width===0&&n.height===0)return!1;var o=Ua(n),a=Ef(o,4),f=a[0],p=a[1],m=a[2],O=a[3];return hi(r,t,f,p)||hi(r,t,f,O)||hi(r,t,p,m)||hi(r,t,m,O)},hA=function(r,t,n,o){var a=[];return r.forEach(function(f){f!==t&&(f.x===t.x||f.y===t.y)&&!Dh(f,t,n)&&!Dh(f,t,o)&&a.push(f)}),xf(a)},vA=function(r,t,n,o,a,f,p){var m=[],O=[t],T={},N={},L={};N[t.id]=0,L[t.id]=Nh(t,n,t);var G={};r.forEach(function(oe){G[oe.id]=oe});for(var K=function(){var ue=void 0,Me=1/0;if(O.forEach(function(ye){L[ye.id]<Me&&(Me=L[ye.id],ue=ye)}),ue===n){var Ce=[];return dA(Ce,G,T,n.id),{v:Ce}}pA(O,ue),m.push(ue),hA(r,ue,o,a).forEach(function(ye){if(m.indexOf(ye)===-1){O.indexOf(ye)===-1&&O.push(ye);var Be=L[ue.id]+Pf(ue,ye);N[ye.id]&&Be>=N[ye.id]||(T[ye.id]=ue.id,N[ye.id]=Be,L[ye.id]=N[ye.id]+Nh(ye,n,t,f,p))}})};O.length;){var ie=K();if(Fa(ie)==="object")return ie.v}return[t,n]},jh=function(r){var t=Pr(r);return t},Ch=function(r){for(var t=1;t<r.length-1;){var n=r[t-1],o=r[t],a=r[t+1];n.x===o.x&&o.x===a.x||n.y===o.y&&o.y===a.y?r.splice(t,1):t++}return r},Rh=function(r,t,n,o,a){var f=jh(n),p=jh(o),m=Ga(f,a),O=Ga(p,a),T=Ha(m,r),N=Ha(O,t);if(aA(m,O)){var L=gA(r,t,T,N);return[r,T].concat(qP(L),[N,t])}var G=pi([T,N]),K=wh(m,G),ie=wh(O,G),oe=[];oe=oe.concat(Ua(K)),oe=oe.concat(Ua(ie));var ue={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[G,K,ie].forEach(function(Ce){oe=oe.concat(fA(Ce,ue).filter(function(ye){return ka(ye,m)&&ka(ye,O)}))}),[{x:T.x,y:N.y},{x:N.x,y:T.y}].forEach(function(Ce){ka(Ce,m)&&ka(Ce,O)&&oe.push(Ce)}),oe.unshift(T),oe.push(N),oe=xf(oe);var Me=vA(oe,T,N,f,p,r,t);return Me.unshift(r),Me.push(t),Me.length>2&&(Me=Ch(Me)),xf(Me)},yA=function(r){var t;if(r.length===1)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],a=Vr(n.x,n.y,o.x,o.y),f=1;f<r.length-1;f++){var p=r[f],m=r[f+1],O=Vr(p.x,p.y,m.x,m.y);O>a&&(a=O,n=p,o=m)}t=[n,o]}return t},Ih=function(r,t,n){var o=Bn(r,n),a=Bn(t,n);return o&&a},Bh=function(r,t,n){var o=Bn(r,n),a=Bn(t,n),f=o&&a,p=o||a;return!f&&p},Lh=function(r,t,n){for(var o,a,f=Pr(n),p=Ua(f),m=0;m<p.length;m++){var O=hi(r,t,p[m],p[(m+1)%p.length]);O&&(a=[p[m],p[(m+1)%p.length]])}return a&&(o=OP(r,t,a[0],a[1])),o},Xa=function(r,t){var n;return r.x===t.x?n=Dt.VERTICAL:r.y===t.y&&(n=Dt.HORIZONTAL),n},Mo=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var a=o.split(","),f=Ef(a,2),p=f[0],m=f[1];n.push({x:Number(p),y:Number(m)})}),n},gA=function(r,t,n,o){var a=[],f=Xa(r,n),p=Xa(t,o);if(f===p)r.y===n.y?(a.push({x:n.x,y:(n.y+o.y)/2}),a.push({x:o.x,y:(n.y+o.y)/2})):(a.push({x:(n.x+o.x)/2,y:n.y}),a.push({x:(n.x+o.x)/2,y:o.y}));else{var m={x:n.x,y:o.y},O=fi(m,r,n),T=fi(m,t,o);if(O||T)m={x:o.x,y:n.y};else{var N=_h(m,r,n),L=_h(m,t,o);N&&L&&(m={x:o.x,y:n.y})}a.push(m)}return a},_h=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},zh=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:o>=1&&o<=126||o>=65376&&o<=65439?t+=1:t+=2}return t},mA=function(r){var t=r.start,n=r.end,o;if(t.x===n.x&&t.y===n.y)o="";else{var a={start:t,end:n,offset:10,verticalLength:5},f=di(za(za({},a),{},{type:"start"})),p=di(za(za({},a),{},{type:"end"}));o="M".concat(f.leftX," ").concat(f.leftY,` 
    L`).concat(f.rightX," ").concat(f.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Fh=function(r){var t=r.start,n=r.end,o=r.sourceNode,a=r.targetNode,f=r.offset,p=Pr(o),m=Pr(a),O=Ga(p,f),T=Ga(m,f),N=Ha(O,t),L=Ha(T,n);return{sNext:N,ePre:L}},$a=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(","),n=Ya(t[0]),o=Ya(t[1]),a=Ya(t[2]),f=Ya(t[3]);return[n,o,a,f]},Ya=function(r){var t=r.replace(/(^\s*)/g,"").split(" "),n=Ef(t,2),o=n[0],a=n[1];return{x:+o,y:+a}},bA=function(r){var t=$a(r);return[t[2],t[3]]},Gh=function(r,t){for(var n=r.x,o=r.y,a=Mo(t),f=Number.MAX_SAFE_INTEGER,p,m=[],O=0;O<a.length;O++)m.push({start:a[O],end:a[(O+1)%a.length]});if(m.forEach(function(G){var K=G.start,ie=G.end;if(K.x===ie.x){var oe={x:K.x,y:o},ue=fi(oe,K,ie);if(ue){var Me=Math.abs(K.x-n);Me<f&&(f=Me,p=oe)}}else if(K.y===ie.y){var Ce={x:n,y:K.y},ye=fi(Ce,K,ie);if(ye){var Be=Math.abs(K.y-o);Be<f&&(f=Be,p=Ce)}}}),!p){var T=m[0],N=T.start,L=T.end;p={x:N.x+(L.x-N.x)/2,y:N.y+(L.y-N.y)/2}}return p},OA=function(r){return si(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Hh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};function EA(e,r){return typeof r!="function"?function(t,n,o){return Object.assign({type:e.edgeType},o)}:function(t,n,o){var a=r(t,n,o);return a?typeof a=="string"?Object.assign({},o,{type:a}):Object.assign({type:a},o):{type:e.edgeType}}}i(204);function SA(){}var wo=SA;function xA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Uh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PA(e,r,t){return r&&Uh(e.prototype,r),t&&Uh(e,t),e}function Gt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Zr=window.document,kh=0;function AA(e){var r=e.onDragStart,t=r===void 0?wo:r,n=e.onDragging,o=n===void 0?wo:n,a=e.onDragEnd,f=a===void 0?wo:a,p=e.step,m=p===void 0?1:p,O=e.isStopPropagation,T=O===void 0?!0:O,N=!1,L=!1,G=0,K=0,ie=0,oe=0;function ue(ye){if(T&&ye.stopPropagation(),!!L&&(N=!0,ie+=ye.clientX-G,oe+=ye.clientY-K,G=ye.clientX,K=ye.clientY,Math.abs(ie)>m||Math.abs(oe)>m)){var Be=ie%m,Ne=oe%m,ke=ie-Be,De=oe-Ne;ie=Be,oe=Ne,o({deltaX:ke,deltaY:De,event:ye})}}function Me(ye){if(T&&ye.stopPropagation(),L=!1,Zr.removeEventListener("mousemove",ue,!1),Zr.removeEventListener("mouseup",Me,!1),!!N)return N=!1,f({event:ye})}function Ce(ye){if(ye.button===kh)return T&&ye.stopPropagation(),L=!0,G=ye.clientX,K=ye.clientY,Zr.addEventListener("mousemove",ue,!1),Zr.addEventListener("mouseup",Me,!1),t({event:ye})}return Ce}var fn=function(){function e(r){var t=this,n=r.onDragStart,o=n===void 0?wo:n,a=r.onDragging,f=a===void 0?wo:a,p=r.onDragEnd,m=p===void 0?wo:p,O=r.eventType,T=O===void 0?"":O,N=r.eventCenter,L=N===void 0?null:N,G=r.step,K=G===void 0?1:G,ie=r.isStopPropagation,oe=ie===void 0?!0:ie,ue=r.model,Me=ue===void 0?null:ue,Ce=r.data,ye=Ce===void 0?null:Ce;xA(this,e),Gt(this,"onDragStart",void 0),Gt(this,"onDragging",void 0),Gt(this,"onDragEnd",void 0),Gt(this,"step",void 0),Gt(this,"isStopPropagation",void 0),Gt(this,"isDragging",!1),Gt(this,"isStartDragging",!1),Gt(this,"startX",0),Gt(this,"startY",0),Gt(this,"sumDeltaX",0),Gt(this,"sumDeltaY",0),Gt(this,"eventType",void 0),Gt(this,"eventCenter",void 0),Gt(this,"model",void 0),Gt(this,"data",void 0),Gt(this,"startTime",void 0),Gt(this,"handleMouseDown",function(Be){var Ne,ke;if(Be.button===kh){t.isStopPropagation&&Be.stopPropagation(),t.isStartDragging=!0,t.startX=Be.clientX,t.startY=Be.clientY,Zr.addEventListener("mousemove",t.handleMouseMove,!1),Zr.addEventListener("mouseup",t.handleMouseUp,!1);var De=(Ne=t.model)===null||Ne===void 0?void 0:Ne.getData();(ke=t.eventCenter)===null||ke===void 0||ke.emit(nt["".concat(t.eventType,"_MOUSEDOWN")],{e:Be,data:t.data||De}),t.startTime=new Date().getTime()}}),Gt(this,"handleMouseMove",function(Be){if(t.isStopPropagation&&Be.stopPropagation(),!!t.isStartDragging&&(t.sumDeltaX+=Be.clientX-t.startX,t.sumDeltaY+=Be.clientY-t.startY,t.startX=Be.clientX,t.startY=Be.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var Ne,ke=t.sumDeltaX%t.step,De=t.sumDeltaY%t.step,ot=t.sumDeltaX-ke,ht=t.sumDeltaY-De;t.sumDeltaX=ke,t.sumDeltaY=De;var Ht=(Ne=t.model)===null||Ne===void 0?void 0:Ne.getData();if(!t.isDragging){var Wt;(Wt=t.eventCenter)===null||Wt===void 0||Wt.emit(nt["".concat(t.eventType,"_DRAGSTART")],{e:Be,data:t.data||Ht}),t.onDragStart({event:Be})}t.isDragging=!0,Promise.resolve().then(function(){var ir,yr;t.onDragging({deltaX:ot,deltaY:ht,event:Be}),(ir=t.eventCenter)===null||ir===void 0||ir.emit(nt["".concat(t.eventType,"_MOUSEMOVE")],{e:Be,data:t.data||Ht}),(yr=t.eventCenter)===null||yr===void 0||yr.emit(nt["".concat(t.eventType,"_DRAG")],{e:Be,data:t.data||Ht})})}}),Gt(this,"handleMouseUp",function(Be){t.isStartDragging=!1,t.isStopPropagation&&Be.stopPropagation(),Promise.resolve().then(function(){var Ne,ke,De;Zr.removeEventListener("mousemove",t.handleMouseMove,!1),Zr.removeEventListener("mouseup",t.handleMouseUp,!1);var ot=(Ne=t.model)===null||Ne===void 0?void 0:Ne.getData();(ke=t.eventCenter)===null||ke===void 0||ke.emit(nt["".concat(t.eventType,"_MOUSEUP")],{e:Be,data:t.data||ot}),t.isDragging&&(t.isDragging=!1,t.onDragEnd({event:Be}),(De=t.eventCenter)===null||De===void 0||De.emit(nt["".concat(t.eventType,"_DROP")],{e:Be,data:t.data||ot}))})}),Gt(this,"cancelDrag",function(){Zr.removeEventListener("mousemove",t.handleMouseMove,!1),Zr.removeEventListener("mouseup",t.handleMouseUp,!1),t.onDragEnd({event:null}),t.isDragging=!1}),this.onDragStart=o,this.onDragging=f,this.onDragEnd=m,this.step=K,this.isStopPropagation=oe,this.eventType=T,this.eventCenter=L,this.model=Me,this.data=ye}return PA(e,[{key:"setStep",value:function(t){this.step=t}}]),e}(),Xh={node:!1,edge:!1},TA={node:!0,edge:!0},MA=function(r){return!r||typeof r=="boolean"?It(r===!0?TA:Xh):Bp(It(Xh),r)},de,$h,Yh,Wh,Kh,Vh,Zh,Jh,Qh,qh,ev,tv,rv;function nv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Wa(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?nv(Object(t),!0).forEach(function(n){Jr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function vi(e,r){return DA(e)||NA(e,r)||ov(e,r)||wA()}function wA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function DA(e){if(Array.isArray(e))return e}function No(e){return RA(e)||CA(e)||ov(e)||jA()}function jA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ov(e,r){if(e){if(typeof e=="string")return Af(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Af(e,r)}}function CA(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RA(e){if(Array.isArray(e))return Af(e)}function Af(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function yi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yi=function(t){return typeof t}:yi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(e)}function Ir(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function IA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function iv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BA(e,r,t){return r&&iv(e.prototype,r),t&&iv(e,t),e}function Jr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ze(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Ka=200,av=(de=function(){function e(r){IA(this,e),Jr(this,"rootEl",void 0),Ir(this,"width",$h,this),Ir(this,"height",Yh,this),Jr(this,"theme",void 0),Jr(this,"eventCenter",void 0),Jr(this,"modelMap",new Map),Jr(this,"topElement",void 0),Jr(this,"animation",void 0),Jr(this,"idGenerator",void 0),Jr(this,"edgeGenerator",void 0),Jr(this,"nodeMoveRules",[]),Ir(this,"edgeType",Wh,this),Ir(this,"nodes",Kh,this),Ir(this,"edges",Vh,this),Ir(this,"overlapMode",Zh,this),Ir(this,"background",Jh,this),Ir(this,"transformModel",Qh,this),Ir(this,"editConfigModel",qh,this),Ir(this,"gridSize",ev,this),Ir(this,"partial",tv,this),Ir(this,"fakerNode",rv,this);var t=r.container,n=r.background,o=n===void 0?{}:n,a=r.grid,f=r.idGenerator,p=r.edgeGenerator,m=r.animation;this.background=o,yi(a)==="object"&&(this.gridSize=a.size),this.rootEl=t,this.editConfigModel=new lp(r),this.eventCenter=new aP,this.transformModel=new $S(this.eventCenter),this.theme=Lp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=MA(m),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=f,this.edgeGenerator=EA(this,p),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=In()}return BA(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(No(this.nodes),No(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(m){return t.push(m)}),this.edges.forEach(function(m){return t.push(m)}),t=t.sort(function(m,O){return m.zIndex-O.zIndex});for(var n=[],o=[-Ka,-Ka],a=[this.width+Ka,this.height+Ka],f=0;f<t.length;f++){var p=t[f];p.visible&&(!this.partial||p.isSelected||this.isElementInArea(p,o,a,!1,!1))&&n.push(p)}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===bt.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===bt.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=[],m=[];this.nodes.forEach(function(N){return m.push(N)}),this.edges.forEach(function(N){return m.push(N)});for(var O=0;O<m.length;O++){var T=m[O];(!f||T.visible)&&this.isElementInArea(T,t,n,o,a)&&p.push(T)}return p}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,a=this.rootEl.getBoundingClientRect(),f={x:n-a.left,y:o-a.top},p=this.transformModel.HtmlPointToCanvasPoint([f.x,f.y]),m=vi(p,2),O=m[0],T=m[1];return{domOverlayPosition:f,canvasOverlayPosition:{x:O,y:T}}}},{key:"isElementInArea",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===zt.NODE){t=t;for(var p=Pr(t),m=p.minX,O=p.minY,T=p.maxX,N=p.maxY,L=[{x:m,y:O},{x:T,y:O},{x:T,y:N},{x:m,y:N}],G=f,K=0;K<L.length;K++){var ie=L[K],oe=ie.x,ue=ie.y,Me=this.transformModel.CanvasPointToHtmlPoint([oe,ue]),Ce=vi(Me,2);if(oe=Ce[0],ue=Ce[1],uf([oe,ue],n,o)!==f){G=!f;break}}return G}if(t.BaseType===zt.EDGE){t=t;var ye=t,Be=ye.startPoint,Ne=ye.endPoint,ke=this.transformModel.CanvasPointToHtmlPoint([Be.x,Be.y]),De=this.transformModel.CanvasPointToHtmlPoint([Ne.x,Ne.y]),ot=uf(ke,n,o),ht=uf(De,n,o);return a?ot&&ht:ot||ht}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=Aa(t.nodes,function(o){var a=n.getModel(o.type);if(!a)throw new Error("找不到".concat(o.type,"对应的节点。"));var f=o.x,p=o.y;return f&&p&&(o.x=Rn(f,n.gridSize),o.y=Rn(p,n.gridSize),yi(o.text)==="object"&&(o.text.x-=zp(f,n.gridSize),o.text.y-=zp(p,n.gridSize))),new a(o,n)}),this.edges=Aa(t.edges,function(o){var a=n.getModel(o.type);if(!a)throw new Error("找不到".concat(o.type,"对应的边。"));return new a(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var a=o.getData();a&&!o.virtual&&t.push(a)});var n=[];return this.nodes.forEach(function(o){var a=o.getData();a&&!o.virtual&&n.push(a)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(a.isDragging){t=!0;break}else n.push(a.getHistoryData())}if(t)return!1;for(var f=!1,p=[],m=0;m<this.edges.length;m++){var O=this.edges[m];if(O.isDragging){f=!0;break}else p.push(O.getHistoryData())}return f?!1:{nodes:n,edges:p}}},{key:"getEdgeModelById",value:function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++){var a=this.edges[o],f=this.edges[o].sourceNodeId===t,p=this.edges[o].targetNodeId===t;(f||p)&&n.push(a)}return n}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(a){if(a.BaseType===zt.NODE&&o.nodes.push(a.getData()),a.BaseType===zt.EDGE){var f=a.getData(),p=n.get(f.sourceNodeId)&&n.get(f.targetNodeId);(t||p)&&o.edges.push(f)}}),o}},{key:"updateAttributes",value:function(t,n){var o=this.getElement(t);o.updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=In()),this.nodesMap[n]||!this.nodesMap[t]?"":(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n)}},{key:"changeEdgeId",value:function(t,n){return n||(n=In()),this.edgesMap[n]||!this.edgesMap[t]?"":(this.edges.forEach(function(o){o.id===t&&o.changeEdgeId(n)}),n)}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,a=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((o=this.edgesMap[t])===null||o===void 0?void 0:o.model);if(a){if(this.overlapMode===xr.DEFAULT){var f;(f=this.topElement)===null||f===void 0||f.setZIndex(),a.setZIndex(zS),this.topElement=a}this.overlapMode===xr.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,n){var o,a,f=((o=this.nodesMap[t])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[t])===null||a===void 0?void 0:a.model);if(f){var p;typeof n=="number"&&(p=n),n==="top"&&(p=pf()),n==="bottom"&&(p=NP()),f.setZIndex(p)}}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(nt.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nt.NODE_ADD,o=rr(t);o.id&&this.nodesMap[t.id]&&delete o.id;var a=this.getModel(o.type);if(!a)throw new Error("找不到".concat(o.type,"对应的节点，请确认是否已注册此类型节点。"));o.x=Rn(o.x,this.gridSize),o.y=Rn(o.y,this.gridSize);var f=new a(o,this);this.nodes.push(f);var p=f.getData();return this.eventCenter.emit(n,{data:p}),f}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),n.setSelected(!1),a.getData()}},{key:"moveNode",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=this.nodesMap[t];if(f){var p=f.model,m=p.getMoveDistance(n,o,a),O=vi(m,2);n=O[0],o=O[1],this.moveEdge(t,n,o)}}},{key:"moveNode2Coordinate",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=this.nodesMap[t];if(f){var p=f.model,m=p.x,O=p.y,T=n-m,N=o-O;this.moveNode(t,T,N,a)}}},{key:"editText",value:function(t){this.setElementStateById(t,bt.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=rr(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var a=this.getModel(o);if(!a)throw new Error("找不到".concat(o,"对应的边，请确认是否已注册此类型边。"));var f=new a(Wa(Wa({},n),{},{type:o}),this),p=f.getData();return this.edges.push(f),this.eventCenter.emit(nt.EDGE_ADD,{data:p}),f}},{key:"moveEdge",value:function(t,n,o){for(var a=0;a<this.edges.length;a++){var f=this.edges[a],p=f.textPosition,m=p.x,O=p.y,T=this.edges[a].sourceNodeId===t,N=this.edges[a].targetNodeId===t;if(T&&f.moveStartPoint(n,o),N&&f.moveEndPoint(n,o),T||N){var L;if(f.customTextPosition===!0)f.resetTextPosition();else if(f.modelType===pt.POLYLINE_EDGE&&(L=f.text)!==null&&L!==void 0&&L.value){var G=f.text,K=Gh(G,f.points);f.moveText(K.x-G.x,K.y-G.y)}else{var ie=f.textPosition,oe=ie.x,ue=ie.y;f.moveText(oe-m,ue-O)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(nt.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(t){var n=this.edgesMap[t];if(n){var o=this.edgesMap[t].index,a=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(nt.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(nt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(nt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(bt.DEFAULT)}),this.edges.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(bt.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.nodesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.edgesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var o=this.getElement(t);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===xr.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,n,o){for(var a=this,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,p=t.reduce(function(oe,ue){var Me=a.nodesMap[ue].model,Ce=Me.getMoveDistance(n,o,f);return oe[ue]=Ce,oe},{}),m=0;m<this.edges.length;m++){var O=this.edges[m],T=p[O.sourceNodeId],N=void 0,L=void 0;if(T){var G=vi(T,2);N=G[0],L=G[1],O.moveStartPoint(N,L)}var K=p[O.sourceNodeId];if(K){var ie=vi(K,2);N=ie[0],L=ie[1],O.moveEndPoint(N,L)}(T||K)&&O.moveText(N,L)}}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(o){var a=o.getData();a.type=n;var f=this.getModel(n);if(!f)throw new Error("找不到".concat(n,"对应的节点，请确认是否已注册此类型节点。"));var p=new f(a,this);this.nodes.splice(this.nodesMap[t].index,1,p);var m=this.getNodeEdges(t);m.forEach(function(O){if(O.sourceNodeId===t){var T=Yp(p,O.startPoint,p.width,p.height);O.updateStartPoint(T)}if(O.targetNodeId===t){var N=Yp(p,O.endPoint,p.width,p.height);O.updateEndPoint(N)}})}}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(o&&o.type!==n){var a=o.getData();a.type=n;var f=this.getModel(n);if(!f)throw new Error("找不到".concat(n,"对应的节点，请确认是否已注册此类型节点。"));delete a.pointsList;var p=new f(a,this);this.edges.splice(this.edgesMap[t].index,1,p)}}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.targetNodeId===t&&o.push(n.nodesMap[a.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.sourceNodeId===t&&o.push(n.nodesMap[a.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=Lp(Wa(Wa({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,n=[],o=[];t.forEach(function(G){var K=G.x,ie=G.y,oe=G.width,ue=G.height,Me=G.getNodeStyle(),Ce=Me.strokeWidth,ye=Ce===void 0?0:Ce;n=n.concat([K+oe/2+ye,K-oe/2-ye]),o=o.concat([ie+ue/2+ye,ie-ue/2-ye])});var a=Math.min.apply(Math,No(n)),f=Math.max.apply(Math,No(n)),p=Math.min.apply(Math,No(o)),m=Math.max.apply(Math,No(o)),O=f-a||0,T=m-p||0,N=a+O/2,L=p+T/2;return{virtualRectWidth:O,virtualRectHeight:T,virtualRectCenterPositionX:N,virtualRectCenterPositionY:L}}},{key:"translateCenter",value:function(){var t=this.nodes,n=this.width,o=this.height,a=this.rootEl,f=this.transformModel;if(t.length){var p=n||a.clientWidth,m=o||a.clientHeight,O=this.getVirtualRectSize(),T=O.virtualRectCenterPositionX,N=O.virtualRectCenterPositionY;f.focusOn(T,N,p,m)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,a=this.width,f=this.height,p=this.rootEl,m=this.transformModel;if(o.length){var O=a||p.clientWidth,T=f||p.clientHeight,N=this.getVirtualRectSize(),L=N.virtualRectWidth,G=N.virtualRectHeight,K=N.virtualRectCenterPositionX,ie=N.virtualRectCenterPositionY,oe=(L+n)/O,ue=(G+t)/T,Me=0;Me=1/Math.max(oe,ue);var Ce=[O/2,T/2];m.zoom(Me,Ce),m.focusOn(K,ie,O,T)}}},{key:"openEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.closeEdgeAnimation()}}]),e}(),$h=Ze(de.prototype,"width",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh=Ze(de.prototype,"height",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wh=Ze(de.prototype,"edgeType",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kh=Ze(de.prototype,"nodes",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vh=Ze(de.prototype,"edges",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zh=Ze(de.prototype,"overlapMode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xr.DEFAULT}}),Jh=Ze(de.prototype,"background",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qh=Ze(de.prototype,"transformModel",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qh=Ze(de.prototype,"editConfigModel",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ev=Ze(de.prototype,"gridSize",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),tv=Ze(de.prototype,"partial",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rv=Ze(de.prototype,"fakerNode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze(de.prototype,"nodesMap",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"nodesMap"),de.prototype),Ze(de.prototype,"edgesMap",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"edgesMap"),de.prototype),Ze(de.prototype,"modelsMap",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"modelsMap"),de.prototype),Ze(de.prototype,"sortElements",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"sortElements"),de.prototype),Ze(de.prototype,"textEditElement",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"textEditElement"),de.prototype),Ze(de.prototype,"selectElements",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"selectElements"),de.prototype),Ze(de.prototype,"setFakerNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setFakerNode"),de.prototype),Ze(de.prototype,"removeFakerNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"removeFakerNode"),de.prototype),Ze(de.prototype,"setModel",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setModel"),de.prototype),Ze(de.prototype,"toFront",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"toFront"),de.prototype),Ze(de.prototype,"setElementZIndex",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementZIndex"),de.prototype),Ze(de.prototype,"deleteNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteNode"),de.prototype),Ze(de.prototype,"addNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"addNode"),de.prototype),Ze(de.prototype,"cloneNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"cloneNode"),de.prototype),Ze(de.prototype,"moveNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode"),de.prototype),Ze(de.prototype,"moveNode2Coordinate",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode2Coordinate"),de.prototype),Ze(de.prototype,"editText",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"editText"),de.prototype),Ze(de.prototype,"addEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"addEdge"),de.prototype),Ze(de.prototype,"moveEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveEdge"),de.prototype),Ze(de.prototype,"deleteEdgeBySourceAndTarget",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySourceAndTarget"),de.prototype),Ze(de.prototype,"deleteEdgeById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeById"),de.prototype),Ze(de.prototype,"deleteEdgeBySource",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySource"),de.prototype),Ze(de.prototype,"deleteEdgeByTarget",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeByTarget"),de.prototype),Ze(de.prototype,"setElementStateById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementStateById"),de.prototype),Ze(de.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"updateText"),de.prototype),Ze(de.prototype,"selectNodeById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"selectNodeById"),de.prototype),Ze(de.prototype,"selectEdgeById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"selectEdgeById"),de.prototype),Ze(de.prototype,"selectElementById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"selectElementById"),de.prototype),Ze(de.prototype,"clearSelectElements",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"clearSelectElements"),de.prototype),Ze(de.prototype,"moveNodes",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNodes"),de.prototype),Ze(de.prototype,"setDefaultEdgeType",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setDefaultEdgeType"),de.prototype),Ze(de.prototype,"changeNodeType",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"changeNodeType"),de.prototype),Ze(de.prototype,"changeEdgeType",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"changeEdgeType"),de.prototype),Ze(de.prototype,"getNodeIncomingEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingEdge"),de.prototype),Ze(de.prototype,"getNodeOutgoingEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingEdge"),de.prototype),Ze(de.prototype,"getNodeIncomingNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingNode"),de.prototype),Ze(de.prototype,"getNodeOutgoingNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingNode"),de.prototype),Ze(de.prototype,"setTheme",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setTheme"),de.prototype),Ze(de.prototype,"resize",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"resize"),de.prototype),Ze(de.prototype,"clearData",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"clearData"),de.prototype),Ze(de.prototype,"translateCenter",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"translateCenter"),de.prototype),Ze(de.prototype,"fitView",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"fitView"),de.prototype),Ze(de.prototype,"openEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"openEdgeAnimation"),de.prototype),Ze(de.prototype,"closeEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"closeEdgeAnimation"),de.prototype),de),LA=av;function Va(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Va=function(t){return typeof t}:Va=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(e)}var uv;function Tf(){return Tf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Tf.apply(this,arguments)}function _A(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zA(e,r,t){return r&&sv(e.prototype,r),t&&sv(e,t),e}function FA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Mf(e,r)}function Mf(e,r){return Mf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Mf(e,r)}function GA(e){var r=UA();return function(){var n=Za(e),o;if(r){var a=Za(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return HA(this,o)}}function HA(e,r){if(r&&(Va(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qr(e)}function Qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Za(e){return Za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Za(e)}function cn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var kA=Xr(uv=function(e){FA(t,e);var r=GA(t);function t(n){var o;_A(this,t),o=r.call(this),cn(Qr(o),"stepDrag",void 0),cn(Qr(o),"stepScrollX",0),cn(Qr(o),"stepScrollY",0),cn(Qr(o),"onDragging",function(m){var O=m.deltaX,T=m.deltaY;o.setState({isDragging:!0});var N=o.props.graphModel,L=N.transformModel,G=N.editConfigModel;G.stopMoveGraph||L.translate(O,T)}),cn(Qr(o),"onDragEnd",function(){o.setState({isDragging:!1})}),cn(Qr(o),"zoomHandler",function(m){var O=o.props,T=O.graphModel,N=T.editConfigModel,L=T.transformModel,G=T.gridSize,K=O.graphModel,ie=m.deltaX,oe=m.deltaY;if(!N.stopScrollGraph&&m.ctrlKey!==!0){if(m.preventDefault(),o.stepScrollX+=ie,o.stepScrollY+=oe,Math.abs(o.stepScrollX)>=G){var ue=o.stepScrollX%G,Me=o.stepScrollX-ue;L.translate(-Me*L.SCALE_X,0),o.stepScrollX=ue}if(Math.abs(o.stepScrollY)>=G){var Ce=o.stepScrollY%G,ye=o.stepScrollY-Ce;L.translate(0,-ye*L.SCALE_Y),o.stepScrollY=Ce}return}if(!N.stopZoomGraph){m.preventDefault();var Be=K.getPointByClient({x:m.clientX,y:m.clientY}),Ne=Be.canvasOverlayPosition,ke=Ne.x,De=Ne.y;L.zoom(m.deltaY<0,[ke,De])}}),cn(Qr(o),"clickHandler",function(m){var O=m.target;if(O.getAttribute("name")==="canvas-overlay"){var T=o.props.graphModel,N=T.selectElements;N.size>0&&T.clearSelectElements(),T.eventCenter.emit(nt.BLANK_CLICK,{e:m})}}),cn(Qr(o),"handleContextMenu",function(m){var O=m.target;if(O.getAttribute("name")==="canvas-overlay"){m.preventDefault();var T=o.props.graphModel,N=T.getPointByClient({x:m.clientX,y:m.clientY});T.eventCenter.emit(nt.BLANK_CONTEXTMENU,{e:m,position:N})}}),cn(Qr(o),"mouseDownHandler",function(m){var O=o.props.graphModel,T=O.eventCenter,N=O.editConfigModel,L=O.transformModel.SCALE_X,G=O.gridSize,K=m.target,ie=!N.adjustEdge&&!N.adjustNodePosition;(K.getAttribute("name")==="canvas-overlay"||ie)&&(N.stopMoveGraph?T.emit(nt.BLANK_MOUSEDOWN,{e:m}):(o.stepDrag.setStep(G*L),o.stepDrag.handleMouseDown(m)),o.clickHandler(m))});var a=n.graphModel,f=a.gridSize,p=a.eventCenter;return o.stepDrag=new fn({onDragging:o.onDragging,onDragEnd:o.onDragEnd,step:f,eventType:"BLANK",isStopPropagation:!1,eventCenter:p,model:null}),o.state={isDragging:!1},o}return zA(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),f=a.transform,p=this.props,m=p.children,O=p.dnd,T=this.state.isDragging;return Object(ae.g)("svg",Tf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:T?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},O.eventMap()),Object(ae.g)("g",{transform:f},m))}}]),t}(ae.a))||uv,XA=kA;function Ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ja=function(t){return typeof t}:Ja=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}var lv;function $A(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function YA(e,r,t){return r&&fv(e.prototype,r),t&&fv(e,t),e}function WA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&wf(e,r)}function wf(e,r){return wf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},wf(e,r)}function KA(e){var r=JA();return function(){var n=Qa(e),o;if(r){var a=Qa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return VA(this,o)}}function VA(e,r){if(r&&(Ja(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZA(e)}function ZA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Qa(e){return Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qa(e)}var QA=Xr(lv=function(e){WA(t,e);var r=KA(t);function t(){return $A(this,t),r.apply(this,arguments)}return YA(t,[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var o=this.props,a=o.tool,f=o.graphModel,p=a.getTools(),m=p.map(function(O){return Object(ae.g)(O,{graphModel:f,logicFlow:a.instance})});return a.components=m,m}},{key:"triggerToolRender",value:function(){var o=this.props,a=o.tool,f=o.graphModel,p=document.querySelector("#ToolOverlay_".concat(f.flowId)),m=a.getInstance();m.components.forEach(function(O){return O(m,p)}),m.components=[]}},{key:"render",value:function(){var o=this.props.graphModel;return Object(ae.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(o.flowId)},this.getTools())}}]),t}(ae.a))||lv;function qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(t){return typeof t}:qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}function qA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eT(e,r,t){return r&&cv(e.prototype,r),t&&cv(e,t),e}function tT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Nf(e,r)}function Nf(e,r){return Nf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Nf(e,r)}function rT(e){var r=iT();return function(){var n=eu(e),o;if(r){var a=eu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return nT(this,o)}}function nT(e,r){if(r&&(qa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oT(e)}function oT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function eu(e){return eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eu(e)}var aT=function(e){tT(t,e);var r=rT(t);function t(){return qA(this,t),r.apply(this,arguments)}return eT(t,[{key:"render",value:function(){var o=this.props.background;return Object(ae.g)("div",{className:"lf-background"},Object(ae.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(ae.a);function tu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tu=function(t){return typeof t}:tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}var dv;function uT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function pv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sT(e,r,t){return r&&pv(e.prototype,r),t&&pv(e,t),e}function lT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Df(e,r)}function Df(e,r){return Df=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Df(e,r)}function fT(e){var r=dT();return function(){var n=ru(e),o;if(r){var a=ru(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cT(this,o)}}function cT(e,r){if(r&&(tu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hv(e)}function hv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ru(e){return ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ru(e)}function pT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vv=Xr(dv=function(e){lT(t,e);var r=fT(t);function t(){var n;uT(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),pT(hv(n),"id",In()),n}return sT(t,[{key:"renderDot",value:function(){var o=this.props,a=o.config,f=a.color,p=a.thickness,m=p===void 0?2:p,O=o.size,T=o.visible,N=Math.min(Math.max(2,m),O/2),L=1;return T||(L=0),Object(ae.g)("rect",{width:N,height:N,rx:N/2,ry:N/2,fill:f,opacity:L})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,f=a.color,p=a.thickness,m=p===void 0?1:p,O=o.size,T=o.visible,N=Math.min(Math.max(1,m),O/2),L="M ".concat(O," 0 H0 M0 0 V0 ").concat(O),G=1;return T||(G=0),Object(ae.g)("path",{d:L,stroke:f,strokeWidth:N,opacity:G})}},{key:"render",value:function(){var o=this.props,a=o.type,f=o.size,p=o.graphModel.transformModel,m=p.SCALE_X,O=p.SKEW_Y,T=p.SKEW_X,N=p.SCALE_Y,L=p.TRANSLATE_X,G=p.TRANSLATE_Y,K=[m,O,T,N,L,G].join(","),ie="matrix(".concat(K,")");return Object(ae.g)("div",{className:"lf-grid"},Object(ae.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ae.g)("defs",null,Object(ae.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:ie,x:"0",y:"0",width:f,height:f},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(ae.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(ae.a))||dv;vv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function nu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(t){return typeof t}:nu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function hT(e,r){return mT(e)||gT(e,r)||yT(e,r)||vT()}function vT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yT(e,r){if(e){if(typeof e=="string")return yv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yv(e,r)}}function yv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function gT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function mT(e){if(Array.isArray(e))return e}function bT(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=hT(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var f=nu(a);f!=="object"&&(r[o]=a)}}),Object(ae.g)("line",r)}var Do=bT;function ou(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ou=function(t){return typeof t}:ou=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}var gv;function mv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function iu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?mv(Object(t),!0).forEach(function(n){OT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function OT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ET(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ST(e,r,t){return r&&bv(e.prototype,r),t&&bv(e,t),e}function xT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jf(e,r)}function jf(e,r){return jf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jf(e,r)}function PT(e){var r=MT();return function(){var n=au(e),o;if(r){var a=au(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return AT(this,o)}}function AT(e,r){if(r&&(ou(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TT(e)}function TT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function au(e){return au=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},au(e)}var wT=Xr(gv=function(e){xT(t,e);var r=PT(t);function t(){return ET(this,t),r.apply(this,arguments)}return ST(t,[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,f=o.isShowHorizontal,p=o.isShowVertical,m=o.getStyle(),O=a.x,T=O===void 0?0:O,N=a.y,L=N===void 0?0:N,G=iu(iu({x1:-1e5,y1:L,x2:1e5,y2:L},m),{},{stroke:f?m.stroke:"none"}),K=iu(iu({x1:T,y1:-1e5,x2:T,y2:1e5},m),{},{stroke:p?m.stroke:"none"});return Object(ae.g)("g",{className:"lf-snapline"},Object(ae.g)(Do,G),Object(ae.g)(Do,K))}}]),t}(ae.a))||gv;function uu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uu=function(t){return typeof t}:uu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function NT(e,r){return RT(e)||CT(e,r)||jT(e,r)||DT()}function DT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jT(e,r){if(e){if(typeof e=="string")return Ov(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ov(e,r)}}function Ov(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function CT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function RT(e){if(Array.isArray(e))return e}function _n(e){var r=e.x,t=e.y,n=e.width,o=e.height,a=e.className,f=e.radius,p=r-n/2,m=t-o/2,O={};return Object.entries(e).forEach(function(T){var N=NT(T,2),L=N[0],G=N[1],K=uu(G);K!=="object"&&(O[L]=G)}),a?O.className="lf-basic-shape ".concat(a):O.className="lf-basic-shape",f&&(O.rx=f,O.ry=f),O.x=p,O.y=m,Object(ae.g)("rect",O)}_n.defaultProps={className:"",radius:""};function su(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?su=function(t){return typeof t}:su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}var Ev;function jo(){return jo=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},jo.apply(this,arguments)}function Sv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function xv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Sv(Object(t),!0).forEach(function(n){IT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function IT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function BT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LT(e,r,t){return r&&Pv(e.prototype,r),t&&Pv(e,t),e}function _T(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Cf(e,r)}function Cf(e,r){return Cf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Cf(e,r)}function zT(e){var r=HT();return function(){var n=lu(e),o;if(r){var a=lu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return FT(this,o)}}function FT(e,r){if(r&&(su(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GT(e)}function GT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function lu(e){return lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lu(e)}var UT=Xr(Ev=function(e){_T(t,e);var r=zT(t);function t(){return BT(this,t),r.apply(this,arguments)}return LT(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,a=o.nodes,f=o.editConfigModel,p=f.hoverOutline,m=f.nodeSelectedOutline,O=[];return a.forEach(function(T){if(T.isHovered||T.isSelected){var N=T.isHovered,L=T.isSelected,G=T.x,K=T.y,ie=T.width,oe=T.height;if(m&&L||p&&N){var ue=T.getOutlineStyle(),Me={};if(Object.keys(ue).forEach(function(ye){ye!=="hover"&&(Me[ye]=ue[ye])}),N){var Ce=ue.hover;Me=xv(xv({},Me),Ce)}O.push(Object(ae.g)(_n,jo({className:"lf-outline-node",x:G,y:K,width:ie+10,height:oe+10},Me)))}}}),O}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,f=o.editConfigModel,p=f.edgeSelectedOutline,m=f.hoverOutline,O=[],T=0;T<a.length;T++){var N=a[T];(p&&N.isSelected||m&&N.isHovered)&&(N.modelType===pt.LINE_EDGE?O.push(this.getLineOutline(N)):N.modelType===pt.POLYLINE_EDGE?O.push(this.getPolylineOutline(N)):N.modelType===pt.BEZIER_EDGE&&O.push(this.getBezierOutline(N)))}return O}},{key:"getLineOutline",value:function(o){var a=o.startPoint,f=o.endPoint,p=(a.x+f.x)/2,m=(a.y+f.y)/2,O=Math.abs(a.x-f.x)+10,T=Math.abs(a.y-f.y)+10,N=o.getOutlineStyle();return Object(ae.g)(_n,jo({className:"lf-outline-edge",x:p,y:m,width:O,height:T},N))}},{key:"getPolylineOutline",value:function(o){var a=o.points,f=Mo(a),p=pi(f,8),m=p.x,O=p.y,T=p.width,N=p.height,L=o.getOutlineStyle();return Object(ae.g)(_n,jo({className:"lf-outline",x:m,y:O,width:T,height:N},L))}},{key:"getBezierOutline",value:function(o){var a=o.path,f=$a(a),p=pi(f,8),m=p.x,O=p.y,T=p.width,N=p.height,L=o.getOutlineStyle();return Object(ae.g)(_n,jo({className:"lf-outline",x:m,y:O,width:T,height:N},L))}},{key:"render",value:function(){return Object(ae.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(ae.a))||Ev;function fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fu=function(t){return typeof t}:fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function kT(e,r){return WT(e)||YT(e,r)||$T(e,r)||XT()}function XT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $T(e,r){if(e){if(typeof e=="string")return Av(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Av(e,r)}}function Av(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function YT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function WT(e){if(Array.isArray(e))return e}function gi(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.r,f=a===void 0?4:a,p=e.className,m={cx:t,cy:o,r:f,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(O){var T=kT(O,2),N=T[0],L=T[1],G=fu(L);G!=="object"&&(m[N]=L)}),p?m.className="lf-basic-shape ".concat(p):m.className="lf-basic-shape",Object(ae.g)("circle",m)}function cu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cu=function(t){return typeof t}:cu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}var Tv;function KT(e,r){return QT(e)||JT(e,r)||ZT(e,r)||VT()}function VT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZT(e,r){if(e){if(typeof e=="string")return Mv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mv(e,r)}}function Mv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function JT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function QT(e){if(Array.isArray(e))return e}function mi(){return mi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},mi.apply(this,arguments)}function wv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Nv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dv(e,r,t){return r&&Nv(e.prototype,r),t&&Nv(e,t),e}function jv(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rf(e,r)}function Rf(e,r){return Rf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rf(e,r)}function Cv(e){var r=eM();return function(){var n=pu(e),o;if(r){var a=pu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return qT(this,o)}}function qT(e,r){if(r&&(cu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return du(e)}function du(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function pu(e){return pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pu(e)}function If(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Rv=function(e){jv(t,e);var r=Cv(t);function t(){var n;return wv(this,t),n=r.call(this),If(du(n),"dragHandler",void 0),If(du(n),"onDragging",function(o){var a=o.event,f=n.props,p=f.graphModel,m=f.bezierModel,O=f.type,T=p.getPointByClient({x:a.clientX,y:a.clientY}),N=T.canvasOverlayPosition,L=N.x,G=N.y;m.updateAdjustAnchor({x:L,y:G},O)}),If(du(n),"onDragEnd",function(){var o=n.props.bezierModel;o.isDragging=!1}),n.dragHandler=new fn({onDragging:n.onDragging,onDragEnd:n.onDragEnd}),n}return Dv(t,[{key:"render",value:function(){var o=this,a=this.props.position,f=a.x,p=a.y,m=this.props.bezierModel,O=m.getEdgeStyle(),T=O.adjustAnchor;return Object(ae.g)(gi,mi({className:"lf-bezier-adjust-anchor",x:f,y:p},T,{onMouseDown:function(L){o.dragHandler.handleMouseDown(L)}}))}}]),t}(ae.a),tM=Xr(Tv=function(e){jv(t,e);var r=Cv(t);function t(){return wv(this,t),r.apply(this,arguments)}return Dv(t,[{key:"getBezierAdjust",value:function(o,a){var f=o.path,p=o.id,m=$a(f),O=KT(m,4),T=O[0],N=O[1],L=O[2],G=O[3],K=o.getEdgeStyle(),ie=K.adjustLine,oe=[];return oe.push(Object(ae.g)(Do,mi({x1:T.x,y1:T.y,x2:N.x,y2:N.y},ie))),oe.push(Object(ae.g)(Rv,{position:N,bezierModel:o,graphModel:a,key:"".concat(p,"_ePre"),type:"sNext"})),oe.push(Object(ae.g)(Do,mi({x1:G.x,y1:G.y,x2:L.x,y2:L.y},ie))),oe.push(Object(ae.g)(Rv,{position:L,bezierModel:o,graphModel:a,key:"".concat(p,"_sNext"),type:"ePre"})),oe}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,a=o.edges,f=[],p=0;p<a.length;p++){var m=a[p];m.isSelected&&m.modelType===pt.BEZIER_EDGE&&m.draggable&&f.push(this.getBezierAdjust(m,o))}return f}},{key:"render",value:function(){return Object(ae.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(ae.a))||Tv;function hu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hu=function(t){return typeof t}:hu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}var Iv;function rM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nM(e,r,t){return r&&Bv(e.prototype,r),t&&Bv(e,t),e}function oM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bf(e,r)}function Bf(e,r){return Bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bf(e,r)}function iM(e){var r=sM();return function(){var n=vu(e),o;if(r){var a=vu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return aM(this,o)}}function aM(e,r){if(r&&(hu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uM(e)}function uM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function vu(e){return vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vu(e)}var lM=Xr(Iv=function(e){oM(t,e);var r=iM(t);function t(){return rM(this,t),r.apply(this,arguments)}return nM(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),f=a.transform,p=this.props.children;return Object(ae.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ae.g)("g",{transform:f},p))}}]),t}(ae.a))||Iv;function yu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yu=function(t){return typeof t}:yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}var Lv;function Lf(){return Lf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Lf.apply(this,arguments)}function fM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _v(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cM(e,r,t){return r&&_v(e.prototype,r),t&&_v(e,t),e}function dM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_f(e,r)}function _f(e,r){return _f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},_f(e,r)}function pM(e){var r=yM();return function(){var n=gu(e),o;if(r){var a=gu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return hM(this,o)}}function hM(e,r){if(r&&(yu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vM(e)}function vM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function gu(e){return gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(e)}var gM=Xr(Lv=function(e){dM(t,e);var r=pM(t);function t(){return fM(this,t),r.apply(this,arguments)}return cM(t,[{key:"getComponent",value:function(o,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",p=this.props.getView,m=p(o.type);return Object(ae.g)(m,{key:o.id,model:o,graphModel:a,overlay:f})}},{key:"render",value:function(){var o=this,a=this.props,f=a.graphModel,p=a.tool,m=a.options,O=a.dnd,T=a.snaplineModel,N={};m.width&&(N.width="".concat(f.width,"px")),m.height&&(N.height="".concat(f.height,"px"));var L=m.grid,G=f.fakerNode,K=f.editConfigModel,ie=K.adjustEdge;return Object(ae.g)("div",{className:"lf-graph","flow-id":f.flowId,style:N},Object(ae.g)(XA,{graphModel:f,dnd:O},Object(ae.g)("g",{className:"lf-base"},Aa(f.sortElements,function(oe){return o.getComponent(oe,f)})),G?this.getComponent(G,f):""),Object(ae.g)(lM,{graphModel:f},Object(ae.g)(UT,{graphModel:f}),ie?Object(ae.g)(tM,{graphModel:f}):"",m.snapline!==!1?Object(ae.g)(wT,{snaplineModel:T}):""),Object(ae.g)(QA,{graphModel:f,tool:p}),m.background&&Object(ae.g)(aT,{background:m.background}),m.grid&&Object(ae.g)(vv,Lf({},L,{graphModel:f})))}}]),t}(ae.a))||Lv,mM=gM;function zv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function mu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?zv(Object(t),!0).forEach(function(n){dn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function bM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OM(e,r,t){return r&&Fv(e.prototype,r),t&&Fv(e,t),e}function dn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var EM=function(){function e(r){var t=this;bM(this,e),dn(this,"nodeConfig",void 0),dn(this,"lf",void 0),dn(this,"fakerNode",void 0),dn(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),dn(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(mu(mu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),dn(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var a=t.clientToLocalPoint({x:o.clientX,y:o.clientY}),f=a.x,p=a.y;t.fakerNode.moveTo(f,p);var m=t.fakerNode.getData();t.lf.setNodeSnapLine(m),t.lf.graphModel.eventCenter.emit(nt.NODE_DND_DRAG,{data:m})}return!1}),dn(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),dn(this,"onDrop",function(o){if(!(!t.lf.graphModel||!o||!t.nodeConfig)){var a=t.lf.addNode(mu(mu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})),nt.NODE_DND_ADD);o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null,a.getData()}});var n=r.lf;this.lf=n}return OM(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,a=Bd(this.lf.options,["grid","size"]),f=this.lf.graphModel.getPointByClient({x:n,y:o}),p=f.canvasOverlayPosition,m=p.x,O=p.y;return{x:Rn(m,a),y:Rn(O,a)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function Gv(e){var r=e.container,t=e.grid,n=e.width,o=e.height;if(!r)throw new Error("请检查 container 参数是否有效");if(typeof n=="string"||typeof o=="string")throw new Error("width或height不支持传入字符串，请传数字");return t&&(e.grid=ur({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),ur({},Hv,e)}var Hv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function bu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bu=function(t){return typeof t}:bu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}var gt,Uv;function zf(e,r){return AM(e)||PM(e,r)||xM(e,r)||SM()}function SM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xM(e,r){if(e){if(typeof e=="string")return kv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kv(e,r)}}function kv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function PM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function AM(e){if(Array.isArray(e))return e}function Xv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ou(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Xv(Object(t),!0).forEach(function(n){Yv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function TM(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function MM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $v(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wM(e,r,t){return r&&$v(e.prototype,r),t&&$v(e,t),e}function Co(){return typeof Reflect!="undefined"&&Reflect.get?Co=Reflect.get:Co=function(r,t,n){var o=NM(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Co.apply(this,arguments)}function NM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=zn(e),e!==null););return e}function DM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ff(e,r)}function Ff(e,r){return Ff=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ff(e,r)}function jM(e){var r=RM();return function(){var n=zn(e),o;if(r){var a=zn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return CM(this,o)}}function CM(e,r){if(r&&(bu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eu(e)}function Eu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zn(e){return zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zn(e)}function Yv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Hr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Gf=(gt=function(e){DM(t,e);var r=jM(t);function t(){var n;MM(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),Yv(Eu(n),"modelType",pt.BEZIER_EDGE),TM(Eu(n),"path",Uv,Eu(n)),n}return wM(t,[{key:"initEdgeData",value:function(o){this.offset=100,Co(zn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier,a=Co(zn(t.prototype),"getEdgeStyle",this).call(this);return Ou(Ou({},a),It(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(f){var p=f.x,m=f.y;o+=p,a+=m}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Co(zn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){var p=f.x,m=f.y;return{x:p,y:m}});return Ou(Ou({},o),{},{pointsList:a})}},{key:"getControls",value:function(){var o=this.startPoint,a=this.endPoint,f=Fh({start:o,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return f}},{key:"getPath",value:function(o){var a=zf(o,4),f=a[0],p=a[1],m=a[2],O=a[3];return"M ".concat(f.x," ").concat(f.y,`
    C `).concat(p.x," ").concat(p.y,`,
    `).concat(m.x," ").concat(m.y,`,
    `).concat(O.x," ").concat(O.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),a=o.sNext,f=o.ePre;this.updatePath(a,f)}},{key:"updatePath",value:function(o,a){var f={x:this.startPoint.x,y:this.startPoint.y},p={x:this.endPoint.x,y:this.endPoint.y};if(!o||!a){var m=this.getControls();o=m.sNext,a=m.ePre}this.pointsList=[f,o,a,p],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a;var f=zf(this.pointsList,3),p=f[1],m=f[2];p.x+=o,p.y+=a,this.updatePath(p,m)}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a;var f=zf(this.pointsList,3),p=f[1],m=f[2];m.x+=o,m.y+=a,this.updatePath(p,m)}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,f=o.endPoint,p=o.sourceNode,m=o.targetNode,O=Fh({start:a,end:f,sourceNode:p,targetNode:m,offset:this.offset}),T=O.sNext,N=O.ePre;this.pointsList=[a,T,N,f],this.initPoints()}}]),t}(vf),Uv=Hr(gt.prototype,"path",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hr(gt.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"initPoints"),gt.prototype),Hr(gt.prototype,"updatePoints",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updatePoints"),gt.prototype),Hr(gt.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateStartPoint"),gt.prototype),Hr(gt.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateEndPoint"),gt.prototype),Hr(gt.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveStartPoint"),gt.prototype),Hr(gt.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveEndPoint"),gt.prototype),Hr(gt.prototype,"updateAdjustAnchor",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAdjustAnchor"),gt.prototype),Hr(gt.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustStart"),gt.prototype),Hr(gt.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustEnd"),gt.prototype),Hr(gt.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAfterAdjustStartAndEnd"),gt.prototype),gt);function IM(e){return e==null}var BM=IM,Ie,Wv,Kv,Vv,Zv,Jv,Qv,qv,ey,ty,ry,ny,oy,iy,ay,uy,sy,ly,fy,cy;function Su(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Su=function(t){return typeof t}:Su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function LM(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_M(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(O){throw O},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,f=!1,p;return{s:function(){t=t.call(e)},n:function(){var O=t.next();return a=O.done,O},e:function(O){f=!0,p=O},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(f)throw p}}}}function _M(e,r){if(e){if(typeof e=="string")return dy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dy(e,r)}}function dy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function py(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function lr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?py(Object(t),!0).forEach(function(n){vr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):py(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kt(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function zM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FM(e,r,t){return r&&hy(e.prototype,r),t&&hy(e,t),e}function vr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function lt(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var pn=(Ie=function(){function e(r,t){zM(this,e),vr(this,"id",""),kt(this,"type",Wv,this),kt(this,"x",Kv,this),kt(this,"y",Vv,this),kt(this,"text",Zv,this),kt(this,"properties",Jv,this),kt(this,"_width",Qv,this),kt(this,"_height",qv,this),kt(this,"anchorsOffset",ey,this),kt(this,"isSelected",ty,this),kt(this,"isHovered",ry,this),kt(this,"isShowAnchor",ny,this),kt(this,"isDragging",oy,this),kt(this,"isHitable",iy,this),kt(this,"draggable",ay,this),kt(this,"visible",uy,this),vr(this,"virtual",!1),vr(this,"graphModel",void 0),kt(this,"zIndex",sy,this),kt(this,"state",ly,this),kt(this,"autoToFront",fy,this),kt(this,"style",cy,this),vr(this,"BaseType",zt.NODE),vr(this,"modelType",pt.NODE),vr(this,"additionStateData",void 0),vr(this,"targetRules",[]),vr(this,"sourceRules",[]),vr(this,"moveRules",[]),vr(this,"hasSetTargetRules",!1),vr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return FM(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type),a=this.createId();t.id=a||o||In()}this.formatText(t),ur(this,TP(t));var f=this.graphModel.overlapMode;f===xr.INCREASE&&(this.zIndex=t.zIndex||pf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,f=this.properties;Object(l.x)(f)&&(f=Object(l.I)(f));var p={id:this.id,type:this.type,x:this.x,y:this.y,properties:f};return this.graphModel.overlapMode===xr.INCREASE&&(p.zIndex=this.zIndex),a&&(p.text={x:n,y:o,value:a}),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(l.I)(this.properties)}},{key:"getNodeStyle",value:function(){return lr(lr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return It(t)}},{key:"getAnchorStyle",value:function(t){var n=this.graphModel.theme.anchor;return It(n)}},{key:"getAnchorLineStyle",value:function(t){var n=this.graphModel.theme.anchorLine;return It(n)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return It(t)}},{key:"isAllowConnectedAsSource",value:function(t,n,o,a){var f=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var p=!0,m,O=0;O<f.length;O++){var T=f[O];if(!T.validate.call(this,this,t,n,o,a)){p=!1,m=T.message;break}}return{isAllPass:p,msg:m}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o,a){var f=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var p=!0,m,O=0;O<f.length;O++){var T=f[O];if(!T.validate.call(this,t,this,n,o,a)){p=!1,m=T.message;break}}return{isAllPass:p,msg:m}}},{key:"isAllowMoveNode",value:function(t,n){var o=!0,a=!0,f=this.moveRules.concat(this.graphModel.nodeMoveRules),p=LM(f),m;try{for(p.s();!(m=p.n()).done;){var O=m.value,T=O(this,t,n);if(!T)return!1;if(Su(T)==="object"){var N=T;if(N.x===!1&&N.y===!1)return!1;o=o&&N.x,a=a&&N.y}}}catch(L){p.e(L)}finally{p.f()}return{x:o,y:a}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,a=this.y;return t&&t.length>0?t.map(function(f,p){return f.length?(f=f,{id:"".concat(n,"_").concat(p),x:o+f[0],y:a+f[1]}):(f=f,lr(lr({},f),{},{x:o+f.x,y:a+f.y,id:f.id||"".concat(n,"_").concat(p)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(t){return xP(t,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!BM(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,f=!1;if(o)a=!0,f=!0;else{var p=this.isAllowMoveNode(t,n);typeof p=="boolean"?(a=p,f=p):(a=p.x,f=p.y)}if(a){var m=this.x+t;this.x=m,this.text&&this.moveText(t,0)}if(f){var O=this.y+n;this.y=O,this.text&&this.moveText(0,n)}return a||f}},{key:"getMoveDistance",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,f=!1,p=0,m=0;if(o)a=!0,f=!0;else{var O=this.isAllowMoveNode(t,n);typeof O=="boolean"?(a=O,f=O):(a=O.x,f=O.y)}if(a&&t){var T=this.x+t;this.x=T,this.text&&this.moveText(t,0),p=t}if(f&&n){var N=this.y+n;this.y=N,this.text&&this.moveText(0,n),m=n}return[p,m]}},{key:"moveTo",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=t-this.x,f=n-this.y;return!o&&!this.isAllowMoveNode(a,f)?!1:(this.text&&this.text&&this.moveText(a,f),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text,a=o.x,f=o.y,p=o.value,m=o.draggable,O=o.editable;this.text={value:p,editable:O,draggable:m,x:a+t,y:f+n}}},{key:"updateText",value:function(t){this.text=lr(lr({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isShowAnchor=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=lr(lr({},this.properties),{},vr({},t,rr(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=lr(lr({},this.properties),rr(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=lr(lr({},this.style),{},vr({},t,rr(n)))}},{key:"setStyles",value:function(t){this.style=lr(lr({},this.style),rr(t))}},{key:"updateStyles",value:function(t){this.style=lr({},rr(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){ur(this,t)}}]),e}(),Wv=lt(Ie.prototype,"type",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kv=lt(Ie.prototype,"x",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vv=lt(Ie.prototype,"y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zv=lt(Ie.prototype,"text",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Jv=lt(Ie.prototype,"properties",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Qv=lt(Ie.prototype,"_width",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),qv=lt(Ie.prototype,"_height",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),ey=lt(Ie.prototype,"anchorsOffset",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ty=lt(Ie.prototype,"isSelected",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ry=lt(Ie.prototype,"isHovered",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ny=lt(Ie.prototype,"isShowAnchor",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oy=lt(Ie.prototype,"isDragging",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),iy=lt(Ie.prototype,"isHitable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ay=lt(Ie.prototype,"draggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uy=lt(Ie.prototype,"visible",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sy=lt(Ie.prototype,"zIndex",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ly=lt(Ie.prototype,"state",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),fy=lt(Ie.prototype,"autoToFront",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),cy=lt(Ie.prototype,"style",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),lt(Ie.prototype,"incoming",[l.m],Object.getOwnPropertyDescriptor(Ie.prototype,"incoming"),Ie.prototype),lt(Ie.prototype,"outgoing",[l.m],Object.getOwnPropertyDescriptor(Ie.prototype,"outgoing"),Ie.prototype),lt(Ie.prototype,"addNodeMoveRules",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"addNodeMoveRules"),Ie.prototype),lt(Ie.prototype,"move",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"move"),Ie.prototype),lt(Ie.prototype,"getMoveDistance",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"getMoveDistance"),Ie.prototype),lt(Ie.prototype,"moveTo",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveTo"),Ie.prototype),lt(Ie.prototype,"moveText",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveText"),Ie.prototype),lt(Ie.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateText"),Ie.prototype),lt(Ie.prototype,"setSelected",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setSelected"),Ie.prototype),lt(Ie.prototype,"setHovered",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setHovered"),Ie.prototype),lt(Ie.prototype,"setIsShowAnchor",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setIsShowAnchor"),Ie.prototype),lt(Ie.prototype,"setHitable",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setHitable"),Ie.prototype),lt(Ie.prototype,"setElementState",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setElementState"),Ie.prototype),lt(Ie.prototype,"setProperty",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setProperty"),Ie.prototype),lt(Ie.prototype,"setProperties",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setProperties"),Ie.prototype),lt(Ie.prototype,"deleteProperty",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"deleteProperty"),Ie.prototype),lt(Ie.prototype,"setStyle",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setStyle"),Ie.prototype),lt(Ie.prototype,"setStyles",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setStyles"),Ie.prototype),lt(Ie.prototype,"updateStyles",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateStyles"),Ie.prototype),lt(Ie.prototype,"setZIndex",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setZIndex"),Ie.prototype),lt(Ie.prototype,"updateAttributes",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateAttributes"),Ie.prototype),Ie);function xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xu=function(t){return typeof t}:xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}var hn,vy;function yy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yy(Object(t),!0).forEach(function(n){by(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function GM(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function HM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function my(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UM(e,r,t){return r&&my(e.prototype,r),t&&my(e,t),e}function Pu(){return typeof Reflect!="undefined"&&Reflect.get?Pu=Reflect.get:Pu=function(r,t,n){var o=kM(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Pu.apply(this,arguments)}function kM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ro(e),e!==null););return e}function XM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hf(e,r)}function Hf(e,r){return Hf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Hf(e,r)}function $M(e){var r=WM();return function(){var n=Ro(e),o;if(r){var a=Ro(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return YM(this,o)}}function YM(e,r){if(r&&(xu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Au(e)}function Au(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ro(e){return Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ro(e)}function by(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Uf(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var kf=(hn=function(e){XM(t,e);var r=$M(t);function t(){var n;HM(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),by(Au(n),"modelType",pt.CIRCLE_NODE),GM(Au(n),"r",vy,Au(n)),n}return UM(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var o=Pu(Ro(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return gy(gy({},o),It(a))}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,f=this.r;return[{x:o,y:a-f,id:"".concat(this.id,"_0")},{x:o+f,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+f,id:"".concat(this.id,"_2")},{x:o-f,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),vy=Uf(hn.prototype,"r",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Uf(hn.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(hn.prototype,"width"),hn.prototype),Uf(hn.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(hn.prototype,"height"),hn.prototype),hn);i(127);function Tu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tu=function(t){return typeof t}:Tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}var nr,Oy,Ey;function Xf(e,r){return JM(e)||ZM(e,r)||VM(e,r)||KM()}function KM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VM(e,r){if(e){if(typeof e=="string")return Sy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sy(e,r)}}function Sy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ZM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function JM(e){if(Array.isArray(e))return e}function xy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Py(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?xy(Object(t),!0).forEach(function(n){My(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ay(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function QM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ty(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qM(e,r,t){return r&&Ty(e.prototype,r),t&&Ty(e,t),e}function Mu(){return typeof Reflect!="undefined"&&Reflect.get?Mu=Reflect.get:Mu=function(r,t,n){var o=ew(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Mu.apply(this,arguments)}function ew(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Bo(e),e!==null););return e}function tw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$f(e,r)}function $f(e,r){return $f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},$f(e,r)}function rw(e){var r=ow();return function(){var n=Bo(e),o;if(r){var a=Bo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return nw(this,o)}}function nw(e,r){if(r&&(Tu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Io(e)}function Io(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ow(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bo(e)}function My(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Lo(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Yf=(nr=function(e){tw(t,e);var r=rw(t);function t(){var n;QM(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),My(Io(n),"modelType",pt.DIAMOND_NODE),Ay(Io(n),"rx",Oy,Io(n)),Ay(Io(n),"ry",Ey,Io(n)),n}return qM(t,[{key:"getNodeStyle",value:function(){var o=Mu(Bo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Py(Py({},o),It(a))}},{key:"points",get:function(){var o=this.x,a=this.y,f=this.rx,p=this.ry;return[[o,a-p],[o+f,a],[o,a+p],[o-f,a]]}},{key:"pointsPosition",get:function(){var o=this.points.map(function(a){return{x:a[0],y:a[1]}});return o}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var p=Xf(f,1),m=p[0];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var p=Xf(f,2),m=p[1];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(a,f){var p=Xf(a,2),m=p[0],O=p[1];return{x:m,y:O,id:"".concat(o.id,"_").concat(f)}})}}]),t}(pn),Oy=Lo(nr.prototype,"rx",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ey=Lo(nr.prototype,"ry",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Lo(nr.prototype,"points",[l.m],Object.getOwnPropertyDescriptor(nr.prototype,"points"),nr.prototype),Lo(nr.prototype,"pointsPosition",[l.m],Object.getOwnPropertyDescriptor(nr.prototype,"pointsPosition"),nr.prototype),Lo(nr.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(nr.prototype,"width"),nr.prototype),Lo(nr.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(nr.prototype,"height"),nr.prototype),nr);function wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wu=function(t){return typeof t}:wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}var qr,wy,Ny;function Dy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function jy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Dy(Object(t),!0).forEach(function(n){Iy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Cy(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function iw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ry(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aw(e,r,t){return r&&Ry(e.prototype,r),t&&Ry(e,t),e}function Nu(){return typeof Reflect!="undefined"&&Reflect.get?Nu=Reflect.get:Nu=function(r,t,n){var o=uw(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Nu.apply(this,arguments)}function uw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=zo(e),e!==null););return e}function sw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Wf(e,r)}function Wf(e,r){return Wf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Wf(e,r)}function lw(e){var r=cw();return function(){var n=zo(e),o;if(r){var a=zo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return fw(this,o)}}function fw(e,r){if(r&&(wu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _o(e)}function _o(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(e)}function Iy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Du(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Kf=(qr=function(e){sw(t,e);var r=lw(t);function t(){var n;iw(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),Iy(_o(n),"modelType",pt.ELLIPSE_NODE),Cy(_o(n),"rx",wy,_o(n)),Cy(_o(n),"ry",Ny,_o(n)),n}return aw(t,[{key:"getNodeStyle",value:function(){var o=Nu(zo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return jy(jy({},o),It(a))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,f=this.rx,p=this.ry;return[{x:o,y:a-p,id:"".concat(this.id,"_0")},{x:o+f,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p,id:"".concat(this.id,"_2")},{x:o-f,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),wy=Du(qr.prototype,"rx",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ny=Du(qr.prototype,"ry",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Du(qr.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(qr.prototype,"width"),qr.prototype),Du(qr.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(qr.prototype,"height"),qr.prototype),qr);function ju(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ju=function(t){return typeof t}:ju=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}var Br,By;function Vf(e,r){return vw(e)||hw(e,r)||pw(e,r)||dw()}function dw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pw(e,r){if(e){if(typeof e=="string")return Ly(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ly(e,r)}}function Ly(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function hw(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function vw(e){if(Array.isArray(e))return e}function _y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function zy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_y(Object(t),!0).forEach(function(n){Gy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_y(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function yw(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function gw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mw(e,r,t){return r&&Fy(e.prototype,r),t&&Fy(e,t),e}function Cu(){return typeof Reflect!="undefined"&&Reflect.get?Cu=Reflect.get:Cu=function(r,t,n){var o=bw(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Cu.apply(this,arguments)}function bw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Fo(e),e!==null););return e}function Ow(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Zf(e,r)}function Zf(e,r){return Zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Zf(e,r)}function Ew(e){var r=xw();return function(){var n=Fo(e),o;if(r){var a=Fo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Sw(this,o)}}function Sw(e,r){if(r&&(ju(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ru(e)}function Ru(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(e)}function Gy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Iu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Jf=(Br=function(e){Ow(t,e);var r=Ew(t);function t(){var n;gw(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),Gy(Ru(n),"modelType",pt.POLYGON_NODE),yw(Ru(n),"points",By,Ru(n)),n}return mw(t,[{key:"getNodeStyle",value:function(){var o=Cu(Fo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return zy(zy({},o),It(a))}},{key:"pointsPosition",get:function(){var o=this.x,a=this.y,f=this.width,p=this.height,m=this.points.map(function(O){return{x:O[0]+o-f/2,y:O[1]+a-p/2}});return m}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var p=Vf(f,1),m=p[0];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var p=Vf(f,2),m=p[1];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this,a=this.x,f=this.y,p=this.width,m=this.height,O=this.points;return O.map(function(T,N){var L=Vf(T,2),G=L[0],K=L[1];return{x:a+G-p/2,y:f+K-m/2,id:"".concat(o.id,"_").concat(N)}})}}]),t}(pn),By=Iu(Br.prototype,"points",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Iu(Br.prototype,"pointsPosition",[l.m],Object.getOwnPropertyDescriptor(Br.prototype,"pointsPosition"),Br.prototype),Iu(Br.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Br.prototype,"width"),Br.prototype),Iu(Br.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Br.prototype,"height"),Br.prototype),Br);function Bu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bu=function(t){return typeof t}:Bu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}var Qf,Hy;function Uy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ky(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Uy(Object(t),!0).forEach(function(n){$y(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Uy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Pw(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Aw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tw(e,r,t){return r&&Xy(e.prototype,r),t&&Xy(e,t),e}function Lu(){return typeof Reflect!="undefined"&&Reflect.get?Lu=Reflect.get:Lu=function(r,t,n){var o=Mw(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Lu.apply(this,arguments)}function Mw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Go(e),e!==null););return e}function ww(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&qf(e,r)}function qf(e,r){return qf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},qf(e,r)}function Nw(e){var r=jw();return function(){var n=Go(e),o;if(r){var a=Go(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Dw(this,o)}}function Dw(e,r){if(r&&(Bu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _u(e)}function _u(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Go(e)}function $y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Cw(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ec=(Qf=function(e){ww(t,e);var r=Nw(t);function t(){var n;Aw(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),$y(_u(n),"modelType",pt.RECT_NODE),Pw(_u(n),"radius",Hy,_u(n)),n}return Tw(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,f=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+f/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-f/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Lu(Go(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return ky(ky({},o),It(a))}}]),t}(pn),Hy=Cw(Qf.prototype,"radius",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qf);function zu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zu=function(t){return typeof t}:zu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}var Fn;function Yy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Wy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Yy(Object(t),!0).forEach(function(n){Zy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Rw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ky(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Iw(e,r,t){return r&&Ky(e.prototype,r),t&&Ky(e,t),e}function Fu(){return typeof Reflect!="undefined"&&Reflect.get?Fu=Reflect.get:Fu=function(r,t,n){var o=Bw(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Fu.apply(this,arguments)}function Bw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ho(e),e!==null););return e}function Lw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&tc(e,r)}function tc(e,r){return tc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},tc(e,r)}function _w(e){var r=Fw();return function(){var n=Ho(e),o;if(r){var a=Ho(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return zw(this,o)}}function zw(e,r){if(r&&(zu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vy(e)}function Vy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(e)}function Zy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Jy(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var rc=(Fn=function(e){Lw(t,e);var r=_w(t);function t(){var n;Rw(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),Zy(Vy(n),"modelType",pt.TEXT_NODE),n}return Iw(t,[{key:"getTextStyle",value:function(){var o=Fu(Ho(t.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Wy(Wy({},o),It(a))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),f=a.fontSize,p=df({rows:o,fontSize:f,rowsLength:o.length}),m=p.width;return m}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),f=a.fontSize,p=df({rows:o,fontSize:f,rowsLength:o.length}),m=p.height;return m}}]),t}(pn),Jy(Fn.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Fn.prototype,"width"),Fn.prototype),Jy(Fn.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Fn.prototype,"height"),Fn.prototype),Fn);function Gu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gu=function(t){return typeof t}:Gu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function Gw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hw(e,r,t){return r&&Qy(e.prototype,r),t&&Qy(e,t),e}function Uw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&nc(e,r)}function nc(e,r){return nc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},nc(e,r)}function kw(e){var r=$w();return function(){var n=Hu(e),o;if(r){var a=Hu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Xw(this,o)}}function Xw(e,r){if(r&&(Gu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qy(e)}function qy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Hu(e){return Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hu(e)}function Yw(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var oc=function(e){Uw(t,e);var r=kw(t);function t(){var n;Gw(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),Yw(qy(n),"modelType",pt.HTML_NODE),n}return Hw(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,f=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+f/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-f/2,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),Ur,eg,tg,rg;function ng(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ww(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ng(Object(t),!0).forEach(function(n){ig(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ng(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ic(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Kw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vw(e,r,t){return r&&og(e.prototype,r),t&&og(e,t),e}function ig(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function bi(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ag=(Ur=function(){function e(r){Kw(this,e),ig(this,"graphModel",void 0),ic(this,"isShowHorizontal",eg,this),ic(this,"isShowVertical",tg,this),ic(this,"position",rg,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return Vw(e,[{key:"getStyle",value:function(){return Ww({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,a=t.y,f=!1,p=!1,m=0;m<n.length;m++){var O=n[m];if(O.id!==t.id&&(o===O.x&&(f=!0),a===O.y&&(p=!0),f&&p))break}return{isShowVertical:f,isShowHorizontal:p,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(t,n){var o=!1,a,f=t.id,p;if(f){var m=this.graphModel.fakerNode;if(m&&m.id===f)p=Pr(m);else{var O=this.graphModel.getNodeModelById(f);p=Pr(O)}}for(var T=0;T<n.length;T++){var N=n[T];if(N.id!==t.id){var L=Pr(N);if(L.minY===p.minY||L.maxY===p.minY){o=!0,a=p.minY;break}if(L.minY===p.maxY||L.maxY===p.maxY){o=!0,a=p.maxY;break}}}return ur({isShowHorizontal:o,position:{y:a}})}},{key:"getVerticalSnapline",value:function(t,n){var o=!1,a,f=t.id,p;if(f){var m=this.graphModel.fakerNode;if(m&&m.id===f)p=Pr(m);else{var O=this.graphModel.getNodeModelById(f);p=Pr(O)}}for(var T=0;T<n.length;T++){var N=n[T];if(N.id!==t.id){var L=Pr(N);if(L.minX===p.minX||L.maxX===p.minX){o=!0,a=p.minX;break}if(L.minX===p.maxX||L.maxX===p.maxX){o=!0,a=p.maxX;break}}}return ur({isShowVertical:o,position:{x:a}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),a=o.isShowHorizontal,f=o.isShowVertical;if(!a){var p=this.getHorizontalSnapline(t,n);p.isShowHorizontal&&(o.isShowHorizontal=p.isShowHorizontal,o.position.y=p.position.y)}if(!f){var m=this.getVerticalSnapline(t,n);m.isShowVertical&&(o.isShowVertical=m.isShowVertical,o.position.x=m.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical,a=t.position;this.position=a,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var n=this.graphModel.nodes,o=this.getSnapLinePosition(t,n);this.setSnaplineInfo(o)}}]),e}(),eg=bi(Ur.prototype,"isShowHorizontal",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tg=bi(Ur.prototype,"isShowVertical",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rg=bi(Ur.prototype,"position",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bi(Ur.prototype,"clearSnapline",[l.k],Object.getOwnPropertyDescriptor(Ur.prototype,"clearSnapline"),Ur.prototype),bi(Ur.prototype,"setNodeSnapLine",[l.k],Object.getOwnPropertyDescriptor(Ur.prototype,"setNodeSnapLine"),Ur.prototype),Ur),Oi=new Map,ug=function(r){var t=In();function n(){r();var a=Oi.get(t);if(a){var f=window.requestAnimationFrame(n);Oi.set(t,f)}}var o=window.requestAnimationFrame(n);return Oi.set(t,o),t},Uu=function(r){var t=Oi.get(r);t&&(window.cancelAnimationFrame(t),Oi.delete(r))};function ku(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ku=function(t){return typeof t}:ku=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function Ei(){return Ei=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ei.apply(this,arguments)}function sg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Xu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?sg(Object(t),!0).forEach(function(n){tn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Zw(e,r){return e1(e)||qw(e,r)||Qw(e,r)||Jw()}function Jw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qw(e,r){if(e){if(typeof e=="string")return lg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lg(e,r)}}function lg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function qw(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function e1(e){if(Array.isArray(e))return e}function t1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r1(e,r,t){return r&&fg(e.prototype,r),t&&fg(e,t),e}function n1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ac(e,r)}function ac(e,r){return ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ac(e,r)}function o1(e){var r=a1();return function(){var n=$u(e),o;if(r){var a=$u(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return i1(this,o)}}function i1(e,r){if(r&&(ku(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return en(e)}function en(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function $u(e){return $u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$u(e)}function tn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var u1=function(e){n1(t,e);var r=o1(t);function t(){var n;return t1(this,t),n=r.call(this),tn(en(n),"preTargetNode",void 0),tn(en(n),"sourceRuleResults",void 0),tn(en(n),"targetRuleResults",void 0),tn(en(n),"dragHandler",void 0),tn(en(n),"t",void 0),tn(en(n),"onDragStart",function(o){var a=o.event,f=n.props,p=f.anchorData,m=f.nodeModel,O=f.graphModel,T=O.overlapMode;O.selectNodeById(m.id),T!==xr.INCREASE&&m.autoToFront&&O.toFront(m.id),O.eventCenter.emit(nt.ANCHOR_DRAGSTART,{data:p,e:a,nodeModel:m}),n.setState({startX:p.x,startY:p.y,endX:p.x,endY:p.y})}),tn(en(n),"onDragging",function(o){var a=o.event,f=n.props,p=f.graphModel,m=f.nodeModel,O=f.anchorData,T=p.transformModel,N=p.eventCenter,L=p.width,G=p.height,K=p.editConfigModel,ie=K.autoExpand,oe=K.stopMoveGraph,ue=a.clientX,Me=a.clientY,Ce=p.getPointByClient({x:ue,y:Me}),ye=Ce.domOverlayPosition,Be=ye.x,Ne=ye.y,ke=Ce.canvasOverlayPosition,De=ke.x,ot=ke.y;n.t&&Uu(n.t);var ht=[],Ht=10;Be<10?ht=[Ht,0]:Be+10>L?ht=[-Ht,0]:Ne<10?ht=[0,Ht]:Ne+10>G&&(ht=[0,-Ht]),n.setState({endX:De,endY:ot,dragging:!0}),n.moveAnchorEnd(De,ot),ht.length>0&&!oe&&ie&&(n.t=ug(function(){var Wt=ht,ir=Zw(Wt,2),yr=ir[0],uo=ir[1];T.translate(yr,uo);var Xo=n.state,Un=Xo.endX,$o=Xo.endY;n.setState({endX:Un-yr,endY:$o-uo}),n.moveAnchorEnd(Un-yr,$o-uo)})),N.emit(nt.ANCHOR_DRAG,{data:O,e:a,nodeModel:m})}),tn(en(n),"onDragEnd",function(o){var a=o.event;n.t&&Uu(n.t),n.checkEnd(a),n.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var f=n.props,p=f.graphModel,m=f.nodeModel,O=f.anchorData;p.eventCenter.emit(nt.ANCHOR_DRAGEND,{data:O,e:a,nodeModel:m})}),tn(en(n),"checkEnd",function(o){var a=n.props,f=a.graphModel,p=a.nodeModel,m=a.anchorData,O=m.x,T=m.y,N=m.id;f.edgeType;var L=n.state,G=L.endX,K=L.endY,ie=L.dragging,oe=Ca({x:G,y:K},f);if(n.preTargetNode&&n.preTargetNode.state!==bt.DEFAULT&&n.preTargetNode.setElementState(bt.DEFAULT),!!ie&&oe&&oe.node){var ue=oe.node,Me=oe.anchor.id,Ce="".concat(p.id,"_").concat(ue.id,"_").concat(Me,"_").concat(N),ye=n.sourceRuleResults.get(Ce)||{},Be=ye.isAllPass,Ne=ye.msg,ke=n.targetRuleResults.get(Ce)||{},De=ke.isAllPass,ot=ke.msg;if(Be&&De){ue.setElementState(bt.DEFAULT);var ht=f.edgeGenerator(p.getData(),f.getNodeModelById(oe.node.id).getData()),Ht=f.addEdge(Xu(Xu({},ht),{},{sourceNodeId:p.id,sourceAnchorId:N,startPoint:{x:O,y:T},targetNodeId:oe.node.id,targetAnchorId:oe.anchor.id,endPoint:{x:oe.anchor.x,y:oe.anchor.y}})),Wt=n.props.anchorData;f.eventCenter.emit(nt.ANCHOR_DROP,{data:Wt,e:o,nodeModel:p,edgeModel:Ht})}else{var ir=ue.getData();f.eventCenter.emit(nt.CONNECTION_NOT_ALLOWED,{data:ir,msg:ot||Ne})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},n.dragHandler=new fn({onDragStart:n.onDragStart,onDragging:n.onDragging,onDragEnd:n.onDragEnd}),n}return r1(t,[{key:"getAnchorShape",value:function(){var o=this.props,a=o.anchorData,f=o.style,p=o.node,m=p.getAnchorShape(a);if(m)return m;var O=a.x,T=a.y,N=Xu(Xu({},f),f.hover);return Object(ae.g)("g",null,Object(ae.g)(gi,Ei({className:"lf-node-anchor-hover"},N,{x:O,y:T})),Object(ae.g)(gi,Ei({className:"lf-node-anchor"},f,{x:O,y:T})))}},{key:"moveAnchorEnd",value:function(o,a){var f=this.props,p=f.graphModel,m=f.nodeModel,O=f.anchorData,T=Ca({x:o,y:a},p);if(T){var N=T.node,L=T.anchor.id;if(this.preTargetNode&&this.preTargetNode!==T.node&&this.preTargetNode.setElementState(bt.DEFAULT),O.id===L)return;this.preTargetNode=N;var G="".concat(m.id,"_").concat(N.id,"_").concat(L,"_").concat(O.id);if(!this.targetRuleResults.has(G)){var K=T.anchor,ie=m.isAllowConnectedAsSource(N,O,K),oe=N.isAllowConnectedAsTarget(m,O,K);this.sourceRuleResults.set(G,Ia(ie)),this.targetRuleResults.set(G,Ia(oe))}var ue=this.sourceRuleResults.get(G),Me=ue.isAllPass,Ce=this.targetRuleResults.get(G),ye=Ce.isAllPass;Me&&ye?N.setElementState(bt.ALLOW_CONNECT):N.setElementState(bt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==bt.DEFAULT&&this.preTargetNode.setElementState(bt.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,a=o.startX,f=o.startY,p=o.endX,m=o.endY,O=Vr(a,f,p,m);return O>10}},{key:"render",value:function(){var o=this,a=this.state,f=a.startX,p=a.startY,m=a.endX,O=a.endY,T=this.props,N=T.anchorData.edgeAddable,L=T.edgeStyle;return Object(ae.g)("g",{className:"lf-anchor"},Object(ae.g)("g",{onMouseDown:function(K){N!==!1&&o.dragHandler.handleMouseDown(K)}},this.getAnchorShape()),this.isShowLine()&&Object(ae.g)(Do,Ei({x1:f,y1:p,x2:m,y2:O},L,{"pointer-events":"none"})))}}]),t}(ae.a),s1=u1;i(64);function cg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function l1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?cg(Object(t),!0).forEach(function(n){f1(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function f1(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Yu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yu=function(t){return typeof t}:Yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function c1(e,r){return v1(e)||h1(e,r)||p1(e,r)||d1()}function d1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p1(e,r){if(e){if(typeof e=="string")return dg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dg(e,r)}}function dg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function h1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function v1(e){if(Array.isArray(e))return e}function pg(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.value,f=e.fontSize,p=e.fill,m=p===void 0?"currentColor":p,O=e.overflowMode,T=O===void 0?"default":O,N=e.textWidth,L=N===void 0?"":N,G=e.model,K={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:m};if(Object.entries(e).forEach(function(ye){var Be=c1(ye,2),Ne=Be[0],ke=Be[1],De=Yu(ke);De!=="object"&&(K[Ne]=ke)}),a){var ie=String(a).split(/[\r\n]/g),oe=ie.length;if(T!=="default"){var ue=G.BaseType,Me=G.modelType;if(ue===zt.NODE&&Me!==pt.TEXT_NODE||ue===zt.EDGE&&L)return y1(e)}if(oe>1){var Ce=ie.map(function(ye,Be){var Ne=f+2,ke=(Be-(oe-1)/2)*Ne;return Object(ae.g)("tspan",{className:"lf-text-tspan",x:t,y:o+ke},ye)});return Object(ae.g)("text",K,Ce)}return Object(ae.g)("text",K,a)}}function y1(e){var r=e.value,t=e.fontSize,n=e.model,o=e.fontFamily,a=o===void 0?"":o,f=e.lineHeight,p=e.wrapPadding,m=p===void 0?"0, 0":p,O=e.overflowMode,T=e.x,N=e.y,L=n.width,G=n.textHeight,K=e.textWidth||L,ie=String(r).split(/[\r\n]/g),oe=ie.length,ue=Wp({rows:ie,style:{fontSize:"".concat(t,"px"),width:"".concat(K,"px"),fontFamily:a,lineHeight:f,padding:m},rowsLength:oe,className:"lf-get-text-height"}),Me=n.height>ue?n.height:ue;G&&(Me=G);var Ce=O==="ellipsis";return Object(ae.g)("g",null,Object(ae.g)("foreignObject",{width:K,height:Me,x:T-K/2,y:N-Me/2},Object(ae.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Me,width:K,padding:m}},Object(ae.g)("div",{className:Ce?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Ce?ie.join(""):"",style:l1({},e)},ie.map(function(ye){return Object(ae.g)("div",{className:"lf-node-text--auto-wrap-inner"},ye)})))))}function Wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wu=function(t){return typeof t}:Wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function uc(){return uc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},uc.apply(this,arguments)}function g1(e,r){return E1(e)||O1(e,r)||b1(e,r)||m1()}function m1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b1(e,r){if(e){if(typeof e=="string")return hg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hg(e,r)}}function hg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function O1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function E1(e){if(Array.isArray(e))return e}function S1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x1(e,r,t){return r&&vg(e.prototype,r),t&&vg(e,t),e}function P1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&sc(e,r)}function sc(e,r){return sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},sc(e,r)}function A1(e){var r=M1();return function(){var n=Ku(e),o;if(r){var a=Ku(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return T1(this,o)}}function T1(e,r){if(r&&(Wu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gn(e)}function Gn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ku(e){return Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ku(e)}function oo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yg=function(e){P1(t,e);var r=A1(t);function t(n){var o;S1(this,t),o=r.call(this),oo(Gn(o),"dragHandler",void 0),oo(Gn(o),"sumDeltaX",0),oo(Gn(o),"sumDeltaY",0),oo(Gn(o),"stepDrag",void 0),oo(Gn(o),"onDragging",function(p){var m=p.deltaX,O=p.deltaY,T=o.props,N=T.model,L=T.graphModel.transformModel,G=L.fixDeltaXY(m,O),K=g1(G,2),ie=K[0],oe=K[1];N.moveText(ie,oe)}),oo(Gn(o),"dblClickHandler",function(){var p=o.props.editable;if(p){var m=o.props.model;m.setElementState(bt.TEXT_EDIT)}}),oo(Gn(o),"mouseDownHandle",function(p){var m=o.props,O=m.draggable,T=m.graphModel.editConfigModel.nodeTextDraggable;(O||T)&&o.stepDrag.handleMouseDown(p)});var a=n.model,f=n.draggable;return o.stepDrag=new fn({onDragging:o.onDragging,step:1,model:a,isStopPropagation:f}),o}return x1(t,[{key:"getShape",value:function(){var o=this.props,a=o.model,f=o.graphModel,p=a.text,m=f.editConfigModel,O=p.value,T=p.x,N=p.y,L=p.editable,G=p.draggable,K={x:T,y:N,className:"",value:O};L?K.className="lf-element-text":G||m.nodeTextDraggable?K.className="lf-text-draggable":K.className="lf-text-disabled";var ie=a.getTextStyle();return Object(ae.g)(pg,uc({},K,ie,{model:a}))}},{key:"render",value:function(){var o=this.props.model.text;if(o)return Object(ae.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(ae.a),w1=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Vu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vu=function(t){return typeof t}:Vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function Zu(e,r){return C1(e)||j1(e,r)||D1(e,r)||N1()}function N1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D1(e,r){if(e){if(typeof e=="string")return gg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gg(e,r)}}function gg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function j1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function C1(e){if(Array.isArray(e))return e}function R1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I1(e,r,t){return r&&mg(e.prototype,r),t&&mg(e,t),e}function B1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&lc(e,r)}function lc(e,r){return lc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},lc(e,r)}function L1(e){var r=z1();return function(){var n=Ju(e),o;if(r){var a=Ju(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return _1(this,o)}}function _1(e,r){if(r&&(Vu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return or(e)}function or(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ju(e){return Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ju(e)}function fr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vn=function(e){B1(t,e);var r=L1(t);function t(n){var o;R1(this,t),o=r.call(this),fr(or(o),"t",void 0),fr(or(o),"moveOffset",void 0),fr(or(o),"stepDrag",void 0),fr(or(o),"contextMenuTime",void 0),fr(or(o),"startTime",void 0),fr(or(o),"clickTimer",void 0),fr(or(o),"onDragStart",function(O){var T=O.event,N=T.clientX,L=T.clientY,G=o.props,K=G.model,ie=G.graphModel,oe=ie.getPointByClient({x:N,y:L}),ue=oe.canvasOverlayPosition,Me=ue.x,Ce=ue.y;o.moveOffset={x:K.x-Me,y:K.y-Ce}}),fr(or(o),"onDragging",function(O){var T=O.event,N=o.props,L=N.model,G=N.graphModel,K=G.editConfigModel,ie=K.stopMoveGraph,oe=K.autoExpand,ue=G.transformModel,Me=G.width,Ce=G.height,ye=G.gridSize;L.isDragging=!0;var Be=T.clientX,Ne=T.clientY,ke=G.getPointByClient({x:Be,y:Ne}),De=ke.canvasOverlayPosition,ot=De.x,ht=De.y,Ht=ue.CanvasPointToHtmlPoint([ot,ht]),Wt=Zu(Ht,2),ir=Wt[0],yr=Wt[1];if(ot=ot+o.moveOffset.x,ht=ht+o.moveOffset.y,ot=Rn(ot,ye),ht=Rn(ht,ye),!Me||!Ce){G.moveNode2Coordinate(L.id,ot,ht);return}var uo=ir<0||yr<0||ir>Me||yr>Ce;if(!(oe&&!ie&&uo)){var Xo=ue.CanvasPointToHtmlPoint([ot-L.width/2,ht-L.height/2]),Un=Zu(Xo,2),$o=Un[0],ed=Un[1],TC=ue.CanvasPointToHtmlPoint([ot+L.width/2,ht+L.height/2]),gm=Zu(TC,2),MC=gm[0],wC=gm[1],Fs=Math.max(ye,20),Yo=[];$o<0?Yo=[Fs,0]:MC>G.width?Yo=[-Fs,0]:ed<0?Yo=[0,Fs]:wC>G.height&&(Yo=[0,-Fs]),o.t&&Uu(o.t),Yo.length>0&&!ie&&oe?o.t=ug(function(){var NC=Yo,mm=Zu(NC,2),bm=mm[0],Om=mm[1];ue.translate(bm,Om),G.moveNode(L.id,-bm/ue.SCALE_X,-Om/ue.SCALE_X)}):G.moveNode2Coordinate(L.id,ot,ht)}}),fr(or(o),"onDragEnd",function(){o.t&&Uu(o.t);var O=o.props.model;O.isDragging=!1}),fr(or(o),"handleClick",function(O){if(o.startTime){var T=new Date().getTime()-o.startTime;if(!(T>200)){var N=o.props,L=N.model,G=N.graphModel,K=L.getData(),ie=G.getPointByClient({x:O.clientX,y:O.clientY}),oe={data:K,e:O,position:ie,isSelected:!1,isMultiple:!1},ue=O.button===2,Me=O.detail===2;if(!ue){var Ce=G.editConfigModel,ye=Gp(O,Ce);oe.isMultiple=ye,L.isSelected&&!Me&&ye?(oe.isSelected=!1,L.setSelected(!1)):(G.selectNodeById(L.id,ye),oe.isSelected=!0,o.toFront()),Me?(Ce.nodeTextEdit&&L.text.editable&&(L.setSelected(!1),G.setElementStateById(L.id,bt.TEXT_EDIT)),G.eventCenter.emit(nt.NODE_DBCLICK,oe)):(G.eventCenter.emit(nt.ELEMENT_CLICK,oe),G.eventCenter.emit(nt.NODE_CLICK,oe))}}}}),fr(or(o),"handleContextMenu",function(O){O.preventDefault();var T=o.props,N=T.model,L=T.graphModel,G=N.getData(),K=L.getPointByClient({x:O.clientX,y:O.clientY});L.setElementStateById(N.id,bt.SHOW_MENU,K.domOverlayPosition),N.isSelected||L.selectNodeById(N.id),L.eventCenter.emit(nt.NODE_CONTEXTMENU,{data:G,e:O,position:K}),o.toFront()}),fr(or(o),"handleMouseDown",function(O){var T=o.props,N=T.model,L=T.graphModel;o.startTime=new Date().getTime();var G=L.editConfigModel;G.adjustNodePosition&&N.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(O)}),fr(or(o),"setHoverON",function(O){var T=o.props,N=T.model,L=T.graphModel;if(!N.isHovered){var G=N.getData();N.setHovered(!0),L.eventCenter.emit(nt.NODE_MOUSEENTER,{data:G,e:O})}}),fr(or(o),"setHoverOFF",function(O){var T=o.props,N=T.model,L=T.graphModel,G=N.getData();N.isHovered&&(N.setHovered(!1),L.eventCenter.emit(nt.NODE_MOUSELEAVE,{data:G,e:O}))}),fr(or(o),"onMouseOut",function(O){w1&&o.setHoverOFF(O)});var a=n.graphModel,f=a.gridSize,p=a.eventCenter,m=n.model;return o.stepDrag=new fn({onDragStart:o.onDragStart,onDragging:o.onDragging,onDragEnd:o.onDragEnd,step:f,eventType:"NODE",isStopPropagation:!1,eventCenter:p,model:m}),o}return I1(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,a=this.props,f=a.model,p=a.graphModel,m=f.isSelected,O=f.isHitable,T=f.isDragging,N=f.isShowAnchor;return O&&(m||N)&&!T?Aa(f.anchors,function(L,G){var K=f.getAnchorLineStyle(L),ie=f.getAnchorStyle(L);return Object(ae.g)(s1,{anchorData:L,node:o,style:ie,edgeStyle:K,anchorIndex:G,nodeModel:f,graphModel:p,setHoverOFF:o.setHoverOFF})}):[]}},{key:"getText",value:function(){var o=this.props,a=o.model,f=o.graphModel;if(a.state===bt.TEXT_EDIT)return"";if(a.text){var p=f.editConfigModel,m=!1;return(a.text.draggable||p.nodeTextDraggable)&&(m=!0),Object(ae.g)(yg,{editable:p.nodeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:m})}}},{key:"getStateClassName",value:function(){var o=this.props.model,a=o.state,f=o.isDragging,p=o.isSelected,m="lf-node";switch(a){case bt.ALLOW_CONNECT:m+=" lf-node-allow";break;case bt.NOT_ALLOW_CONNECT:m+=" lf-node-not-allow";break;default:m+=" lf-node-default";break}return f&&(m+=" lf-isDragging"),p&&(m+=" lf-node-selected"),m}},{key:"toFront",value:function(){var o=this.props,a=o.model,f=o.graphModel,p=f.overlapMode;p!==xr.INCREASE&&a.autoToFront&&f.toFront(a.id)}},{key:"render",value:function(){var o=this.props,a=o.model,f=o.graphModel,p=f.editConfigModel,m=p.hideAnchors,O=p.adjustNodePosition,T=f.gridSize,N=f.transformModel.SCALE_X,L=a.isHitable,G=a.draggable,K=Object(ae.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),m?null:this.getAnchors()),ie;return L?(O&&G&&this.stepDrag.setStep(T*N),ie=Object(ae.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},K)):ie=Object(ae.g)("g",{className:this.getStateClassName()},K),ie}}],[{key:"getModel",value:function(o){return o}}]),t}(ae.a);function Qu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qu=function(t){return typeof t}:Qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function fc(){return fc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},fc.apply(this,arguments)}function F1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function G1(e,r,t){return r&&bg(e.prototype,r),t&&bg(e,t),e}function H1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&cc(e,r)}function cc(e,r){return cc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},cc(e,r)}function U1(e){var r=$1();return function(){var n=qu(e),o;if(r){var a=qu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return k1(this,o)}}function k1(e,r){if(r&&(Qu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X1(e)}function X1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function qu(e){return qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qu(e)}var dc=function(e){H1(t,e);var r=U1(t);function t(){return F1(this,t),r.apply(this,arguments)}return G1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ae.g)(_n,fc({},a,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(vn);function es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?es=function(t){return typeof t}:es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function pc(){return pc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},pc.apply(this,arguments)}function Y1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W1(e,r,t){return r&&Og(e.prototype,r),t&&Og(e,t),e}function K1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&hc(e,r)}function hc(e,r){return hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},hc(e,r)}function V1(e){var r=Q1();return function(){var n=ts(e),o;if(r){var a=ts(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Z1(this,o)}}function Z1(e,r){if(r&&(es(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J1(e)}function J1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ts(e){return ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ts(e)}var vc=function(e){K1(t,e);var r=V1(t);function t(){return Y1(this,t),r.apply(this,arguments)}return W1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,f=o.y,p=o.r,m=o.getNodeStyle();return Object(ae.g)(gi,pc({},m,{x:a,y:f,r:p}))}}]),t}(vn);function rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rs=function(t){return typeof t}:rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function q1(e,r){return nN(e)||rN(e,r)||tN(e,r)||eN()}function eN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tN(e,r){if(e){if(typeof e=="string")return Eg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Eg(e,r)}}function Eg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function rN(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function nN(e){if(Array.isArray(e))return e}function Sg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var a=q1(o,2),f=a[0],p=a[1],m=rs(p);m!=="object"&&(n[f]=p)}),t?n.className="lf-basic-shape ".concat(t):n.className="lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(ae.g)("polygon",n)}function ns(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ns=function(t){return typeof t}:ns=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function yc(){return yc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},yc.apply(this,arguments)}function oN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iN(e,r,t){return r&&xg(e.prototype,r),t&&xg(e,t),e}function aN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&gc(e,r)}function gc(e,r){return gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},gc(e,r)}function uN(e){var r=fN();return function(){var n=os(e),o;if(r){var a=os(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return sN(this,o)}}function sN(e,r){if(r&&(ns(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lN(e)}function lN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function os(e){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},os(e)}var mc=function(e){aN(t,e);var r=uN(t);function t(){return oN(this,t),r.apply(this,arguments)}return iN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,f=o.y,p=o.width,m=o.height,O=o.points,T=o.getNodeStyle(),N={transform:"matrix(1 0 0 1 ".concat(a-p/2," ").concat(f-m/2,")")};return Object(ae.g)("g",N,Object(ae.g)(Sg,yc({},T,{points:O,x:a,y:f})))}}]),t}(vn);function is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?is=function(t){return typeof t}:is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function bc(){return bc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},bc.apply(this,arguments)}function cN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dN(e,r,t){return r&&Pg(e.prototype,r),t&&Pg(e,t),e}function pN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Oc(e,r)}function Oc(e,r){return Oc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Oc(e,r)}function hN(e){var r=gN();return function(){var n=as(e),o;if(r){var a=as(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return vN(this,o)}}function vN(e,r){if(r&&(is(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yN(e)}function yN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function as(e){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},as(e)}var Ec=function(e){pN(t,e);var r=hN(t);function t(){return cN(this,t),r.apply(this,arguments)}return dN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ae.g)("g",null,Object(ae.g)(Sg,bc({},a,{points:o.points,x:o.x,y:o.y})))}}]),t}(vn);function us(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?us=function(t){return typeof t}:us=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function mN(e,r){return SN(e)||EN(e,r)||ON(e,r)||bN()}function bN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ON(e,r){if(e){if(typeof e=="string")return Ag(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ag(e,r)}}function Ag(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function EN(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function SN(e){if(Array.isArray(e))return e}function xN(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.rx,f=a===void 0?4:a,p=e.ry,m=p===void 0?4:p,O=e.className,T={cx:t,cy:o,rx:f,ry:m,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(N){var L=mN(N,2),G=L[0],K=L[1],ie=us(K);ie!=="object"&&(T[G]=K)}),O?T.className="lf-basic-shape ".concat(O):T.className="lf-basic-shape",Object(ae.g)("ellipse",T)}function ss(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ss=function(t){return typeof t}:ss=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}function Sc(){return Sc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Sc.apply(this,arguments)}function PN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AN(e,r,t){return r&&Tg(e.prototype,r),t&&Tg(e,t),e}function TN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&xc(e,r)}function xc(e,r){return xc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},xc(e,r)}function MN(e){var r=DN();return function(){var n=ls(e),o;if(r){var a=ls(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return wN(this,o)}}function wN(e,r){if(r&&(ss(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NN(e)}function NN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ls(e){return ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ls(e)}var Pc=function(e){TN(t,e);var r=MN(t);function t(){return PN(this,t),r.apply(this,arguments)}return AN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ae.g)(xN,Sc({},a,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(vn);function fs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fs=function(t){return typeof t}:fs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function Mg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function wg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Mg(Object(t),!0).forEach(function(n){jN(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jN(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function CN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RN(e,r,t){return r&&Ng(e.prototype,r),t&&Ng(e,t),e}function IN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ac(e,r)}function Ac(e,r){return Ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ac(e,r)}function BN(e){var r=zN();return function(){var n=cs(e),o;if(r){var a=cs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return LN(this,o)}}function LN(e,r){if(r&&(fs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _N(e)}function _N(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function cs(e){return cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cs(e)}var Tc=function(e){IN(t,e);var r=BN(t);function t(){return CN(this,t),r.apply(this,arguments)}return RN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),f=o.text;if(f&&f.value&&a.background&&a.background.fill!=="transparent"){var p=f.x,m=f.y,O=o.width,T=o.height,N=wg(wg({},a.background),{},{x:p,y:m-1,width:O,height:T});return Object(ae.g)(_n,N)}}},{key:"getShape",value:function(){return Object(ae.g)("g",null,this.getBackground())}}]),t}(vn);function ds(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ds=function(t){return typeof t}:ds=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function Mc(){return Mc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Mc.apply(this,arguments)}function FN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Dg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GN(e,r,t){return r&&Dg(e.prototype,r),t&&Dg(e,t),e}function HN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&wc(e,r)}function wc(e,r){return wc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},wc(e,r)}function UN(e){var r=XN();return function(){var n=ps(e),o;if(r){var a=ps(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return kN(this,o)}}function kN(e,r){if(r&&(ds(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Si(e)}function Si(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ps(e){return ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ps(e)}function hs(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Nc=function(e){HN(t,e);var r=UN(t);function t(){var n;FN(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),hs(Si(n),"ref",void 0),hs(Si(n),"currentProperties",void 0),hs(Si(n),"preProperties",void 0),hs(Si(n),"setRef",function(p){n.ref=p}),n}return GN(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currentProperties))return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,a=o.x,f=o.y,p=o.height,m=o.width,O=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(ae.g)("foreignObject",Mc({},O,{x:a-m/2,y:f-p/2,width:m,height:p,ref:this.setRef}))}}]),t}(vn);function vs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vs=function(t){return typeof t}:vs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function Dc(){return Dc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Dc.apply(this,arguments)}function jg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function io(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?jg(Object(t),!0).forEach(function(n){Rc(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function $N(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function YN(e,r,t){return r&&Cg(e.prototype,r),t&&Cg(e,t),e}function WN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jc(e,r)}function jc(e,r){return jc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jc(e,r)}function KN(e){var r=ZN();return function(){var n=ys(e),o;if(r){var a=ys(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return VN(this,o)}}function VN(e,r){if(r&&(vs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cc(e)}function Cc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ys(e){return ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ys(e)}function Rc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var JN=function(e){WN(t,e);var r=KN(t);function t(n){var o;return $N(this,t),o=r.call(this,n),Rc(Cc(o),"setHoverON",function(){o.setState({isHovered:!0})}),Rc(Cc(o),"setHoverOFF",function(){o.setState({isHovered:!1})}),o.state={isHovered:!1},o}return YN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),f=o.text,p=a.background||{},m=this.state.isHovered;if(m&&a.hover&&a.hover.background&&(p=io(io({},p),a.hover.background)),f&&f.value&&p.fill!=="transparent"){var O=a.fontSize,T=a.overflowMode,N=a.lineHeight,L=a.wrapPadding,G=a.textWidth,K=f.value,ie=f.x,oe=f.y,ue=String(K).split(/[\r\n]/g),Me=ue.length,Ce;if(T==="autoWrap"&&G){var ye=Wp({rows:ue,style:{fontSize:"".concat(O,"px"),width:"".concat(G,"px"),lineHeight:N,padding:L},rowsLength:Me,className:"lf-get-text-height"});Ce=io(io({},p),{},{x:ie-1,y:oe-1,width:G,height:ye})}else{ue&&ue.forEach(function(ot){zh(ot)});var Be=df({rows:ue,fontSize:O,rowsLength:Me}),Ne=Be.width,ke=Be.height;if(typeof p.wrapPadding=="string"){var De=p.wrapPadding.split(",").filter(function(ot){return ot.trim()}).map(function(ot){return parseFloat(ot.trim())});De.length>0&&De.length<=4&&(De.length===1?De=[De[0],De[0],De[0],De[0]]:De.length===2?De=[De[0],De[1],De[0],De[1]]:De.length===3&&(De=[De[0],De[1],De[2],De[1]]),Ne+=De[1]+De[3],ke+=De[0]+De[2],ie=ie+(De[1]-De[3])/2,oe=oe+(De[2]-De[0])/2)}Ce=io(io({},p),{},{x:ie-1,y:oe-1,width:Ne,height:ke})}return Object(ae.g)(_n,Ce)}}},{key:"getShape",value:function(){var o=this.props.model,a=o.text,f=a.value,p=a.x,m=a.y;if(f){var O=o.getTextStyle(),T=io({x:p,y:m,className:"lf-element-text",value:f},O);return Object(ae.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(ae.g)(pg,Dc({},T,{model:o})))}}}]),t}(yg);function gs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gs=function(t){return typeof t}:gs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function Rg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Rg(Object(t),!0).forEach(function(n){Tr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function QN(e,r){return rD(e)||tD(e,r)||eD(e,r)||qN()}function qN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eD(e,r){if(e){if(typeof e=="string")return Ig(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ig(e,r)}}function Ig(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function tD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function rD(e){if(Array.isArray(e))return e}function nD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oD(e,r,t){return r&&Bg(e.prototype,r),t&&Bg(e,t),e}function iD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ic(e,r)}function Ic(e,r){return Ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ic(e,r)}function aD(e){var r=sD();return function(){var n=ms(e),o;if(r){var a=ms(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return uD(this,o)}}function uD(e,r){if(r&&(gs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ar(e)}function Ar(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ms(e){return ms=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ms(e)}function Tr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var rn;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(rn||(rn={}));var Lg=function(e){iD(t,e);var r=aD(t);function t(n){var o;nD(this,t),o=r.call(this),Tr(Ar(o),"stepDragData",void 0),Tr(Ar(o),"stepDrag",void 0),Tr(Ar(o),"oldEdge",void 0),Tr(Ar(o),"preTargetNode",void 0),Tr(Ar(o),"targetRuleResults",void 0),Tr(Ar(o),"sourceRuleResults",void 0),Tr(Ar(o),"handleMouseDown",function(O){o.stepDrag&&o.stepDrag.handleMouseDown(O)}),Tr(Ar(o),"onDragStart",function(){var O=o.props,T=O.x,N=O.y,L=O.edgeModel,G=L.startPoint,K=L.endPoint,ie=L.pointsList;o.oldEdge={startPoint:G,endPoint:K,pointsList:ie},o.setState({endX:T,endY:N,dragging:!0})}),Tr(Ar(o),"onDragging",function(O){var T=O.deltaX,N=O.deltaY,L=o.state,G=L.endX,K=L.endY,ie=o.props,oe=ie.graphModel,ue=ie.type,Me=oe.transformModel,Ce=oe.editConfigModel,ye=Me.moveCanvasPointByHtml([G,K],T,N),Be=QN(ye,2),Ne=Be[0],ke=Be[1];o.setState({endX:Ne,endY:ke,dragging:!0});var De=o.props.edgeModel,ot=Ca({x:G,y:K},oe);if(ot&&ot.node&&o.isAllowAdjust(ot)){var ht,Ht=De.startPoint,Wt=De.endPoint,ir=De.sourceNode,yr=De.targetNode;ue===rn.SOURCE?ht={startPoint:{x:ot.anchor.x,y:ot.anchor.y},endPoint:{x:Wt.x,y:Wt.y},sourceNode:ot.node,targetNode:yr}:ue===rn.TARGET&&(ht={startPoint:{x:Ht.x,y:Ht.y},endPoint:{x:ot.anchor.x,y:ot.anchor.y},sourceNode:ir,targetNode:ot.node}),De.updateAfterAdjustStartAndEnd(ht)}else ue===rn.SOURCE?De.updateStartPoint({x:Ne,y:ke}):ue===rn.TARGET&&De.updateEndPoint({x:Ne,y:ke});De.text.value&&Ce.adjustEdge&&De.setText(Object.assign({},De.text,De.textPosition))}),Tr(Ar(o),"onDragEnd",function(O){var T=O.event;try{var N;o.setState({dragging:!1});var L=o.props,G=L.graphModel,K=L.edgeModel,ie=L.type,oe=o.state,ue=oe.endX,Me=oe.endY,Ce=oe.dragging,ye=Ca({x:ue,y:Me},G);if(!Ce)return;var Be=!1,Ne;if(ye&&ye.node&&o.isAllowAdjust(ye)){var ke,De=K.getData();if(Ne=yn(yn({},De),{},{sourceAnchorId:"",targetAnchorId:"",text:(De==null||(ke=De.text)===null||ke===void 0?void 0:ke.value)||""}),ie===rn.SOURCE){var ot=G.edgeGenerator(G.getNodeModelById(ye.node.id).getData(),G.getNodeModelById(K.targetNodeId).getData(),Ne);Ne=yn(yn({},ot),{},{sourceNodeId:ye.node.id,sourceAnchorId:ye.anchor.id,startPoint:{x:ye.anchor.x,y:ye.anchor.y},targetNodeId:K.targetNodeId,endPoint:yn({},K.endPoint)}),K.sourceNodeId===ye.node.id&&K.sourceAnchorId===ye.anchor.id&&(Be=!0)}else if(ie===rn.TARGET){var ht=G.edgeGenerator(G.getNodeModelById(K.sourceNodeId).getData(),G.getNodeModelById(ye.node.id).getData(),Ne);Ne=yn(yn({},ht),{},{sourceNodeId:K.sourceNodeId,startPoint:yn({},K.startPoint),targetNodeId:ye.node.id,targetAnchorId:ye.anchor.id,endPoint:{x:ye.anchor.x,y:ye.anchor.y}}),K.targetNodeId===ye.node.id&&K.targetAnchorId===ye.anchor.id&&(Be=!0)}}else Be=!0;if(Be)o.recoveryEdge();else{G.deleteEdgeById(K.id);var Ht=G.addEdge(yn({},Ne));G.eventCenter.emit(nt.EDGE_EXCHANGE_NODE,{data:{newEdge:Ht.getData(),oldEdge:K.getData()}})}(N=o.preTargetNode)===null||N===void 0||N.setElementState(bt.DEFAULT)}finally{var Wt=o.props.graphModel;Wt.eventCenter.emit(nt.ADJUST_POINT_DRAGEND,{e:T,data:o.stepDragData})}}),Tr(Ar(o),"recoveryEdge",function(){var O=o.props.edgeModel,T=o.oldEdge,N=T.startPoint,L=T.endPoint,G=T.pointsList;O.updateStartPoint(N),O.updateEndPoint(L),O.modelType!==pt.LINE_EDGE&&(O.pointsList=G,O.initPoints())}),Tr(Ar(o),"getAdjustPointStyle",function(){var O=o.props,T=O.graphModel.theme;O.edgeModel;var N=T.edgeAdjust;return N}),o.state={dragging:!1,endX:0,endY:0},o.targetRuleResults=new Map,o.sourceRuleResults=new Map;var a=n.type,f=n.edgeModel,p=n.graphModel,m=p.eventCenter;return o.stepDragData={type:a,edgeData:f.getData()},o.stepDrag=new fn({onDragStart:o.onDragStart,onDragging:o.onDragging,onDragEnd:o.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:m,data:o.stepDragData}),o}return oD(t,[{key:"isAllowAdjust",value:function(o){var a=this.props,f=a.edgeModel,p=f.id,m=f.sourceNode,O=f.targetNode,T=f.sourceAnchorId,N=f.targetAnchorId,L=a.type,G=null,K=null,ie=null,oe=null;if(L===rn.SOURCE?(G=o.node,K=O,ie=o.anchor,oe=O.getAnchorInfo(N)):(G=m,K=o.node,oe=o.anchor,ie=m.getAnchorInfo(T)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(bt.DEFAULT),this.preTargetNode=o.node,oe.id===ie.id)return!1;var ue="".concat(G.id,"_").concat(K.id,"_").concat(ie.id,"_").concat(oe.id);if(!this.targetRuleResults.has(ue)){var Me=G.isAllowConnectedAsSource(K,ie,oe,p),Ce=K.isAllowConnectedAsTarget(G,ie,oe,p);this.sourceRuleResults.set(ue,Ia(Me)),this.targetRuleResults.set(ue,Ia(Ce))}var ye=this.sourceRuleResults.get(ue),Be=ye.isAllPass,Ne=this.targetRuleResults.get(ue),ke=Ne.isAllPass,De=Be&&ke?bt.ALLOW_CONNECT:bt.NOT_ALLOW_CONNECT;return L===rn.SOURCE?G.setElementState(De):K.setElementState(De),Be&&ke}},{key:"render",value:function(){var o=this.props,a=o.x,f=o.y,p=o.getAdjustPointShape,m=this.state.dragging;return Object(ae.g)("g",{pointerEvents:m?"none":"",onMouseDown:this.handleMouseDown},p(a,f,m))}}]),t}(ae.a);function bs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bs=function(t){return typeof t}:bs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function xi(){return xi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},xi.apply(this,arguments)}function lD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _g(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fD(e,r,t){return r&&_g(e.prototype,r),t&&_g(e,t),e}function cD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bc(e,r)}function Bc(e,r){return Bc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bc(e,r)}function dD(e){var r=hD();return function(){var n=Os(e),o;if(r){var a=Os(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pD(this,o)}}function pD(e,r){if(r&&(bs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lr(e)}function Lr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Os(e){return Os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Os(e)}function kr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Pi=function(e){cD(t,e);var r=dD(t);function t(){var n;lD(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),kr(Lr(n),"startTime",void 0),kr(Lr(n),"contextMenuTime",void 0),kr(Lr(n),"clickTimer",void 0),kr(Lr(n),"textRef",Object(ae.f)()),kr(Lr(n),"getAdjustPointShape",function(p,m){var O=n.props.model,T=O.getAdjustPointStyle();return Object(ae.g)(gi,xi({className:"lf-edge-adjust-point"},T,{x:p,y:m}))}),kr(Lr(n),"handleHover",function(p,m){var O=n.props,T=O.model,N=O.graphModel.eventCenter;T.setHovered(p);var L=p?nt.EDGE_MOUSEENTER:nt.EDGE_MOUSELEAVE,G=T.getData();N.emit(L,{data:G,e:m})}),kr(Lr(n),"setHoverON",function(p){var m=n.props.model.isHovered;m||(n.textRef&&n.textRef.current.setHoverON(),n.handleHover(!0,p))}),kr(Lr(n),"setHoverOFF",function(p){var m=n.props.model.isHovered;m&&(n.textRef&&n.textRef.current.setHoverOFF(),n.handleHover(!1,p))}),kr(Lr(n),"handleContextMenu",function(p){p.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var m=n.props,O=m.model,T=m.graphModel,N=T.getPointByClient({x:p.clientX,y:p.clientY});T.setElementStateById(O.id,bt.SHOW_MENU,N.domOverlayPosition),n.toFront(),O.isSelected||T.selectEdgeById(O.id);var L=O==null?void 0:O.getData();T.eventCenter.emit(nt.EDGE_CONTEXTMENU,{data:L,e:p,position:N})}),kr(Lr(n),"handleMouseDown",function(p){p.stopPropagation(),n.startTime=new Date().getTime()}),kr(Lr(n),"handleMouseUp",function(p){if(n.startTime){var m=new Date().getTime()-n.startTime;if(!(m>200)){var O=p.button===2;if(!O){var T=p.detail===2,N=n.props,L=N.model,G=N.graphModel,K=L==null?void 0:L.getData(),ie=G.getPointByClient({x:p.clientX,y:p.clientY});if(T){var oe=G.editConfigModel,ue=G.textEditElement;if(ue&&ue.id===L.id&&G.setElementStateById(L.id,bt.DEFAULT),oe.edgeTextEdit&&L.text.editable&&G.setElementStateById(L.id,bt.TEXT_EDIT),L.modelType===pt.POLYLINE_EDGE){var Me=L,Ce=G.getPointByClient({x:p.x,y:p.y}),ye=Ce.canvasOverlayPosition,Be=ye.x,Ne=ye.y,ke=Gh({x:Be,y:Ne},Me.points);Me.dbClickPosition=ke}G.eventCenter.emit(nt.EDGE_DBCLICK,{data:K,e:p,position:ie})}else G.eventCenter.emit(nt.ELEMENT_CLICK,{data:K,e:p,position:ie}),G.eventCenter.emit(nt.EDGE_CLICK,{data:K,e:p,position:ie});var De=G.editConfigModel;G.selectEdgeById(L.id,Gp(p,De)),n.toFront()}}}}),n}return fD(t,[{key:"getShape",value:function(){return Object(ae.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,f=o.graphModel;if(a.state===bt.TEXT_EDIT)return null;var p=!1,m=f.editConfigModel;return(a.text.draggable||m.edgeTextDraggable)&&(p=!0),Object(ae.g)(JN,{ref:this.textRef,editable:m.edgeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:p})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,f=o.endPoint,p=o.isSelected,m=this.state,O=m.hover;return{start:a,end:f,hover:O,isSelected:p}}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var o=this.props.model,a=o.id,f=o.getArrowStyle(),p=f.refY,m=p===void 0?0:p,O=f.refX,T=O===void 0?2:O;return Object(ae.g)("g",null,Object(ae.g)("defs",null,Object(ae.g)("marker",{id:"marker-start-".concat(a),refX:-T,refY:m,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(ae.g)("marker",{id:"marker-end-".concat(a),refX:T,refY:m,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.props.model,a=o.getArrowStyle(),f=a.stroke,p=a.strokeWidth,m=a.offset,O=a.verticalLength;return Object(ae.g)("path",{stroke:f,fill:f,strokeWidth:p,d:"M 0 0 L ".concat(m," -").concat(O," L ").concat(m," ").concat(O," Z")})}},{key:"getEndArrow",value:function(){var o=this.props.model,a=o.getArrowStyle(),f=a.stroke,p=a.strokeWidth,m=a.offset,O=a.verticalLength;return Object(ae.g)("path",{stroke:f,fill:f,strokeWidth:p,transform:"rotate(180)",d:"M 0 0 L ".concat(m," -").concat(O," L ").concat(m," ").concat(O," Z")})}},{key:"getAdjustPoints",value:function(){var o=this.props,a=o.model,f=o.graphModel,p=a.getAdjustStart(),m=a.getAdjustEnd();return Object(ae.g)("g",null,Object(ae.g)(Lg,xi({type:"SOURCE"},p,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:a,graphModel:f})),Object(ae.g)(Lg,xi({type:"TARGET"},m,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:a,graphModel:f})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ae.g)("g",null)}},{key:"getAppend",value:function(){return Object(ae.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,f=o.model,p=a.overlapMode;p!==xr.INCREASE&&a.toFront(f.id)}},{key:"render",value:function(){var o=this.props,a=o.model,f=a.isSelected,p=a.isHitable,m=a.isShowAdjustPoint,O=o.graphModel;return O.animation,Object(ae.g)("g",null,Object(ae.g)("g",{className:["lf-edge",!p&&"pointer-none",f&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),m&&f?this.getAdjustPoints():"")}}]),t}(ae.a);function Es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Es=function(t){return typeof t}:Es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function vD(e,r){return bD(e)||mD(e,r)||gD(e,r)||yD()}function yD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gD(e,r){if(e){if(typeof e=="string")return zg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zg(e,r)}}function zg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function mD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function bD(e){if(Array.isArray(e))return e}function OD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=vD(t,2),o=n[0],a=n[1],f=Es(a);(o==="style"||f!=="object")&&(r[o]=a)}),Object(ae.g)("path",r)}var Ai=OD;function Ss(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ss=function(t){return typeof t}:Ss=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function Lc(){return Lc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Lc.apply(this,arguments)}function ED(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SD(e,r,t){return r&&Fg(e.prototype,r),t&&Fg(e,t),e}function xD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_c(e,r)}function _c(e,r){return _c=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},_c(e,r)}function PD(e){var r=MD();return function(){var n=xs(e),o;if(r){var a=xs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return AD(this,o)}}function AD(e,r){if(r&&(Ss(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TD(e)}function TD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function xs(e){return xs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xs(e)}var zc=function(e){xD(t,e);var r=PD(t);function t(){return ED(this,t),r.apply(this,arguments)}return SD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.startPoint,f=o.endPoint,p=o.isAnimation,m=o.arrowConfig,O=o.getEdgeStyle(),T=o.getEdgeAnimationStyle(),N=T.strokeDasharray,L=T.stroke,G=T.strokeDashoffset,K=T.animationName,ie=T.animationDuration,oe=T.animationIterationCount,ue=T.animationTimingFunction,Me=T.animationDirection;return Object(ae.g)(Do,Lc({},O,{x1:a.x,y1:a.y,x2:f.x,y2:f.y},m,p?{strokeDasharray:N,stroke:L,style:{strokeDashoffset:G,animationName:K,animationDuration:ie,animationIterationCount:oe,animationTimingFunction:ue,animationDirection:Me}}:{}))}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=o.startPoint,f=o.endPoint,p={start:a,end:f},m=mA(p),O=m.d,T=m.strokeWidth,N=m.fill,L=m.strokeDasharray,G=m.stroke;return Object(ae.g)(Ai,{d:O,fill:N,strokeWidth:T,stroke:G,strokeDasharray:L})}}]),t}(Pi);function Ps(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ps=function(t){return typeof t}:Ps=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function wD(e,r){return CD(e)||jD(e,r)||DD(e,r)||ND()}function ND(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DD(e,r){if(e){if(typeof e=="string")return Gg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gg(e,r)}}function Gg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function jD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function CD(e){if(Array.isArray(e))return e}function RD(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=wD(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var f=Ps(a);f!=="object"&&(r[o]=a)}}),Object(ae.g)("polyline",r)}var ID=RD;function As(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?As=function(t){return typeof t}:As=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function Hg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ts(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Hg(Object(t),!0).forEach(function(n){mn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Fc(){return Fc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Fc.apply(this,arguments)}function BD(e,r){return FD(e)||zD(e,r)||_D(e,r)||LD()}function LD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _D(e,r){if(e){if(typeof e=="string")return Ug(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ug(e,r)}}function Ug(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function zD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function FD(e){if(Array.isArray(e))return e}function GD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function kg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HD(e,r,t){return r&&kg(e.prototype,r),t&&kg(e,t),e}function UD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gc(e,r)}function Gc(e,r){return Gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gc(e,r)}function kD(e){var r=$D();return function(){var n=Ms(e),o;if(r){var a=Ms(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return XD(this,o)}}function XD(e,r){if(r&&(As(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gn(e)}function gn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $D(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ms(e){return Ms=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ms(e)}function mn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Hc=function(e){UD(t,e);var r=kD(t);function t(){var n;return GD(this,t),n=r.call(this),mn(gn(n),"drag",void 0),mn(gn(n),"isDragging",void 0),mn(gn(n),"isShowAdjustPointTemp",void 0),mn(gn(n),"appendInfo",void 0),mn(gn(n),"onDragStart",function(){var o=n.props.model;o.dragAppendStart(),n.isShowAdjustPointTemp=o.isShowAdjustPoint,o.isShowAdjustPoint=!1}),mn(gn(n),"onDragging",function(o){var a=o.deltaX,f=o.deltaY,p=n.props,m=p.model,O=p.graphModel;n.isDragging=!0;var T=O.transformModel,N=O.editConfigModel,L=T.fixDeltaXY(a,f),G=BD(L,2),K=G[0],ie=G[1],oe=m,ue=N.adjustEdgeMiddle;ue?n.appendInfo=oe.dragAppendSimple(n.appendInfo,{x:K,y:ie}):n.appendInfo=oe.dragAppend(n.appendInfo,{x:K,y:ie})}),mn(gn(n),"onDragEnd",function(){var o=n.props,a=o.model,f=o.graphModel.eventCenter,p=a;p.dragAppendEnd(),n.isDragging=!1,p.isShowAdjustPoint=n.isShowAdjustPointTemp,n.appendInfo=void 0,f.emit(nt.EDGE_ADJUST,{data:p.getData()})}),mn(gn(n),"beforeDragStart",function(o,a){a.dragAble&&n.drag.handleMouseDown(o),n.appendInfo=a}),n.drag=new fn({onDragStart:n.onDragStart,onDragging:n.onDragging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return HD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.points,f=o.isAnimation,p=o.arrowConfig,m=o.getEdgeStyle(),O=o.getEdgeAnimationStyle(),T=O.strokeDasharray,N=O.stroke,L=O.strokeDashoffset,G=O.animationName,K=O.animationDuration,ie=O.animationIterationCount,oe=O.animationTimingFunction,ue=O.animationDirection;return Object(ae.g)(ID,Fc({points:a},m,p,f?{strokeDasharray:T,stroke:N,style:{strokeDashoffset:L,animationName:G,animationDuration:K,animationIterationCount:ie,animationTimingFunction:oe,animationDirection:ue}}:{}))}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,f=o.isSelected,p=this.state,m=p.hover,O={start:null,end:null,hover:m,isSelected:f},T=Mo(a);return T.length>=2&&(O.start=T[T.length-2],O.end=T[T.length-1]),O}},{key:"getAppendAttributes",value:function(o){var a=o.start,f=o.end,p;if(a.x===f.x&&a.y===f.y)p="";else{var m={start:a,end:f,offset:10,verticalLength:5},O=di(Ts(Ts({},m),{},{type:"start"})),T=di(Ts(Ts({},m),{},{type:"end"}));p="M".concat(O.leftX," ").concat(O.leftY,` 
      L`).concat(O.rightX," ").concat(O.rightY,` 
      L`).concat(T.rightX," ").concat(T.rightY,`
      L`).concat(T.leftX," ").concat(T.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttributes(o),f=a.d,p=a.strokeWidth,m=a.fill,O=a.strokeDasharray,T=a.stroke;return Object(ae.g)(Ai,{d:f,fill:m,strokeWidth:p,stroke:T,strokeDasharray:O})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,f=a.model,p=a.graphModel,m=f.pointsList,O=f.draggable,T=[],N=m.length,L=function(ie){var oe="lf-polyline-append",ue={start:{x:m[ie].x,y:m[ie].y},end:{x:m[ie+1].x,y:m[ie+1].y},startIndex:ie,endIndex:ie+1,direction:"",dragAble:!0},Me=Object(ae.g)("g",{className:oe},o.getAppendShape(ue)),Ce=p.editConfigModel,ye=Ce.adjustEdge,Be=Ce.adjustEdgeMiddle;if(ye&&O){var Ne=ue.startIndex,ke=ue.endIndex,De=Be&&(Ne===0||ke===N-1);ue.dragAble=!De,ue.start.x===ue.end.x?(ue.dragAble&&(oe+="-ew-resize"),ue.direction=Dt.VERTICAL):ue.start.y===ue.end.y&&(ue.dragAble&&(oe+="-ns-resize"),ue.direction=Dt.HORIZONTAL),Me=Object(ae.g)("g",{className:o.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(ht){return o.beforeDragStart(ht,ue)}},Object(ae.g)("g",{className:oe},o.getAppendShape(ue)))}T.push(Me)},G=0;G<N-1;G++)L(G);return Object(ae.g)("g",null,T)}}]),t}(Pi);function ws(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ws=function(t){return typeof t}:ws=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function YD(e,r){return ZD(e)||VD(e,r)||KD(e,r)||WD()}function WD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KD(e,r){if(e){if(typeof e=="string")return Xg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xg(e,r)}}function Xg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function VD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ZD(e){if(Array.isArray(e))return e}function Uc(){return Uc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Uc.apply(this,arguments)}function JD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $g(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function QD(e,r,t){return r&&$g(e.prototype,r),t&&$g(e,t),e}function qD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&kc(e,r)}function kc(e,r){return kc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},kc(e,r)}function ej(e){var r=nj();return function(){var n=Ns(e),o;if(r){var a=Ns(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return tj(this,o)}}function tj(e,r){if(r&&(ws(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rj(e)}function rj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ns(e){return Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ns(e)}var Xc=function(e){qD(t,e);var r=ej(t);function t(){return JD(this,t),r.apply(this,arguments)}return QD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.getEdgeStyle(),f=o.path,p=o.isAnimation,m=o.arrowConfig,O=o.getEdgeAnimationStyle(),T=O.strokeDasharray,N=O.stroke,L=O.strokeDashoffset,G=O.animationName,K=O.animationDuration,ie=O.animationIterationCount,oe=O.animationTimingFunction,ue=O.animationDirection;return Object(ae.g)(Ai,Uc({d:f},a,m,p?{strokeDasharray:T,stroke:N,style:{strokeDashoffset:L,animationName:G,animationDuration:K,animationIterationCount:ie,animationTimingFunction:oe,animationDirection:ue}}:{}))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(ae.g)(Ai,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state,f=a.hover,p=o,m=p.path,O=p.isSelected,T=bA(m),N=YD(T,2),L=N[0],G=N[1],K={start:L,end:G,hover:f,isSelected:O};return K}}]),t}(Pi);function Ds(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ds=function(t){return typeof t}:Ds=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function Yg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function oj(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Yg(Object(t),!0).forEach(function(n){ij(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ij(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function aj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Wg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uj(e,r,t){return r&&Wg(e.prototype,r),t&&Wg(e,t),e}function sj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$c(e,r)}function $c(e,r){return $c=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},$c(e,r)}function lj(e){var r=dj();return function(){var n=js(e),o;if(r){var a=js(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return fj(this,o)}}function fj(e,r){if(r&&(Ds(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cj(e)}function cj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function js(e){return js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},js(e)}var pj=function(e){sj(t,e);var r=lj(t);function t(){return aj(this,t),r.apply(this,arguments)}return uj(t,[{key:"getArrowAttributes",value:function(){var o=this.props,a=o.arrowInfo,f=o.style,p=a.start,m=a.end,O={start:p,end:m,offset:f.offset,verticalLength:f.verticalLength,type:"end"},T=di(O),N=T.leftX,L=T.leftY,G=T.rightX,K=T.rightY;return oj({d:"M".concat(N," ").concat(L," L").concat(m.x," ").concat(m.y," L").concat(G," ").concat(K," z")},f)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),a=o.d,f=o.strokeWidth,p=o.stroke,m=o.fill;return Object(ae.g)(Ai,{d:a,fill:m,strokeWidth:f,stroke:p})}},{key:"render",value:function(){return Object(ae.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(ae.a);function hj(e,r){return Wl(e,r)}var Kg=hj;function vj(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var yj=vj,gj=function(){return wr.a.Date.now()},Yc=gj,mj=/\s/;function bj(e){for(var r=e.length;r--&&mj.test(e.charAt(r)););return r}var Oj=bj,Ej=/^\s+/;function Sj(e){return e&&e.slice(0,Oj(e)+1).replace(Ej,"")}var xj=Sj,Vg=0/0,Pj=/^[-+]0x[0-9a-f]+$/i,Aj=/^0b[01]+$/i,Tj=/^0o[0-7]+$/i,Mj=parseInt;function wj(e){if(typeof e=="number")return e;if(xa(e))return Vg;if(At(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=At(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=xj(e);var t=Aj.test(e);return t||Tj.test(e)?Mj(e.slice(2),t?2:8):Pj.test(e)?Vg:+e}var Zg=wj,Nj="Expected a function",Dj=Math.max,jj=Math.min;function Cj(e,r,t){var n,o,a,f,p,m,O=0,T=!1,N=!1,L=!0;if(typeof e!="function")throw new TypeError(Nj);r=Zg(r)||0,At(t)&&(T=!!t.leading,N="maxWait"in t,a=N?Dj(Zg(t.maxWait)||0,r):a,L="trailing"in t?!!t.trailing:L);function G(Ne){var ke=n,De=o;return n=o=void 0,O=Ne,f=e.apply(De,ke),f}function K(Ne){return O=Ne,p=setTimeout(ue,r),T?G(Ne):f}function ie(Ne){var ke=Ne-m,De=Ne-O,ot=r-ke;return N?jj(ot,a-De):ot}function oe(Ne){var ke=Ne-m,De=Ne-O;return m===void 0||ke>=r||ke<0||N&&De>=a}function ue(){var Ne=Yc();if(oe(Ne))return Me(Ne);p=setTimeout(ue,ie(Ne))}function Me(Ne){return p=void 0,L&&n?G(Ne):(n=o=void 0,f)}function Ce(){p!==void 0&&clearTimeout(p),O=0,n=m=o=p=void 0}function ye(){return p===void 0?f:Me(Yc())}function Be(){var Ne=Yc(),ke=oe(Ne);if(n=arguments,o=this,m=Ne,ke){if(p===void 0)return K(m);if(N)return clearTimeout(p),p=setTimeout(ue,r),G(m)}return p===void 0&&(p=setTimeout(ue,r)),f}return Be.cancel=Ce,Be.flush=ye,Be}var Rj=Cj,Ij=i(166);function Bj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Jg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lj(e,r,t){return r&&Jg(e.prototype,r),t&&Jg(e,t),e}function Hn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var _j=function(){function e(r){Bj(this,e),Hn(this,"undos",[]),Hn(this,"redos",[]),Hn(this,"callbacks",[]),Hn(this,"stopWatch",null),Hn(this,"curData",null),Hn(this,"maxSize",50),Hn(this,"waitTime",100),Hn(this,"eventCenter",void 0),this.eventCenter=r}return Lj(e,[{key:"add",value:function(t){Kg(yj(this.undos),t)||(this.undos.push(t),Kg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(nt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=It(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=It(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(Ij.a)(t,Rj(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),zj=_j;function Cs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cs=function(t){return typeof t}:Cs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}var Qg,qg,em;function Fj(e,r){return kj(e)||Uj(e,r)||Hj(e,r)||Gj()}function Gj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hj(e,r){if(e){if(typeof e=="string")return tm(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tm(e,r)}}function tm(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Uj(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function kj(e){if(Array.isArray(e))return e}function rm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Uo(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?rm(Object(t),!0).forEach(function(n){ao(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Xj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function nm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $j(e,r,t){return r&&nm(e.prototype,r),t&&nm(e,t),e}function Yj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Wc(e,r)}function Wc(e,r){return Wc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Wc(e,r)}function Wj(e){var r=Vj();return function(){var n=Rs(e),o;if(r){var a=Rs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Kj(this,o)}}function Kj(e,r){if(r&&(Cs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ko(e)}function ko(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Rs(e){return Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rs(e)}function ao(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Kc=Xr(Qg=(em=qg=function(e){Yj(t,e);var r=Wj(t);function t(){var n;return Xj(this,t),n=r.call(this),ao(ko(n),"ref",Object(ae.f)()),ao(ko(n),"__prevText",{type:"",text:"",id:""}),ao(ko(n),"keyupHandler",function(o){var a=n.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&a.setElementState(0)}),ao(ko(n),"inputHandler",function(o){var a=o.target,f=a.innerText,p=n.props.graphModel.textEditElement;n.__prevText={type:p.type,text:f.replace(/(\r\n)+$|(\n)+$/,""),id:p.id}}),ao(ko(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return $j(t,[{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,f=a.text,p=a.id;o.updateText(p,f),o.eventCenter.emit(nt.TEXT_UPDATE,Uo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(o),a.collapse(!1);var f=window.getSelection();f.removeAllRanges(),f.addRange(a)}}},{key:"render",value:function(){var o,a=this.props.graphModel.textEditElement,f=this.state.style;return a?Object(ae.g)("div",{contentEditable:!0,className:"lf-text-input",style:f,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(o=a.text)===null||o===void 0?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var a=o.graphModel,f=a.transformModel,p=a.theme,m=a.textEditElement,O;if(m){var T;if(!((T=m.text)!==null&&T!==void 0&&T.value))if(m.BaseType===zt.EDGE){m=m;var N=m.text,L=m.textPosition,G=L.x,K=L.y;N.x=G,N.y=K,m.setText(N)}else m=m;var ie={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(m.BaseType===zt.EDGE){var oe=p.edgeText,ue=oe.overflowMode,Me=oe.lineHeight,Ce=oe.wrapPadding,ye=oe.textWidth;ye&&ue==="autoWrap"&&(O=Uo(Uo({},ie),{},{width:ye,minWidth:ye,lineHeight:Me,padding:Ce}))}else if(m.BaseType===zt.NODE){var Be=p.nodeText,Ne=Be.overflowMode,ke=Be.lineHeight,De=Be.wrapPadding,ot=Be.textWidth,ht=m,Ht=ht.width,Wt=ht.modelType;(Wt!==pt.TEXT_NODE&&Ne==="autoWrap"||Wt===pt.TEXT_NODE&&ot)&&(O=Uo(Uo({},ie),{},{width:ot||Ht,minWidth:ot||Ht,lineHeight:ke,padding:De}))}var ir=m.text,yr=ir.x,uo=ir.y,Xo=f.CanvasPointToHtmlPoint([yr,uo]),Un=Fj(Xo,2),$o=Un[0],ed=Un[1];return{style:Uo({left:$o,top:ed},O)}}}}]),t}(ae.a),ao(qg,"toolName","textEdit"),em))||Qg,Zj=function(r){var t=r.x,n=r.y,o=r.width,a=r.height;return{x:t-o/2,y:n-a/2,x1:t+o/2,y1:n+a/2}},Jj=function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,a=(t.y+n.y)/2,f=Math.abs(t.x-n.x)+10,p=Math.abs(t.y-n.y)+10;return{x:o-f/2,y:a-p/2,x1:o+f/2,y1:a+p/2}},Qj=function(r){var t=r.points,n=Mo(t),o=pi(n,8),a=o.x,f=o.y,p=o.width,m=o.height;return{x:a-p/2,y:f-m/2,x1:a+p/2,y1:f+m/2}},qj=function(r){var t=r.path,n=$a(t),o=pi(n,8),a=o.x,f=o.y,p=o.width,m=o.height;return{x:a-p/2,y:f-m/2,x1:a+p/2,y1:f+m/2}},eC=function(r){if(r.modelType===pt.LINE_EDGE)return Jj(r);if(r.modelType===pt.POLYLINE_EDGE)return Qj(r);if(r.modelType===pt.BEZIER_EDGE)return qj(r)};function Is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Is=function(t){return typeof t}:Is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}var om,im,am;function um(e,r){return nC(e)||rC(e,r)||sm(e,r)||tC()}function tC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rC(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function nC(e){if(Array.isArray(e))return e}function oC(e){return uC(e)||aC(e)||sm(e)||iC()}function iC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sm(e,r){if(e){if(typeof e=="string")return Vc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vc(e,r)}}function aC(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uC(e){if(Array.isArray(e))return Vc(e)}function Vc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function sC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lC(e,r,t){return r&&lm(e.prototype,r),t&&lm(e,t),e}function fC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Zc(e,r)}function Zc(e,r){return Zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Zc(e,r)}function cC(e){var r=pC();return function(){var n=Bs(e),o;if(r){var a=Bs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return dC(this,o)}}function dC(e,r){if(r&&(Is(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ti(e)}function Ti(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Bs(e){return Bs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bs(e)}function Mi(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Jc=Xr(om=(am=im=function(e){fC(t,e);var r=cC(t);function t(n){var o;sC(this,t),o=r.call(this),Mi(Ti(o),"stepDrag",void 0),Mi(Ti(o),"handleMouseDown",function(m){o.stepDrag.handleMouseDown(m)}),Mi(Ti(o),"onDragging",function(m){var O=m.deltaX,T=m.deltaY,N=o.props.graphModel,L=N.getSelectElements(!0);N.moveNodes(L.nodes.map(function(G){return G.id}),O,T)}),Mi(Ti(o),"handleContextMenu",function(m){m.preventDefault();var O=o.props,T=O.graphModel,N=O.graphModel,L=N.eventCenter,G=N.selectElements,K=T.getPointByClient({x:m.clientX,y:m.clientY}),ie={nodes:[],edges:[]},oe=oC(G.values());oe.forEach(function(ue){ue.BaseType===zt.NODE&&ie.nodes.push(ue.getData()),ue.BaseType===zt.EDGE&&ie.edges.push(ue.getData())}),L.emit(nt.SELECTION_CONTEXTMENU,{data:ie,e:m,position:K})});var a=n.graphModel,f=a.gridSize,p=a.eventCenter;return o.stepDrag=new fn({onDragging:o.onDragging,step:f,eventType:"SELECTION",eventCenter:p}),o}return lC(t,[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,f=o.transformModel;if(!(a.size<=1)){var p=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,O=Number.MIN_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER;a.forEach(function(oe){var ue={x:0,y:0,x1:0,y1:0};oe.BaseType===zt.NODE&&(ue=Zj(oe)),oe.BaseType===zt.EDGE&&(ue=eC(oe)),p=Math.min(p,ue.x),m=Math.min(m,ue.y),O=Math.max(O,ue.x1),T=Math.max(T,ue.y1)});var N=f.CanvasPointToHtmlPoint([p,m]),L=um(N,2);p=L[0],m=L[1];var G=f.CanvasPointToHtmlPoint([O,T]),K=um(G,2);O=K[0],T=K[1];var ie={left:"".concat(p-10,"px"),top:"".concat(m-10,"px"),width:"".concat(O-p+20,"px"),height:"".concat(T-m+20,"px")};return Object(ae.g)("div",{className:"lf-multiple-select",style:ie,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(ae.a),Mi(im,"toolName","multipleSelect"),am))||om;function hC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vC(e,r,t){return r&&fm(e.prototype,r),t&&fm(e,t),e}function Ls(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yC=function(){function e(r){hC(this,e),Ls(this,"tools",void 0),Ls(this,"components",void 0),Ls(this,"toolMap",new Map),Ls(this,"instance",void 0),this.instance=r,this.isDisabledTool(Kc.toolName)||this.registerTool(Kc.toolName,Kc),this.isDisabledTool(Jc.toolName)||this.registerTool(Jc.toolName,Jc);var t=r.graphModel,n=t.eventCenter;n.on("".concat(nt.GRAPH_TRANSFORM,",").concat(nt.NODE_CLICK,",").concat(nt.BLANK_CLICK," "),function(){var o=t.textEditElement,a=t.editConfigModel,f=a.edgeTextEdit,p=a.nodeTextEdit;(f||p)&&o&&t.textEditElement.setElementState(bt.DEFAULT)})}return vC(e,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),gC=i(167),mC=i.n(gC);function bC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OC(e,r,t){return r&&cm(e.prototype,r),t&&cm(e,t),e}function Qc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var dm=function(){function e(r){bC(this,e),Qc(this,"mousetrap",void 0),Qc(this,"options",void 0),Qc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var t=r.lf;this.target=t.container,this.mousetrap=new mC.a,r.keyboard.enabled&&this.enable(!0)}return OC(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;if(n)if(d(n))n.forEach(function(p){var m=p.keys,O=p.callback,T=p.action;return t.on(m,O,T)});else{var o=n.keys,a=n.callback,f=n.action;this.on(o,a,f)}}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatKey(o)})}},{key:"formatKey",value:function(t){var n=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),EC=dm,nn=null;function pm(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function hm(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}var _s=40;function SC(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(n.enabled&&!r.textEditElement){var o=e.options.guards,a=r.getSelectElements(!1),f=o&&o.beforeClone?o.beforeClone(a):!0;return f?(nn=a,nn.nodes.forEach(function(p){return pm(p,_s)}),nn.edges.forEach(function(p){return hm(p,_s)}),!1):(nn=null,!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(n.enabled&&!r.textEditElement){if(nn&&(nn.nodes||nn.edges)){e.clearSelectElements();var o=e.addElements(nn);if(!o)return;o.nodes.forEach(function(a){return e.selectElementById(a.id,!0)}),o.edges.forEach(function(a){return e.selectElementById(a.id,!0)}),nn.nodes.forEach(function(a){return pm(a,_s)}),nn.edges.forEach(function(a){return hm(a,_s)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(n.enabled&&!r.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(n.enabled&&!r.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(n.enabled&&!r.textEditElement){var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(a){return e.deleteEdge(a.id)}),o.nodes.forEach(function(a){return e.deleteNode(a.id)}),!1}})}function xC(e,r){e.on("node:mousemove",function(t){var n=t.data;r.setNodeSnapLine(n)}),e.on("node:mouseup",function(){r.clearSnapline()})}function zs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zs=function(t){return typeof t}:zs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function vm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function wi(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vm(Object(t),!0).forEach(function(n){_t(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function PC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ym(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AC(e,r,t){return r&&ym(e.prototype,r),t&&ym(e,t),e}function _t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var qc=function(){function e(r){var t=this;PC(this,e),_t(this,"container",void 0),_t(this,"width",void 0),_t(this,"height",void 0),_t(this,"graphModel",void 0),_t(this,"history",void 0),_t(this,"viewMap",new Map),_t(this,"tool",void 0),_t(this,"keyboard",void 0),_t(this,"dnd",void 0),_t(this,"options",void 0),_t(this,"snaplineModel",void 0),_t(this,"components",[]),_t(this,"plugins",void 0),_t(this,"extension",{}),_t(this,"adapterIn",void 0),_t(this,"adapterOut",void 0),_t(this,"getView",function(n){return t.viewMap.get(n)}),r=Gv(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new LA(wi({},r)),this.tool=new yC(this),this.history=new zj(this.graphModel.eventCenter),this.dnd=new EM({lf:this}),this.keyboard=new EC({lf:this,keyboard:r.keyboard}),r.snapline!==!1&&(this.snaplineModel=new ag(this.graphModel),xC(this.graphModel.eventCenter,this.snaplineModel)),SC(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return AC(e,[{key:"register",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var a={BaseEdge:Pi,BaseEdgeModel:hf,BaseNode:vn,BaseNodeModel:pn,RectNode:dc,RectNodeModel:ec,CircleNode:vc,CircleNodeModel:kf,PolygonNode:mc,PolygonNodeModel:Jf,TextNode:Tc,TextNodeModel:rc,LineEdge:zc,LineEdgeModel:gf,DiamondNode:Ec,DiamondNodeModel:Yf,PolylineEdge:Hc,PolylineEdgeModel:Of,BezierEdge:Xc,BezierEdgeModel:Gf,EllipseNode:Pc,EllipseNodeModel:Kf,HtmlNode:Nc,HtmlNodeModel:oc,h:ae.g,type:t};this.viewMap.forEach(function(T){var N=T.extendKey;N&&(a[N]=T)}),this.graphModel.modelMap.forEach(function(T){var N=T.extendKey;N&&(a[N]=T)});var f=n(a),p=f.view,m=f.model,O=p;o&&!O.isObervered&&(O.isObervered=!0,O=Ot(O)),this.setView(t,O),this.graphModel.setModel(t,m)}},{key:"registerElement",value:function(t){var n=t.view;t.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=Ot(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:dc,model:ec,type:"rect"}),this.registerElement({type:"circle",view:vc,model:kf}),this.registerElement({type:"polygon",view:mc,model:Jf}),this.registerElement({type:"line",view:zc,model:gf}),this.registerElement({type:"polyline",view:Hc,model:Of}),this.registerElement({type:"bezier",view:Xc,model:Gf}),this.registerElement({type:"text",view:Tc,model:rc}),this.registerElement({type:"ellipse",view:Pc,model:Kf}),this.registerElement({type:"diamond",view:Ec,model:Yf}),this.registerElement({type:"html",view:Nc,model:oc})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.graphModel.selectElementById(t,n),!n&&o&&this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,a=t.id;if(!o){var f=this.getNodeModelById(a);f&&(o=f.getData());var p=this.getEdgeModelById(a);p&&(o=p.textPosition)}var m=o,O=m.x,T=m.y;n.focusOn(O,T,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,a,f=this.getModelById(t);if(!f)return!1;var p=(n={},_t(n,zt.NODE,this.deleteNode),_t(n,zt.EDGE,this.deleteEdge),n),m=f.BaseType;return(o=(a=p[m])===null||a===void 0?void 0:a.call(this,t))!==null&&o!==void 0?o:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nt.NODE_ADD;return this.graphModel.addNode(t,n)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),a=this.options.guards,f=a&&a.beforeDelete?a.beforeDelete(o):!0;return f&&this.graphModel.deleteNode(t),f}},{key:"cloneNode",value:function(t){var n=this.graphModel.getNodeModelById(t),o=n.getData(),a=this.options.guards,f=a&&a.beforeClone?a.beforeClone(o):!0;if(f)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var a=o.model.getData(),f=n&&n.beforeDelete?n.beforeDelete(a):!0;return f&&this.graphModel.deleteEdgeById(t),f}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n,o=this.graphModel.edgesMap;return(n=o[t])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,a=t.targetNodeId;if(o&&a){var f=[];return n.forEach(function(O){O.sourceNodeId===o&&O.targetNodeId===a&&f.push(O)}),f}if(o){var p=[];return n.forEach(function(O){O.sourceNodeId===o&&p.push(O)}),p}if(a){var m=[];return n.forEach(function(O){O.targetNodeId===a&&m.push(O)}),m}return[]}},{key:"getEdgeDataById",value:function(t){var n;return(n=this.getEdgeModelById(t))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.setProperties(rr(n))}},{key:"deleteProperty",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.deleteProperty(n)}},{key:"getProperties",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,a=t.edges,f={},p={nodes:[],edges:[]},m=0;m<o.length;m++){var O=o[m],T=O.id,N=this.addNode(O);if(!N)return;T&&(f[T]=N.id),p.nodes.push(N)}return a.forEach(function(L){var G=L.sourceNodeId,K=L.targetNodeId;f[G]&&(G=f[G]),f[K]&&(K=f[K]);var ie=n.graphModel.addEdge(wi(wi({},L),{},{sourceNodeId:G,targetNodeId:K}));p.edges.push(ie)}),p}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(t,n,o,a,f).map(function(p){return p.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(this.history.undoAble()){var t=rr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(this.history.redoAble()){var t=rr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){var o=this.graphModel.transformModel;return o.zoom(t,n)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,n=t.SCALE_X,o=t.SCALE_Y,a=t.TRANSLATE_X,f=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:o,TRANSLATE_X:a,TRANSLATE_Y:f}}},{key:"translate",value:function(t,n){var o=this.graphModel.transformModel;o.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,o=t.TRANSLATE_Y;this.translate(-n,-o)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(t=this.plugins)!==null&&t!==void 0?t:e.extensions;a.forEach(function(f){var p=f.pluginName||f.name;o.indexOf(p)===-1&&n.installPlugin(f)})}},{key:"installPlugin",value:function(t){if(zs(t)==="object"){var n=t.install,o=t.render;n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),this.extension[t.pluginName]=t;return}var a=t,f=new a({lf:this,LogicFlow:e,options:this.options.pluginsOptions});f.render&&this.components.push(f.render.bind(f)),this.extension[a.pluginName]=f}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(n){var o=new n(wi(wi({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(rr(t)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(ae.j)(Object(ae.g)(mM,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(nt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();_t(qc,"extensions",new Map);function Xr(e){return Ot(e)}c.default=qc}])})})(lR,We);const Wo=QC(We);function fR(g,h){return h={exports:{}},g(h,h.exports),h.exports}var cR=fR(function(g){var h=g.exports=function(u,c){if(c||(c=16),u===void 0&&(u=128),u<=0)return"0";for(var i=Math.log(Math.pow(2,u))/Math.log(c),s=2;i===1/0;s*=2)i=Math.log(Math.pow(2,u/s))/Math.log(c)*s;for(var l=i-Math.floor(i),y="",s=0;s<Math.floor(i);s++){var b=Math.floor(Math.random()*c).toString(c);y=b+y}if(l){var x=Math.pow(c,l),b=Math.floor(Math.random()*x).toString(c);y=b+y}var S=parseInt(y,c);return S!==1/0&&S>=Math.pow(2,u)?h(u,c):y};h.rack=function(u,c,i){var s=function(y){var b=0;do{if(b++>10)if(i)u+=i;else throw new Error("too many ID collisions, use more bits");var x=h(u,c)}while(Object.hasOwnProperty.call(l,x));return l[x]=y,x},l=s.hats={};return s.get=function(y){return s.hats[y]},s.set=function(y,b){return s.hats[y]=b,s},s.bits=u||128,s.base=c||16,s}});function on(g){if(!(this instanceof on))return new on(g);g=g||[128,36,1],this._seed=g.length?cR.rack(g[0],g[1],g[2]):g}on.prototype.next=function(g){return this._seed(g||!0)};on.prototype.nextPrefixed=function(g,h){var u;do u=g+this.next(!0);while(this.assigned(u));return this.claim(u,h),u};on.prototype.claim=function(g,h){this._seed.set(g,h||!0)};on.prototype.assigned=function(g){return this._seed.get(g)||!1};on.prototype.unclaim=function(g){delete this._seed.hats[g]};on.prototype.clear=function(){var g=this._seed.hats,h;for(h in g)this.unclaim(h)};var dR=new on([32,32,1]);function Jo(){return dR.next()}var qm=globalThis&&globalThis.__extends||function(){var g=function(h,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(h,u)};return function(h,u){g(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),pR=function(g){qm(h,g);function h(u,c){var i=this;return u.id||(u.id="Event_"+Jo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedTargetRules=function(){var u=g.prototype.getConnectedTargetRules.call(this),c={message:"起始节点不能作为边的终点",validate:function(){return!1}};return u.push(c),u},h.extendKey="StartEventModel",h}(We.CircleNodeModel),hR=function(g){qm(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.extendKey="StartEventNode",h}(We.CircleNode),vR={type:"bpmn:startEvent",view:hR,model:pR},eb=globalThis&&globalThis.__extends||function(){var g=function(h,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(h,u)};return function(h,u){g(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ys=globalThis&&globalThis.__assign||function(){return Ys=Object.assign||function(g){for(var h,u=1,c=arguments.length;u<c;u++){h=arguments[u];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(g[i]=h[i])}return g},Ys.apply(this,arguments)},yR=function(g){eb(h,g);function h(u,c){var i=this;return u.id||(u.id="Event_"+Jo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedSourceRules=function(){var u=g.prototype.getConnectedSourceRules.call(this),c={message:"结束节点不能作为边的起点",validate:function(){return!1}};return u.push(c),u},h.extendKey="EndEventModel",h}(We.CircleNodeModel),gR=function(g){eb(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},h.prototype.getShape=function(){var u=this.props.model,c=u.getNodeStyle(),i=u.x,s=u.y,l=u.r,y=g.prototype.getShape.call(this);return We.h("g",{},y,We.h("circle",Ys(Ys({},c),{cx:i,cy:s,r:l-5})))},h.extendKey="EndEventView",h}(We.CircleNode),mR={type:"bpmn:endEvent",view:gR,model:yR},tb=globalThis&&globalThis.__extends||function(){var g=function(h,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(h,u)};return function(h,u){g(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ri=globalThis&&globalThis.__assign||function(){return Ri=Object.assign||function(g){for(var h,u=1,c=arguments.length;u<c;u++){h=arguments[u];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(g[i]=h[i])}return g},Ri.apply(this,arguments)},bR=function(g){tb(h,g);function h(u,c){var i=this;return u.id||(u.id="Gateway_"+Jo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return h.extendKey="ExclusiveGatewayModel",h}(We.PolygonNodeModel),OR=function(g){tb(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.points,b=u.getNodeStyle();return We.h("g",{transform:"matrix(1 0 0 1 "+(c-s/2)+" "+(i-l/2)+")"},We.h("polygon",Ri(Ri({},b),{x:c,y:i,points:y})),We.h("path",Ri({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},b)))},h.extendKey="ExclusiveGatewayNode",h}(We.PolygonNode),ER={type:"bpmn:exclusiveGateway",view:OR,model:bR},rb=globalThis&&globalThis.__extends||function(){var g=function(h,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(h,u)};return function(h,u){g(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ws=globalThis&&globalThis.__assign||function(){return Ws=Object.assign||function(g){for(var h,u=1,c=arguments.length;u<c;u++){h=arguments[u];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(g[i]=h[i])}return g},Ws.apply(this,arguments)},SR=function(g){rb(h,g);function h(u,c){var i=this;return u.id||(u.id="Activity_"+Jo()),i=g.call(this,u,c)||this,i}return h.extendKey="UserTaskModel",h}(We.RectNodeModel),xR=function(g){rb(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.getNodeStyle();return We.h("svg",{x:c-s/2+5,y:i-l/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},We.h("path",{fill:y.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},h.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.radius,b=u.getNodeStyle();return We.h("g",{},[We.h("rect",Ws(Ws({},b),{x:c-s/2,y:i-l/2,rx:y,ry:y,width:s,height:l})),this.getLabelShape()])},h.extendKey="UserTaskNode",h}(We.RectNode),PR={type:"bpmn:userTask",view:xR,model:SR},nb=globalThis&&globalThis.__extends||function(){var g=function(h,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(h,u)};return function(h,u){g(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),od=globalThis&&globalThis.__assign||function(){return od=Object.assign||function(g){for(var h,u=1,c=arguments.length;u<c;u++){h=arguments[u];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(g[i]=h[i])}return g},od.apply(this,arguments)},AR=function(g){nb(h,g);function h(u,c){var i=this;return u.id||(u.id="Activity_"+Jo()),i=g.call(this,u,c)||this,i}return h.extendKey="ServiceTaskModel",h}(We.RectNodeModel),TR=function(g){nb(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.getNodeStyle();return We.h("svg",{x:c-s/2+5,y:i-l/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},We.h("path",{fill:y.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},h.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.radius,b=u.getNodeStyle();return We.h("g",{},[We.h("rect",od({x:c-s/2,y:i-l/2,rx:y,ry:y,width:s,height:l},b)),this.getLabelShape()])},h.extendKey="ServiceTaskNode",h}(We.RectNode),MR={type:"bpmn:serviceTask",view:TR,model:AR},ob=globalThis&&globalThis.__extends||function(){var g=function(h,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(h,u)};return function(h,u){g(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),wR=function(g){ob(h,g);function h(u,c){var i=this;return u.id||(u.id="Flow_"+Jo()),i=g.call(this,u,c)||this,i}return h.extendKey="SequenceFlowModel",h}(We.PolylineEdgeModel),NR=function(g){ob(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.extendKey="SequenceFlowEdge",h}(We.PolylineEdge),DR={type:"bpmn:sequenceFlow",view:NR,model:wR},Tm={width:40,height:40},Mm={width:40,height:40},wm={width:40,height:40},Nm={width:100,height:80},Dm={width:100,height:80},jR={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},CR=function(){function g(h){var u=h.lf;u.setTheme(jR),u.register(vR),u.register(mR),u.register(ER),u.register(PR),u.register(MR),u.options.customBpmnEdge||(u.register(DR),u.setDefaultEdgeType("bpmn:sequenceFlow"))}return g.pluginName="bpmnElement",g}(),RR=function(){function g(h){var u=this,c=h.lf;this.lf=c,this.customCssRules="",this.useGlobalRules=!0,c.getSnapshot=function(i,s){u.getSnapshot(i,s)},c.getSnapshotBlob=function(i){return u.getSnapshotBlob(i)},c.getSnapshotBase64=function(i){return u.getSnapshotBase64(i)}}return g.prototype.getSvgRootElement=function(h){var u=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,h.graphModel.nodes.forEach(function(i){var s=i.x,l=i.width,y=i.y,b=i.height,x=s-l/2,S=y-b/2;x<u.offsetX&&(u.offsetX=x-5),S<u.offsetY&&(u.offsetY=S-5)}),h.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(s){var l=s.x,y=s.y;l<u.offsetX&&(u.offsetX=l-5),y<u.offsetY&&(u.offsetY=y-5)})});var c=h.container.querySelector(".lf-canvas-overlay");return c},g.prototype.triggerDownload=function(h){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",h),c.setAttribute("target","_blank"),c.dispatchEvent(u)},g.prototype.removeAnchor=function(h){for(var u=h.childNodes,c=h.childNodes&&h.childNodes.length,i=0;i<c;i++){var s=u[i],l=s.classList&&Array.from(s.classList)||[];l.indexOf("lf-anchor")>-1&&(h.removeChild(h.childNodes[i]),c--,i--)}},g.prototype.getSnapshot=function(h,u){var c=this;this.fileName=h||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,u).then(function(s){var l=s.toDataURL("image/png").replace("image/png","image/octet-stream");c.triggerDownload(l)})},g.prototype.getSnapshotBase64=function(h){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,h).then(function(s){var l=s.toDataURL("image/png");i({data:l,width:s.width,height:s.height})})})},g.prototype.getSnapshotBlob=function(h){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,h).then(function(s){s.toBlob(function(l){i({data:l,width:s.width,height:s.height})},"image/png")})})},g.prototype.getClassRules=function(){var h="";if(this.useGlobalRules)for(var u=document.styleSheets,c=0;c<u.length;c++)for(var i=u[c],s=0;s<i.cssRules.length;s++)h+=i.cssRules[s].cssText;return this.customCssRules&&(h+=this.customCssRules),h},g.prototype.getCanvasData=function(h,u){var c=this,i=h.cloneNode(!0),s=i.lastChild,l=s.childNodes&&s.childNodes.length;if(l)for(var y=0;y<l;y++){var b=s.childNodes[y],x=b.classList&&Array.from(b.classList);if(x&&x.indexOf("lf-base")<0)s.removeChild(s.childNodes[y]),l--,y--;else{var S=s.childNodes[y];S&&S.childNodes.forEach(function(_){var U=_;c.removeAnchor(U.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var P=window.devicePixelRatio||1,M=document.createElement("canvas"),A=this.lf.graphModel.rootEl.querySelector(".lf-base"),j=A.getBoundingClientRect(),C=this.lf.graphModel,I=C.transformModel,z=I.SCALE_X,X=I.SCALE_Y,Y=Math.ceil(j.width/z),le=Math.ceil(j.height/X);M.style.width=Y+"px",M.style.height=le+"px",M.width=Y*P+80,M.height=le*P+80;var se=M.getContext("2d");se.clearRect(0,0,M.width,M.height),se.scale(P,P),u?(se.fillStyle=u,se.fillRect(0,0,Y*P+80,le*P+80)):se.clearRect(0,0,Y,le);var ne=new Image,Q=document.createElement("style");Q.innerHTML=this.getClassRules();var ee=document.createElement("foreignObject");return ee.appendChild(Q),i.appendChild(ee),new Promise(function(_){ne.onload=function(){se.drawImage(ne,0,0),_(M)};var U="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),B=U.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");ne.src=B})},g.pluginName="snapshot",g}(),IR=new on([32,32,1]);function jm(){return IR.next()}var gr=function(){};gr.ObjTree=function(){return this};gr.ObjTree.VERSION="0.23";gr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;gr.ObjTree.prototype.attr_prefix="-";gr.ObjTree.prototype.parseXML=function(g){var h;if(window.DOMParser){var u=new DOMParser,c=u.parseFromString(g,"application/xml");if(!c)return;h=c.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(g),h=u.documentElement);if(h)return this.parseDOM(h)};gr.ObjTree.prototype.parseHTTP=function(g,h,u){var c={};for(var i in h)c[i]=h[i];if(c.method||(typeof c.postBody=="undefined"&&typeof c.postbody=="undefined"&&typeof c.parameters=="undefined"?c.method="get":c.method="post"),u){c.asynchronous=!0;var s=this,l=u,y=c.onComplete;c.onComplete=function(S){var P;S&&S.responseXML&&S.responseXML.documentElement&&(P=s.parseDOM(S.responseXML.documentElement)),l(P,S),y&&y(S)}}else c.asynchronous=!1;var b;if(typeof HTTP!="undefined"&&HTTP.Request){c.uri=g;var x=new HTTP.Request(c);x&&(b=x.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var x=new Ajax.Request(g,c);x&&(b=x.transport)}if(u)return b;if(b&&b.responseXML&&b.responseXML.documentElement)return this.parseDOM(b.responseXML.documentElement)};gr.ObjTree.prototype.parseDOM=function(g){if(g){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var u=this.parseElement(g);if(this.__force_array[g.nodeName]&&(u=[u]),g.nodeType!=11){var c={};c[g.nodeName]=u,u=c}return u}};gr.ObjTree.prototype.parseElement=function(g){if(g.nodeType!=7){if(g.nodeType==3||g.nodeType==4){var h=g.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:g.nodeValue}var u,c={};if(g.attributes&&g.attributes.length){u={};for(var i=0;i<g.attributes.length;i++){var s=g.attributes[i].nodeName;if(typeof s=="string"){var l=g.attributes[i].nodeValue;l&&(s=this.attr_prefix+s,typeof c[s]=="undefined"&&(c[s]=0),c[s]++,this.addNode(u,s,c[s],l))}}}if(g.childNodes&&g.childNodes.length){var y=!0;u&&(y=!1);for(var i=0;i<g.childNodes.length&&y;i++){var b=g.childNodes[i].nodeType;b==3||b==4||(y=!1)}if(y){u||(u="");for(var i=0;i<g.childNodes.length;i++)u+=g.childNodes[i].nodeValue}else{u||(u={});for(var i=0;i<g.childNodes.length;i++){var s=g.childNodes[i].nodeName;if(typeof s=="string"){var l=this.parseElement(g.childNodes[i]);l&&(typeof c[s]=="undefined"&&(c[s]=0),c[s]++,this.addNode(u,s,c[s],l))}}}}return u}};gr.ObjTree.prototype.addNode=function(g,h,u,c){this.__force_array[h]?(u==1&&(g[h]=[]),g[h][g[h].length]=c):u==1?g[h]=c:u==2?g[h]=[g[h],c]:g[h][g[h].length]=c};gr.ObjTree.prototype.writeXML=function(g){var h=this.hash_to_xml(null,g);return this.xmlDecl+h};gr.ObjTree.prototype.hash_to_xml=function(g,h){var u=[],c=[];for(var i in h)if(h.hasOwnProperty(i)){var s=h[i];i.charAt(0)!=this.attr_prefix?typeof s=="undefined"||s==null?u[u.length]="<"+i+" />":typeof s=="object"&&s.constructor==Array?u[u.length]=this.array_to_xml(i,s):typeof s=="object"?u[u.length]=this.hash_to_xml(i,s):u[u.length]=this.scalar_to_xml(i,s):c[c.length]=" "+i.substring(1)+'="'+this.xml_escape(s)+'"'}var l=c.join(""),y=u.join("");return typeof g=="undefined"||g==null||(u.length>0?y.match(/\n/)?y="<"+g+l+`>
`+y+"</"+g+`>
`:y="<"+g+l+">"+y+"</"+g+`>
`:y="<"+g+l+` />
`),y};gr.ObjTree.prototype.array_to_xml=function(g,h){for(var u=[],c=0;c<h.length;c++){var i=h[c];typeof i=="undefined"||i==null?u[u.length]="<"+g+" />":typeof i=="object"&&i.constructor==Array?u[u.length]=this.array_to_xml(g,i):typeof i=="object"?u[u.length]=this.hash_to_xml(g,i):u[u.length]=this.scalar_to_xml(g,i)}return u.join("")};gr.ObjTree.prototype.scalar_to_xml=function(g,h){return g=="#text"?this.xml_escape(h):"<"+g+">"+this.xml_escape(h)+"</"+g+`>
`};gr.ObjTree.prototype.xml_escape=function(g){return g.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Qs=globalThis&&globalThis.__read||function(g,h){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(h===void 0||h-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s},an;(function(g){g.START="bpmn:startEvent",g.END="bpmn:endEvent",g.GATEWAY="bpmn:exclusiveGateway",g.USER="bpmn:userTask",g.SYSTEM="bpmn:serviceTask",g.FLOW="bpmn:sequenceFlow"})(an||(an={}));var ib=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function id(g){var h={};return Object.entries(g).forEach(function(u){var c=Qs(u,2),i=c[0],s=c[1];typeof s!="object"?i.indexOf("-")===0?h[i]=s:h["-"+i]=s:h[i]=id(s)}),h}function cd(g){var h={};return Object.entries(g).forEach(function(u){var c=Qs(u,2),i=c[0],s=c[1];typeof s=="string"?i.indexOf("-")===0?h[i.substr(1)]=s:h[i]=s:typeof s=="object"?h[i]=cd(s):h[i]=s}),h}function BR(g,h){var u=new Map;h.nodes.forEach(function(i){var s,l={"-id":i.id};if(!((s=i.text)===null||s===void 0)&&s.value&&(l["-name"]=i.text.value),i.properties){var y=id(i.properties);Object.assign(l,y)}u.set(i.id,l),g[i.type]?Array.isArray(g[i.type])?g[i.type].push(l):g[i.type]=[g[i.type],l]:g[i.type]=l});var c=h.edges.map(function(i){var s,l,y=u.get(i.targetNodeId);y["bpmn:incoming"]?Array.isArray(y["bpmn:incoming"])?y["bpmn:incoming"].push(i.id):y["bpmn:incoming"]=[y["bpmn:incoming"],i.id]:y["bpmn:incoming"]=i.id;var b=u.get(i.sourceNodeId);b["bpmn:outgoing"]?Array.isArray(b["bpmn:outgoing"])?b["bpmn:outgoing"].push(i.id):b["bpmn:outgoing"]=[b["bpmn:outgoing"],i.id]:b["bpmn:outgoing"]=i.id;var x={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((s=i.text)===null||s===void 0)&&s.value&&(x["-name"]=(l=i.text)===null||l===void 0?void 0:l.value),i.properties){var S=id(i.properties);Object.assign(x,S)}return x});g[an.FLOW]=c}function LR(g,h){g["bpmndi:BPMNEdge"]=h.edges.map(function(u){var c,i=u.id,s=u.pointsList.map(function(y){var b=y.x,x=y.y;return{"-x":b,"-y":x}}),l={"-id":i+"_di","-bpmnElement":i,"di:waypoint":s};return!((c=u.text)===null||c===void 0)&&c.value&&(l["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),l}),g["bpmndi:BPMNShape"]=h.nodes.map(function(u){var c,i=u.id,s=100,l=80,y=u.x,b=u.y,x=fo.shapeConfigMap.get(u.type);x&&(s=x.width,l=x.height),y-=s/2,b-=l/2;var S={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":y,"-y":b,"-width":s,"-height":l}};return!((c=u.text)===null||c===void 0)&&c.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),S})}function _R(g){var h=[],u=[],c=g["bpmn:definitions"];if(c){var i=c["bpmn:process"];Object.keys(i).forEach(function(s){if(s.indexOf("bpmn:")===0){var l=i[s];if(s===an.FLOW){var y=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=FR(l,y)}else{var b=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];h=h.concat(zR(l,b,s))}}})}return{nodes:h,edges:u}}function zR(g,h,u){var c=[];if(Array.isArray(g))g.forEach(function(l){var y;Array.isArray(h)?y=h.find(function(x){return x["-bpmnElement"]===l["-id"]}):y=h;var b=Cm(y,u,l);c.push(b)});else{var i=void 0;Array.isArray(h)?i=h.find(function(l){return l["-bpmnElement"]===g["-id"]}):i=h;var s=Cm(i,u,g);c.push(s)}return c}function Cm(g,h,u){var c=Number(g["dc:Bounds"]["-x"]),i=Number(g["dc:Bounds"]["-y"]),s=u["-name"],l=fo.shapeConfigMap.get(h);l&&(c+=l.width/2,i+=l.height/2);var y;Object.entries(u).forEach(function(P){var M=Qs(P,2),A=M[0],j=M[1];ib.indexOf(A)===-1&&(y||(y={}),y[A]=j)}),y&&(y=cd(y));var b;if(s&&(b={x:c,y:i,value:s},g["bpmndi:BPMNLabel"]&&g["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=g["bpmndi:BPMNLabel"]["dc:Bounds"];b.x=Number(x["-x"])+Number(x["-width"])/2,b.y=Number(x["-y"])+Number(x["-height"])/2}var S={id:g["-bpmnElement"],type:h,x:c,y:i,properties:y};return b&&(S.text=b),S}function FR(g,h){var u=[];if(Array.isArray(g))g.forEach(function(i){var s;Array.isArray(h)?s=h.find(function(l){return l["-bpmnElement"]===i["-id"]}):s=h,u.push(Rm(s,i))});else{var c=void 0;Array.isArray(h)?c=h.find(function(i){return i["-bpmnElement"]===g["-id"]}):c=h,u.push(Rm(c,g))}return u}function Rm(g,h){var u,c=h["-name"];if(c){var i=g["bpmndi:BPMNLabel"]["dc:Bounds"],s=0;c.split(`
`).forEach(function(b){s<b.length&&(s=b.length)}),u={value:c,x:Number(i["-x"])+s*10/2,y:Number(i["-y"])+7}}var l;Object.entries(h).forEach(function(b){var x=Qs(b,2),S=x[0],P=x[1];ib.indexOf(S)===-1&&(l||(l={}),l[S]=P)}),l&&(l=cd(l));var y={id:h["-id"],type:an.FLOW,pointsList:g["di:waypoint"].map(function(b){return{x:Number(b["-x"]),y:Number(b["-y"])}}),sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:l};return u&&(y.text=u),y}var fo={pluginName:"bpmn-adapter",install:function(g){g.adapterIn=this.adapterIn,g.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(g,h){this.shapeConfigMap.set(g,h)},adapterOut:function(g){var h={"-id":"Process_"+jm(),"-isExecutable":"false"};BR(h,g);var u={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};LR(u,g);var c={"bpmn:definitions":{"-id":"Definitions_"+jm(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":h,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}};return c},adapterIn:function(g){if(g)return _R(g)}};fo.shapeConfigMap.set(an.START,{width:Tm.width,height:Tm.height});fo.shapeConfigMap.set(an.END,{width:Mm.width,height:Mm.height});fo.shapeConfigMap.set(an.GATEWAY,{width:wm.width,height:wm.height});fo.shapeConfigMap.set(an.SYSTEM,{width:Nm.width,height:Nm.height});fo.shapeConfigMap.set(an.USER,{width:Dm.width,height:Dm.height});var Im=globalThis&&globalThis.__assign||function(){return Im=Object.assign||function(g){for(var h,u=1,c=arguments.length;u<c;u++){h=arguments[u];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(g[i]=h[i])}return g},Im.apply(this,arguments)};globalThis&&globalThis.__read;var Bm;(function(g){g.HORIZONTAL="horizontal",g.VERTICAL="vertical"})(Bm||(Bm={}));var GR=globalThis&&globalThis.__read||function(g,h){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(h===void 0||h-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};globalThis&&globalThis.__spread;var HR=globalThis&&globalThis.__read||function(g,h){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(h===void 0||h-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};globalThis&&globalThis.__spread;var UR=globalThis&&globalThis.__read||function(g,h){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(h===void 0||h-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s},kR=globalThis&&globalThis.__spread||function(){for(var g=[],h=0;h<arguments.length;h++)g=g.concat(UR(arguments[h]));return g},Ni="lf:defaultNodeMenu",Di="lf:defaultEdgeMenu",ji="lf:defaultGraphMenu",Lm="lf:defaultSelectionMenu",XR=function(){function g(h){var u=this,c=h.lf;this.__menuDOM=document.createElement("ul"),this.lf=c,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){u.setMenuConfig(i)},this.lf.addMenuConfig=function(i){u.addMenuConfig(i)},this.lf.setMenuByType=function(i){u.setMenuByType(i)}}return g.prototype.init=function(){var h=this,u=[{text:"删除",callback:function(s){h.lf.deleteNode(s.id)}},{text:"编辑文本",callback:function(s){h.lf.graphModel.editText(s.id)}},{text:"复制",callback:function(s){h.lf.cloneNode(s.id)}}];this.menuTypeMap.set(Ni,u);var c=[{text:"删除",callback:function(s){h.lf.deleteEdge(s.id)}},{text:"编辑文本",callback:function(s){h.lf.graphModel.editText(s.id)}}];this.menuTypeMap.set(Di,c),this.menuTypeMap.set(ji,[]);var i=[{text:"删除",callback:function(s){h.lf.clearSelectElements(),s.edges.forEach(function(l){return h.lf.deleteEdge(l.id)}),s.nodes.forEach(function(l){return h.lf.deleteNode(l.id)})}}];this.menuTypeMap.set(Lm,i)},g.prototype.render=function(h,u){var c=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var s=i.target;Array.from(s.classList).indexOf("lf-menu-item")===-1&&Array.from(s.classList).indexOf("lf-menu")===-1;)s=s.parentElement;Array.from(s.classList).indexOf("lf-menu-item")>-1&&(s.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null)},!0),this.lf.on("node:contextmenu",function(i){var s=i.data,l=i.position,y=l.domOverlayPosition,b=y.x,x=y.y,S=s.id,P=c.lf.graphModel.getNodeModelById(S),M=[],A=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?M=P.menu:A?M=A:M=c.menuTypeMap.get(Ni),c.__currentData=s,c.showMenu(b,x,M)}),this.lf.on("edge:contextmenu",function(i){var s=i.data,l=i.position,y=l.domOverlayPosition,b=y.x,x=y.y,S=s.id,P=c.lf.graphModel.getEdgeModelById(S),M=[],A=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?M=P.menu:A?M=A:M=c.menuTypeMap.get(Di),c.__currentData=s,c.showMenu(b,x,M)}),this.lf.on("blank:contextmenu",function(i){var s=i.position,l=c.menuTypeMap.get(ji),y=s.domOverlayPosition,b=y.x,x=y.y;c.showMenu(b,x,l)}),this.lf.on("selection:contextmenu",function(i){var s=i.data,l=i.position,y=c.menuTypeMap.get(Lm),b=l.domOverlayPosition,x=b.x,S=b.y;c.__currentData=s,c.showMenu(x,S,y)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"})},g.prototype.destroy=function(){var h;(h=this===null||this===void 0?void 0:this.__container)===null||h===void 0||h.removeChild(this.__menuDOM),this.__menuDOM=null},g.prototype.showMenu=function(h,u,c){if(!(!c||!c.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,kR(this.__getMenuDom(c))),i.children.length&&(i.style.display="block",i.style.top=u+"px",i.style.left=h+"px")}},g.prototype.setMenuByType=function(h){!h.type||!h.menu||this.menuTypeMap.set(h.type,h.menu)},g.prototype.__getMenuDom=function(h){var u=[];return h&&h.length>0&&h.forEach(function(c){var i=document.createElement("li");if(c.className?i.className="lf-menu-item "+c.className:i.className="lf-menu-item",c.icon===!0){var s=document.createElement("span");s.className="lf-menu-item-icon",i.appendChild(s)}var l=document.createElement("span");l.className="lf-menu-item-text",c.text&&(l.innerText=c.text),i.appendChild(l),i.onclickCallback=c.callback,u.push(i)}),u},g.prototype.setMenuConfig=function(h){h&&(h.nodeMenu!==void 0&&this.menuTypeMap.set(Ni,h.nodeMenu?h.nodeMenu:[]),h.edgeMenu!==void 0&&this.menuTypeMap.set(Di,h.edgeMenu?h.edgeMenu:[]),h.graphMenu!==void 0&&this.menuTypeMap.set(ji,h.graphMenu?h.graphMenu:[]))},g.prototype.addMenuConfig=function(h){if(h){if(Array.isArray(h.nodeMenu)){var u=this.menuTypeMap.get(Ni);this.menuTypeMap.set(Ni,u.concat(h.nodeMenu))}if(Array.isArray(h.edgeMenu)){var u=this.menuTypeMap.get(Di);this.menuTypeMap.set(Di,u.concat(h.edgeMenu))}if(Array.isArray(h.graphMenu)){var u=this.menuTypeMap.get(ji);this.menuTypeMap.set(ji,u.concat(h.graphMenu))}}},g.prototype.changeMenuItem=function(h,u){if(h==="add")this.addMenuConfig(u);else if(h==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},g.pluginName="menu",g}();globalThis&&globalThis.__read;var $R=function(){function g(h){var u=this,c=h.lf;this.lf=c,this.lf.setPatternItems=function(i){u.setPatternItems(i)}}return g.prototype.render=function(h,u){var c=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=u;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(i){c.panelEl.appendChild(c.createDndItem(i))}),u.appendChild(this.panelEl),this.domContainer=u},g.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},g.prototype.setPatternItems=function(h){this.shapeList=h,this.domContainer&&this.render(this.lf,this.domContainer)},g.prototype.createDndItem=function(h){var u=this,c=document.createElement("div");c.className=h.className?"lf-dnd-item "+h.className:"lf-dnd-item";var i=document.createElement("div");if(i.className="lf-dnd-shape",h.icon&&(i.style.backgroundImage="url("+h.icon+")"),c.appendChild(i),h.label){var s=document.createElement("div");s.innerText=h.label,s.className="lf-dnd-text",c.appendChild(s)}return c.onmousedown=function(){h.type&&u.lf.dnd.startDrag({type:h.type,properties:h.properties,text:h.text}),h.callback&&h.callback(u.lf,u.domContainer)},c.ondblclick=function(l){u.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:l,data:h})},c.onclick=function(l){u.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:l,data:h})},c.oncontextmenu=function(l){u.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:l,data:h})},c},g.pluginName="dndPanel",g}(),YR=function(){function g(h){var u=this,c=h.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(s){var l=u.lf.getPointByClient(s.clientX,s.clientY).domOverlayPosition,y=l.x,b=l.y;u.endPoint={x:y,y:b};var x=u.startPoint,S=x.x,P=x.y,M=u.wrapper.style,A=S,j=P,C=y-S,I=b-P;y<S&&(A=y,C=S-y),b<P&&(j=b,I=P-b),M.left=A+"px",M.top=j+"px",M.width=C+"px",M.height=I+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var s=u.startPoint,l=s.x,y=s.y,b=u.endPoint,x=b.x,S=b.y;if(!(Math.abs(x-l)<10&&Math.abs(S-y)<10)){var P=[Math.min(l,x),Math.min(y,S)],M=[Math.max(l,x),Math.max(y,S)],A=u.lf.graphModel.getAreaElement(P,M,u.isWholeEdge,u.isWholeNode,!0),j=u.lf.graphModel.group;A.forEach(function(C){(!j||!j.getNodeGroup(C.id))&&u.lf.selectElementById(C.id,!0)}),u.lf.emit("selection:selected",A)}},this.lf=c;var i=c.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=i,c.openSelectionSelect=function(){u.openSelectionSelect()},c.closeSelectionSelect=function(){u.closeSelectionSelect()}}return g.prototype.render=function(h,u){var c=this;this.__domContainer=u,h.on("blank:mousedown",function(i){var s=i.e,l=h.getEditConfig();if(!(!l.stopMoveGraph||c.__disabled)){var y=s.button===2;if(!y){var b=h.getPointByClient(s.clientX,s.clientY).domOverlayPosition,x=b.x,S=b.y;c.startPoint={x,y:S},c.endPoint={x,y:S};var P=document.createElement("div");P.className="lf-selection-select",P.oncontextmenu=function(A){A.preventDefault()},P.style.top=c.startPoint.y+"px",P.style.left=c.startPoint.x+"px",u.appendChild(P),c.wrapper=P,document.addEventListener("mousemove",c.__draw),document.addEventListener("mouseup",c.__drawOff)}}})},g.prototype.setSelectionSense=function(h,u){h===void 0&&(h=!0),u===void 0&&(u=!0),this.isWholeEdge=h,this.isWholeNode=u},g.prototype.openSelectionSelect=function(){var h=this.lf.getEditConfig().stopMoveGraph;h||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},g.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},g.prototype.open=function(){this.__disabled=!1},g.prototype.close=function(){this.__disabled=!0},g.pluginName="selectionSelect",g}();globalThis&&globalThis.__values;function WR(g){if(g.length<=1)return!1;for(var h=0,u=g.length-1;h!==u&&h+1!==u&&u-1!==h;)h++,u--;return h===u?[--h,u]:[h,u]}var ab=globalThis&&globalThis.__extends||function(){var g=function(h,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(h,u)};return function(h,u){g(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ko=globalThis&&globalThis.__assign||function(){return Ko=Object.assign||function(g){for(var h,u=1,c=arguments.length;u<c;u++){h=arguments[u];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(g[i]=h[i])}return g},Ko.apply(this,arguments)},bn=globalThis&&globalThis.__read||function(g,h){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(h===void 0||h-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};(function(g){ab(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.pointFilter=function(u){for(var c=u,i=1;i<c.length-1;){var s=bn(c[i-1],2),l=s[0],y=s[1],b=bn(c[i],2),x=b[0],S=b[1],P=bn(c[i+1],2),M=P[0],A=P[1];l===x&&x===M||y===S&&S===A?c.splice(i,1):i++}return c},h.prototype.getEdge=function(){var u=this.props.model,c=u.points,i=u.isAnimation,s=u.arrowConfig,l=u.radius,y=l===void 0?5:l,b=u.getEdgeStyle(),x=u.getEdgeAnimationStyle(),S=this.pointFilter(c.split(" ").map(function(Le){return Le.split(",").map(function(Ee){return Number(Ee)})})),P=WR(S);if(P){var M=bn(P,2),A=M[0],j=M[1],C=S[A],I=S[j],z=C.some(function(Le,Ee){return Le===I[Ee]});if(!z){var X=(I[1]-C[1])/2,Y=[I[0],I[1]-X],le=[C[0],C[1]+X];S.splice(A+1,0,le,Y)}}for(var se=bn(S[0],2),ne=se[0],Q=se[1],ee="M"+ne+" "+Q,_=1;_<S.length-1;_++){var U=bn(S[_-1],2),B=U[0],w=U[1],R=bn(S[_],2),W=R[0],Z=R[1],ce=bn(S[_+1],2),Pe=ce[0],me=ce[1];if(W===B&&Z!==w){var be=Z>w?Z-y:Z+y;ee=ee+" L "+W+" "+be}if(Z===w&&W!==B){var Se=W>B?W-y:W+y;ee=ee+" L "+Se+" "+Z}if(ee=ee+" Q "+W+" "+Z,W===Pe&&Z!==me){var be=Z>me?Z-y:Z+y;ee=ee+" "+W+" "+be}if(Z===me&&W!==Pe){var Se=W>Pe?W-y:W+y;ee=ee+" "+Se+" "+Z}}var Oe=bn(S[S.length-1],2),we=Oe[0],Fe=Oe[1];ee=ee+" L "+we+" "+Fe;var Ve=Ko(Ko(Ko({d:ee,style:i?x:{}},b),s),{fill:"none"});return We.h("path",Ko({d:ee},Ve))},h})(We.PolylineEdge);(function(g){ab(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h})(We.PolylineEdgeModel);var dd,Ut,ub,so,_m,sb,ad,lb={},fb=[],KR=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Xn(g,h){for(var u in h)g[u]=h[u];return g}function cb(g){var h=g.parentNode;h&&h.removeChild(g)}function Ii(g,h,u){var c,i,s,l={};for(s in h)s=="key"?c=h[s]:s=="ref"?i=h[s]:l[s]=h[s];if(arguments.length>2&&(l.children=arguments.length>3?dd.call(arguments,2):u),typeof g=="function"&&g.defaultProps!=null)for(s in g.defaultProps)l[s]===void 0&&(l[s]=g.defaultProps[s]);return ks(g,l,c,i,null)}function ks(g,h,u,c,i){var s={type:g,props:h,key:u,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++ub:i};return i==null&&Ut.vnode!=null&&Ut.vnode(s),s}function pd(g){return g.children}function Zo(g,h){this.props=g,this.context=h}function _i(g,h){if(h==null)return g.__?_i(g.__,g.__.__k.indexOf(g)+1):null;for(var u;h<g.__k.length;h++)if((u=g.__k[h])!=null&&u.__e!=null)return u.__e;return typeof g.type=="function"?_i(g):null}function db(g){var h,u;if((g=g.__)!=null&&g.__c!=null){for(g.__e=g.__c.base=null,h=0;h<g.__k.length;h++)if((u=g.__k[h])!=null&&u.__e!=null){g.__e=g.__c.base=u.__e;break}return db(g)}}function zm(g){(!g.__d&&(g.__d=!0)&&so.push(g)&&!Ks.__r++||_m!==Ut.debounceRendering)&&((_m=Ut.debounceRendering)||sb)(Ks)}function Ks(){var g,h,u,c,i,s,l,y;for(so.sort(ad);g=so.shift();)g.__d&&(h=so.length,c=void 0,i=void 0,l=(s=(u=g).__v).__e,(y=u.__P)&&(c=[],(i=Xn({},s)).__v=s.__v+1,gb(y,s,i,u.__n,y.ownerSVGElement!==void 0,s.__h!=null?[l]:null,c,l==null?_i(s):l,s.__h),ZR(c,s),s.__e!=l&&db(s)),so.length>h&&so.sort(ad));Ks.__r=0}function pb(g,h,u,c,i,s,l,y,b,x){var S,P,M,A,j,C,I,z=c&&c.__k||fb,X=z.length;for(u.__k=[],S=0;S<h.length;S++)if((A=u.__k[S]=(A=h[S])==null||typeof A=="boolean"||typeof A=="function"?null:typeof A=="string"||typeof A=="number"||typeof A=="bigint"?ks(null,A,null,null,A):Array.isArray(A)?ks(pd,{children:A},null,null,null):A.__b>0?ks(A.type,A.props,A.key,A.ref?A.ref:null,A.__v):A)!=null){if(A.__=u,A.__b=u.__b+1,(M=z[S])===null||M&&A.key==M.key&&A.type===M.type)z[S]=void 0;else for(P=0;P<X;P++){if((M=z[P])&&A.key==M.key&&A.type===M.type){z[P]=void 0;break}M=null}gb(g,A,M=M||lb,i,s,l,y,b,x),j=A.__e,(P=A.ref)&&M.ref!=P&&(I||(I=[]),M.ref&&I.push(M.ref,null,A),I.push(P,A.__c||j,A)),j!=null?(C==null&&(C=j),typeof A.type=="function"&&A.__k===M.__k?A.__d=b=hb(A,b,g):b=vb(g,A,M,z,j,b),typeof u.type=="function"&&(u.__d=b)):b&&M.__e==b&&b.parentNode!=g&&(b=_i(M))}for(u.__e=C,S=X;S--;)z[S]!=null&&(typeof u.type=="function"&&z[S].__e!=null&&z[S].__e==u.__d&&(u.__d=yb(c).nextSibling),bb(z[S],z[S]));if(I)for(S=0;S<I.length;S++)mb(I[S],I[++S],I[++S])}function hb(g,h,u){for(var c,i=g.__k,s=0;i&&s<i.length;s++)(c=i[s])&&(c.__=g,h=typeof c.type=="function"?hb(c,h,u):vb(u,c,c,i,c.__e,h));return h}function vb(g,h,u,c,i,s){var l,y,b;if(h.__d!==void 0)l=h.__d,h.__d=void 0;else if(u==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==g)g.appendChild(i),l=null;else{for(y=s,b=0;(y=y.nextSibling)&&b<c.length;b+=1)if(y==i)break e;g.insertBefore(i,s),l=s}return l!==void 0?l:i.nextSibling}function yb(g){var h,u,c;if(g.type==null||typeof g.type=="string")return g.__e;if(g.__k){for(h=g.__k.length-1;h>=0;h--)if((u=g.__k[h])&&(c=yb(u)))return c}return null}function VR(g,h,u,c,i){var s;for(s in u)s==="children"||s==="key"||s in h||Vs(g,s,null,u[s],c);for(s in h)i&&typeof h[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||u[s]===h[s]||Vs(g,s,h[s],u[s],c)}function Fm(g,h,u){h[0]==="-"?g.setProperty(h,u==null?"":u):g[h]=u==null?"":typeof u!="number"||KR.test(h)?u:u+"px"}function Vs(g,h,u,c,i){var s;e:if(h==="style")if(typeof u=="string")g.style.cssText=u;else{if(typeof c=="string"&&(g.style.cssText=c=""),c)for(h in c)u&&h in u||Fm(g.style,h,"");if(u)for(h in u)c&&u[h]===c[h]||Fm(g.style,h,u[h])}else if(h[0]==="o"&&h[1]==="n")s=h!==(h=h.replace(/Capture$/,"")),h=h.toLowerCase()in g?h.toLowerCase().slice(2):h.slice(2),g.l||(g.l={}),g.l[h+s]=u,u?c||g.addEventListener(h,s?Hm:Gm,s):g.removeEventListener(h,s?Hm:Gm,s);else if(h!=="dangerouslySetInnerHTML"){if(i)h=h.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(h!=="width"&&h!=="height"&&h!=="href"&&h!=="list"&&h!=="form"&&h!=="tabIndex"&&h!=="download"&&h in g)try{g[h]=u==null?"":u;break e}catch(l){}typeof u=="function"||(u==null||u===!1&&h[4]!=="-"?g.removeAttribute(h):g.setAttribute(h,u))}}function Gm(g){return this.l[g.type+!1](Ut.event?Ut.event(g):g)}function Hm(g){return this.l[g.type+!0](Ut.event?Ut.event(g):g)}function gb(g,h,u,c,i,s,l,y,b){var x,S,P,M,A,j,C,I,z,X,Y,le,se,ne,Q,ee=h.type;if(h.constructor!==void 0)return null;u.__h!=null&&(b=u.__h,y=h.__e=u.__e,h.__h=null,s=[y]),(x=Ut.__b)&&x(h);try{e:if(typeof ee=="function"){if(I=h.props,z=(x=ee.contextType)&&c[x.__c],X=x?z?z.props.value:x.__:c,u.__c?C=(S=h.__c=u.__c).__=S.__E:("prototype"in ee&&ee.prototype.render?h.__c=S=new ee(I,X):(h.__c=S=new Zo(I,X),S.constructor=ee,S.render=QR),z&&z.sub(S),S.props=I,S.state||(S.state={}),S.context=X,S.__n=c,P=S.__d=!0,S.__h=[],S._sb=[]),S.__s==null&&(S.__s=S.state),ee.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=Xn({},S.__s)),Xn(S.__s,ee.getDerivedStateFromProps(I,S.__s))),M=S.props,A=S.state,S.__v=h,P)ee.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(ee.getDerivedStateFromProps==null&&I!==M&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(I,X),!S.__e&&S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(I,S.__s,X)===!1||h.__v===u.__v){for(h.__v!==u.__v&&(S.props=I,S.state=S.__s,S.__d=!1),S.__e=!1,h.__e=u.__e,h.__k=u.__k,h.__k.forEach(function(_){_&&(_.__=h)}),Y=0;Y<S._sb.length;Y++)S.__h.push(S._sb[Y]);S._sb=[],S.__h.length&&l.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(I,S.__s,X),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(M,A,j)})}if(S.context=X,S.props=I,S.__P=g,le=Ut.__r,se=0,"prototype"in ee&&ee.prototype.render){for(S.state=S.__s,S.__d=!1,le&&le(h),x=S.render(S.props,S.state,S.context),ne=0;ne<S._sb.length;ne++)S.__h.push(S._sb[ne]);S._sb=[]}else do S.__d=!1,le&&le(h),x=S.render(S.props,S.state,S.context),S.state=S.__s;while(S.__d&&++se<25);S.state=S.__s,S.getChildContext!=null&&(c=Xn(Xn({},c),S.getChildContext())),P||S.getSnapshotBeforeUpdate==null||(j=S.getSnapshotBeforeUpdate(M,A)),Q=x!=null&&x.type===pd&&x.key==null?x.props.children:x,pb(g,Array.isArray(Q)?Q:[Q],h,u,c,i,s,l,y,b),S.base=h.__e,h.__h=null,S.__h.length&&l.push(S),C&&(S.__E=S.__=null),S.__e=!1}else s==null&&h.__v===u.__v?(h.__k=u.__k,h.__e=u.__e):h.__e=JR(u.__e,h,u,c,i,s,l,b);(x=Ut.diffed)&&x(h)}catch(_){h.__v=null,(b||s!=null)&&(h.__e=y,h.__h=!!b,s[s.indexOf(y)]=null),Ut.__e(_,h,u)}}function ZR(g,h){Ut.__c&&Ut.__c(h,g),g.some(function(u){try{g=u.__h,u.__h=[],g.some(function(c){c.call(u)})}catch(c){Ut.__e(c,u.__v)}})}function JR(g,h,u,c,i,s,l,y){var b,x,S,P=u.props,M=h.props,A=h.type,j=0;if(A==="svg"&&(i=!0),s!=null){for(;j<s.length;j++)if((b=s[j])&&"setAttribute"in b==!!A&&(A?b.localName===A:b.nodeType===3)){g=b,s[j]=null;break}}if(g==null){if(A===null)return document.createTextNode(M);g=i?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,M.is&&M),s=null,y=!1}if(A===null)P===M||y&&g.data===M||(g.data=M);else{if(s=s&&dd.call(g.childNodes),x=(P=u.props||lb).dangerouslySetInnerHTML,S=M.dangerouslySetInnerHTML,!y){if(s!=null)for(P={},j=0;j<g.attributes.length;j++)P[g.attributes[j].name]=g.attributes[j].value;(S||x)&&(S&&(x&&S.__html==x.__html||S.__html===g.innerHTML)||(g.innerHTML=S&&S.__html||""))}if(VR(g,M,P,i,y),S)h.__k=[];else if(j=h.props.children,pb(g,Array.isArray(j)?j:[j],h,u,c,i&&A!=="foreignObject",s,l,s?s[0]:u.__k&&_i(u,0),y),s!=null)for(j=s.length;j--;)s[j]!=null&&cb(s[j]);y||("value"in M&&(j=M.value)!==void 0&&(j!==g.value||A==="progress"&&!j||A==="option"&&j!==P.value)&&Vs(g,"value",j,P.value,!1),"checked"in M&&(j=M.checked)!==void 0&&j!==g.checked&&Vs(g,"checked",j,P.checked,!1))}return g}function mb(g,h,u){try{typeof g=="function"?g(h):g.current=h}catch(c){Ut.__e(c,u)}}function bb(g,h,u){var c,i;if(Ut.unmount&&Ut.unmount(g),(c=g.ref)&&(c.current&&c.current!==g.__e||mb(c,null,h)),(c=g.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(s){Ut.__e(s,h)}c.base=c.__P=null,g.__c=void 0}if(c=g.__k)for(i=0;i<c.length;i++)c[i]&&bb(c[i],h,u||typeof g.type!="function");u||g.__e==null||cb(g.__e),g.__=g.__e=g.__d=void 0}function QR(g,h,u){return this.constructor(g,u)}dd=fb.slice,Ut={__e:function(g,h,u,c){for(var i,s,l;h=h.__;)if((i=h.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(g)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(g,c||{}),l=i.__d),l)return i.__E=i}catch(y){g=y}throw g}},ub=0,Zo.prototype.setState=function(g,h){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Xn({},this.state),typeof g=="function"&&(g=g(Xn({},u),this.props)),g&&Xn(u,g),g!=null&&this.__v&&(h&&this._sb.push(h),zm(this))},Zo.prototype.forceUpdate=function(g){this.__v&&(this.__e=!0,g&&this.__h.push(g),zm(this))},Zo.prototype.render=pd,so=[],sb=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ad=function(g,h){return g.__v.__b-h.__v.__b},Ks.__r=0;var Bi=globalThis&&globalThis.__assign||function(){return Bi=Object.assign||function(g){for(var h,u=1,c=arguments.length;u<c;u++){h=arguments[u];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(g[i]=h[i])}return g},Bi.apply(this,arguments)};function hd(g){var h=g.x,u=g.y,c=g.width,i=g.height,s=g.radius,l=g.className,y=h-c/2,b=u-i/2,x=Bi(Bi({width:10,height:10,cx:0,cy:0,rx:s||0,ry:s||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+l},g),{x:y,y:b});return We.h("rect",Bi({},x))}hd.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Vo;(function(g){g.NODE="node",g.CIRCLE_NODE="circle-node",g.POLYGON_NODE="polygon-node",g.RECT_NODE="rect-node",g.HTML_NODE="html-node",g.TEXT_NODE="text-node",g.ELLIPSE_NODE="ellipse-node",g.DIAMOND_NODE="diamond-node",g.EDGE="edge",g.LINE_EDGE="line-edge",g.POLYLINE_EDGE="polyline-edge",g.BEZIER_EDGE="bezier-edge",g.GRAPH="graph"})(Vo||(Vo={}));function Xs(g){var h=g.x,u=g.y,c=g.width,i=g.height;return{minX:h-c/2,minY:u-i/2,maxX:h+c/2,maxY:u+i/2}}function Um(g){var h=Xs(g),u=g.radius,c=h.minX,i=h.minY,s=h.maxX,l=h.maxY;return[{x:c+u,y:i+u},{x:s-u,y:i+u},{x:s-u,y:l-u},{x:c+u,y:l-u}]}function km(g){var h=g.point,u=g.beforeNode,c=g.afterNode,i=h.x,s=h.y,l={x:i,y:s},y=u.radius,b=Xs(u),x=Xs(c);if(i===b.minX){l.x=x.minX;var S=(s-u.y)/(u.height/2-y);S?l.y=c.y+(c.height/2-y)*S:l.y=c.y}else if(i===b.maxX){l.x=x.maxX;var S=(s-u.y)/(u.height/2-y);S?l.y=c.y+(c.height/2-y)*S:l.y=c.y}else if(s===b.minY){l.y=x.minY;var S=(i-u.x)/(u.width/2-y);S?l.x=c.x+(c.width/2-y)*S:l.x=c.x}else if(s===b.maxY){l.y=x.maxY;var S=(i-u.x)/(u.width/2-y);S?l.x=c.x+(c.width/2-y)*S:l.x=c.x}else{var P=Um(u),M=Um(c),A=Xs(u),j=A.minX,C=A.minY,I=A.maxX,z=A.maxY,X=-1;if(i-j<y&&s-C<y?X=0:I-i<y&&s-C<y?X=1:I-i<y&&z-s<y?X=2:i-j<y&&C-s<y&&(X=3),X>-1){var Y=Math.atan2(s-P[X].y,i-P[X].x);l.x=M[X].x+y*Math.cos(Y),l.y=M[X].y+y*Math.sin(Y)}}return l}function Xm(g){var h=g.point,u=g.beforeNode,c=g.afterNode,i=c.rx,s=c.ry,l=h,y=(h.y-u.y)/(h.x-u.x),b=i,x=s,S,P;return y>=1/0?(S=0,P=x):y<=-1/0?(S=0,P=-x):h.x-u.x>0?(S=b*x/Math.sqrt(x*x+b*b*y*y),P=b*x*y/Math.sqrt(x*x+b*b*y*y)):(S=-(b*x)/Math.sqrt(x*x+b*b*y*y),P=-(b*x*y)/Math.sqrt(x*x+b*b*y*y)),l={x:S+c.x,y:P+c.y},l}function $m(g){var h=g.point,u=g.beforeNode,c=g.afterNode,i=h,s,l,y=h.x-u.x,b=h.y-u.y,x=u.rx,S=u.ry,P=Math.sqrt((x-Math.abs(y))*(x-Math.abs(y))+b*b)/Math.sqrt(x*x+S*S),M=c.rx,A=c.ry,j=Math.sqrt((M*M+A*A)*P*P*(M*M/(M*M+A*A))),C=j*(A/M);return y>=0?s=M-j:s=j-M,b>0?l=C:l=-C,i={x:s+c.x,y:l+c.y},i}var qR=globalThis&&globalThis.__extends||function(){var g=function(h,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(h,u)};return function(h,u){g(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),lo=globalThis&&globalThis.__assign||function(){return lo=Object.assign||function(g){for(var h,u=1,c=arguments.length;u<c;u++){h=arguments[u];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(g[i]=h[i])}return g},lo.apply(this,arguments)},eI=globalThis&&globalThis.__read||function(g,h){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(h===void 0||h-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s},tI=We.LogicFlowUtil.StepDrag,rI=function(g){qR(h,g);function h(u){var c=g.call(this)||this;return c.updatePosition=function(i){var s=i.deltaX,l=i.deltaY,y=c.nodeModel,b=y.x,x=y.y;c.nodeModel.x=b+s/2,c.nodeModel.y=x+l/2,c.nodeModel.moveText(s/2,l/2)},c.getResize=function(i){var s=i.index,l=i.deltaX,y=i.deltaY,b=i.width,x=i.height,S=i.PCTResizeInfo,P=i.pct,M=P===void 0?1:P,A={width:b,height:x,deltaX:l,deltaY:y};if(S){var j=4,C=0,I=0;switch(s){case 0:I=(l*-1-y)/j;break;case 1:I=(l-y)/j;break;case 2:I=(l+y)/j;break;case 3:I=(l*-1+y)/j;break}I!==0&&(C=Math.round(I/S.ResizeBasis.basisHeight*1e5)/1e3),S.ResizePCT.widthPCT=Math.max(Math.min(S.ResizePCT.widthPCT+C,S.ScaleLimit.maxScaleLimit),S.ScaleLimit.minScaleLimit),S.ResizePCT.hightPCT=Math.max(Math.min(S.ResizePCT.hightPCT+C,S.ScaleLimit.maxScaleLimit),S.ScaleLimit.minScaleLimit);var z=Math.round(S.ResizePCT.widthPCT*S.ResizeBasis.basisWidth/100),X=Math.round(S.ResizePCT.hightPCT*S.ResizeBasis.basisHeight/100);switch(s){case 0:l=b-z,y=x-X;break;case 1:l=z-b,y=x-X;break;case 2:l=z-b,y=X-x;break;case 3:l=b-z,y=X-x;break}return A.width=z,A.height=X,A.deltaX=l/M,A.deltaY=y/M,A}switch(s){case 0:A.width=b-l*M,A.height=x-y*M;break;case 1:A.width=b+l*M,A.height=x-y*M;break;case 2:A.width=b+l*M,A.height=x+y*M;break;case 3:A.width=b-l*M,A.height=x+y*M;break}return A},c.updateRect=function(i){var s=i.deltaX,l=i.deltaY,y=c.nodeModel,b=y.id,x=y.x,S=y.y,P=y.width,M=y.height,A=y.radius,j=y.PCTResizeInfo,C=c.index,I=c.getResize({index:C,deltaX:s,deltaY:l,width:P,height:M,PCTResizeInfo:j,pct:1}),z=c.nodeModel,X=z.minWidth,Y=z.minHeight,le=z.maxWidth,se=z.maxHeight;if(I.width<X||I.width>le||I.height<Y||I.height>se){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:I.deltaX,deltaY:I.deltaY}),c.nodeModel.width=I.width,c.nodeModel.height=I.height,c.nodeModel.setProperties({nodeSize:{width:I.width,height:I.height}});var ne=c.getNodeEdges(b),Q={x,y:S,width:P,height:M,radius:A},ee={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:A},_={point:"",beforeNode:Q,afterNode:ee},U;ne.sourceEdges.forEach(function(B){_.point=B.startPoint,U=km(_),B.updateStartPoint(U)}),ne.targetEdges.forEach(function(B){_.point=B.endPoint,U=km(_),B.updateEndPoint(U)}),c.eventEmit({beforeNode:Q,afterNode:ee})},c.updateEllipse=function(i){var s=i.deltaX,l=i.deltaY,y=c.nodeModel,b=y.id,x=y.rx,S=y.ry,P=y.x,M=y.y,A=y.PCTResizeInfo,j=c.index,C=x,I=S,z=c.getResize({index:j,deltaX:s,deltaY:l,width:C,height:I,PCTResizeInfo:A,pct:1/2}),X=c.nodeModel,Y=X.minWidth,le=X.minHeight,se=X.maxWidth,ne=X.maxHeight;if(z.width<Y/2||z.width>se/2||z.height<le/2||z.height>ne/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:z.deltaX,deltaY:z.deltaY}),c.nodeModel.rx=z.width,c.nodeModel.ry=z.height,c.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var Q=c.getNodeEdges(b),ee={x:P,y:M},_={rx:z.width,ry:z.height,x:c.nodeModel.x,y:c.nodeModel.y},U={point:{},beforeNode:ee,afterNode:_},B;Q.sourceEdges.forEach(function(w){U.point=w.startPoint,B=Xm(U),w.updateStartPoint(B)}),Q.targetEdges.forEach(function(w){U.point=w.endPoint,B=Xm(U),w.updateEndPoint(B)}),c.eventEmit({beforeNode:lo(lo({},ee),{rx:x,ry:S}),afterNode:_})},c.updateDiamond=function(i){var s=i.deltaX,l=i.deltaY,y=c.nodeModel,b=y.id,x=y.rx,S=y.ry,P=y.x,M=y.y,A=y.PCTResizeInfo,j=c.index,C=x,I=S,z=c.getResize({index:j,deltaX:s,deltaY:l,width:C,height:I,PCTResizeInfo:A,pct:1/2}),X=c.nodeModel,Y=X.minWidth,le=X.minHeight,se=X.maxWidth,ne=X.maxHeight;if(z.width<Y/2||z.width>se/2||z.height<le/2||z.height>ne/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:z.deltaX,deltaY:z.deltaY}),c.nodeModel.rx=z.width,c.nodeModel.ry=z.height,c.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var Q={x:P,y:M,rx:x,ry:S},ee={rx:z.width,ry:z.height,x:c.nodeModel.x,y:c.nodeModel.y},_={point:{},beforeNode:Q,afterNode:ee},U,B=c.getNodeEdges(b);B.sourceEdges.forEach(function(w){_.point=w.startPoint,U=$m(_),w.updateStartPoint(U)}),B.targetEdges.forEach(function(w){_.point=w.endPoint,U=$m(_),w.updateEndPoint(U)}),c.eventEmit({beforeNode:Q,afterNode:ee})},c.eventEmit=function(i){var s=i.beforeNode,l=i.afterNode,y=c.nodeModel,b=y.id,x=y.modelType,S=y.type,P=lo({id:b,modelType:x,type:S},s),M=lo({id:b,modelType:x,type:S},l);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:M})},c.onDragging=function(i){var s,l=i.deltaX,y=i.deltaY,b=c.graphModel.transformModel,x=c.nodeModel.modelType;s=eI(b.fixDeltaXY(l,y),2),l=s[0],y=s[1],x===Vo.RECT_NODE||x===Vo.HTML_NODE?c.updateRect({deltaX:l,deltaY:y}):x===Vo.ELLIPSE_NODE?c.updateEllipse({deltaX:l,deltaY:y}):x===Vo.DIAMOND_NODE&&c.updateDiamond({deltaX:l,deltaY:y})},c.onDragEnd=function(){var i=c.graphModel.gridSize,s=i===void 0?1:i,l=s*Math.round(c.nodeModel.x/s),y=s*Math.round(c.nodeModel.y/s);c.nodeModel.moveTo(l,y)},c.index=u.index,c.nodeModel=u.model,c.graphModel=u.graphModel,c.state={},c.dragHandler=new tI({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:1}),c}return h.prototype.getNodeEdges=function(u){for(var c=this.graphModel,i=c.edges,s=[],l=[],y=0;y<i.length;y++){var b=i[y];b.sourceNodeId===u?s.push(b):i[y].targetNodeId===u&&l.push(b)}return{sourceEdges:s,targetEdges:l}},h.prototype.render=function(){var u=this.props,c=u.x,i=u.y,s=u.index,l=u.model,y=l.getControlPointStyle();return Ii("g",{className:"lf-resize-control-"+s},Ii(hd,lo({className:"lf-node-control"},{x:c,y:i},y,{onMouseDown:this.dragHandler.handleMouseDown})))},h}(Zo),nI=globalThis&&globalThis.__extends||function(){var g=function(h,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(h,u)};return function(h,u){g(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Zs=globalThis&&globalThis.__assign||function(){return Zs=Object.assign||function(g){for(var h,u=1,c=arguments.length;u<c;u++){h=arguments[u];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(g[i]=h[i])}return g},Zs.apply(this,arguments)},qs=function(g){nI(h,g);function h(){var u=g.call(this)||this;return u.state={},u}return h.prototype.getResizeControl=function(){var u=this.props,c=u.model,i=u.graphModel,s=c.x,l=c.y,y=c.width,b=c.height,x={minX:s-y/2,minY:l-b/2,maxX:s+y/2,maxY:l+b/2},S=x.minX,P=x.minY,M=x.maxX,A=x.maxY,j=[{x:S,y:P},{x:M,y:P},{x:M,y:A},{x:S,y:A}];return j.map(function(C,I){return Ii(rI,Zs({index:I},C,{model:c,graphModel:i}))})},h.prototype.getGroupSolid=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.getResizeOutlineStyle();return Ii(hd,Zs({fill:"none"},y,{x:c,y:i,width:s,height:l}))},h.prototype.render=function(){return Ii("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},h}(Zo),Ob=globalThis&&globalThis.__extends||function(){var g=function(h,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(h,u)};return function(h,u){g(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),oI=function(g){Ob(h,g);function h(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.width=s.width,i.height=s.height),i}return h.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},h.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.resize=function(u,c){},h.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},s={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},h}(We.RectNodeModel),iI=function(g){Ob(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.h(qs,{model:c,graphModel:i})},h.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},h.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},h}(We.RectNode),Eb={type:"rect",view:iI,model:oI},Sb=globalThis&&globalThis.__extends||function(){var g=function(h,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(h,u)};return function(h,u){g(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(g){Sb(h,g);function h(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.rx=s.rx,i.ry=s.ry),i}return h.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},s={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},h})(We.EllipseNodeModel);(function(g){Sb(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.h(qs,{model:c,graphModel:i})},h.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},h.prototype.getShape=function(){var u=this.props,c=u.model,i=u.graphModel.editConfigModel.isSilentMode;return We.h("g",null,this.getResizeShape(),c.isSelected&&!i?this.getControlGroup():"")},h})(We.EllipseNode);var ud=globalThis&&globalThis.__assign||function(){return ud=Object.assign||function(g){for(var h,u=1,c=arguments.length;u<c;u++){h=arguments[u];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(g[i]=h[i])}return g},ud.apply(this,arguments)};function aI(g){var h=g.fillOpacity,u=h===void 0?1:h,c=g.strokeWidth,i=c===void 0?1:c,s=g.strokeOpacity,l=s===void 0?1:s,y=g.fill,b=y===void 0?"transparent":y,x=g.stroke,S=x===void 0?"#000":x,P=g.points,M=g.className,A=M===void 0?"lf-basic-shape":M,j={fill:b,fillOpacity:u,strokeWidth:i,stroke:S,strokeOpacity:l,points:"",className:A};return j.points=P.map(function(C){return C.join(",")}).join(" "),We.h("polygon",ud({},j))}var xb=globalThis&&globalThis.__extends||function(){var g=function(h,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(h,u)};return function(h,u){g(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),sd=globalThis&&globalThis.__assign||function(){return sd=Object.assign||function(g){for(var h,u=1,c=arguments.length;u<c;u++){h=arguments[u];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(g[i]=h[i])}return g},sd.apply(this,arguments)};(function(g){xb(h,g);function h(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.rx=s.rx,i.ry=s.ry),i}return h.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},h.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},s={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},h})(We.DiamondNodeModel);(function(g){xb(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.h(qs,{model:c,graphModel:i})},h.prototype.getResizeShape=function(){var u=this.props.model,c=u.points,i=u.getNodeStyle();return We.h("g",null,We.h(aI,sd({},i,{points:c})))},h.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},h})(We.DiamondNode);var Pb=globalThis&&globalThis.__extends||function(){var g=function(h,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(h,u)};return function(h,u){g(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(g){Pb(h,g);function h(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.width=s.width,i.height=s.height),i}return h.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},s={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},h})(We.HtmlNodeModel);(function(g){Pb(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.h(qs,{model:c,graphModel:i})},h.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},h.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},h})(We.HtmlNode);var Ab=globalThis&&globalThis.__extends||function(){var g=function(h,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(h,u)};return function(h,u){g(h,u);function c(){this.constructor=h}h.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Js=globalThis&&globalThis.__assign||function(){return Js=Object.assign||function(g){for(var h,u=1,c=arguments.length;u<c;u++){h=arguments[u];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(g[i]=h[i])}return g},Js.apply(this,arguments)},uI=globalThis&&globalThis.__read||function(g,h){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(h===void 0||h-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s},Ym=globalThis&&globalThis.__spread||function(){for(var g=[],h=0;h<arguments.length;h++)g=g.concat(uI(arguments[h]));return g},Wm=500,Km=300,sI=-1e4;(function(g){Ab(h,g);function h(){var u=g!==null&&g.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=Wm,u.unfoldedHight=Km,u}return h.prototype.initNodeData=function(u){var c=this;g.prototype.initNodeData.call(this,u);var i=[];Array.isArray(u.children)&&(i=u.children),this.children=new Set(i),this.width=Wm,this.height=Km,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=sI,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},h.prototype.getResizeOutlineStyle=function(){var u=g.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},h.prototype.foldGroup=function(u){var c=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(s){var l=c.graphModel.getElement(s);l.isGroup&&!l.isFolded&&l.foldGroup(u),l.visible=!u,i=i.concat(l.incoming.edges.concat(l.outgoing.edges))}),this.foldEdge(u,i)},h.prototype.getAnchorStyle=function(u){var c=g.prototype.getAnchorStyle.call(this,u);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},h.prototype.foldEdge=function(u,c){var i=this;c.forEach(function(s,l){var y=s.id,b=s.sourceNodeId,x=s.targetNodeId,S=s.startPoint,P=s.endPoint,M=s.type,A=s.properties,j=s.text,C={id:y+"__"+l,sourceNodeId:b,targetNodeId:x,startPoint:S,endPoint:P,type:M,properties:A,text:j==null?void 0:j.value};s.virtual&&i.graphModel.deleteEdgeById(s.id);var I=i.graphModel.group.getNodeGroup(x);I||(I=i.graphModel.getNodeModelById(x));var z=i.graphModel.group.getNodeGroup(b);z||(z=i.graphModel.getNodeModelById(b)),u&&s.visible!==!1&&(i.children.has(b)||i.id===b?(C.startPoint=void 0,C.sourceNodeId=i.id):(C.endPoint=void 0,C.targetNodeId=i.id),(I.id!==i.id||z.id!==i.id)&&i.createVirtualEdge(C),s.visible=!1),!u&&s.visible===!1&&(I&&I.isGroup&&I.isFolded?(C.targetNodeId=I.id,C.endPoint=void 0,i.createVirtualEdge(C)):z&&z.isGroup&&z.isFolded?(C.sourceNodeId=z.id,C.startPoint=void 0,i.createVirtualEdge(C)):s.visible=!0)})},h.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var c=this.graphModel.addEdge(u);c.virtual=!0,c.text.editable=!1,c.isFoldedEdge=!0},h.prototype.isInRange=function(u){var c=u.x1,i=u.y1,s=u.x2,l=u.y2;return c>=this.x-this.width/2&&s<=this.x+this.width/2&&i>=this.y-this.height/2&&l<=this.y+this.height/2},h.prototype.isAllowMoveTo=function(u){var c=u.x1,i=u.y1,s=u.x2,l=u.y2;return{x:c>=this.x-this.width/2&&s<=this.x+this.width/2,y:i>=this.y-this.height/2&&l<=this.y+this.height/2}},h.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},h.prototype.addChild=function(u){this.children.add(u)},h.prototype.removeChild=function(u){this.children.delete(u)},h.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},h.prototype.getData=function(){var u=g.prototype.getData.call(this);u.children=Ym(this.children);var c=u.properties;return delete c.groupAddable,delete c.isFolded,u},h.prototype.getHistoryData=function(){var u=g.prototype.getData.call(this);u.children=Ym(this.children),u.isGroup=!0;var c=u.properties;return delete c.groupAddable,c.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},h.prototype.isAllowAppendIn=function(u){return!0},h.prototype.toBack=function(){this.zIndex--},h})(Eb.model);(function(g){Ab(h,g);function h(){return g!==null&&g.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var u=this.props.model,c=u.resizable,i=u.properties;return c&&!i.isFolded?g.prototype.getControlGroup.call(this):null},h.prototype.getAddableShape=function(){var u=this.props.model,c=u.width,i=u.height,s=u.x,l=u.y,y=u.radius,b=u.properties;if(!b.groupAddable)return null;var x=this.props.model.getNodeStyle().strokeWidth,S=this.props.model.getAddableOutlineStyle(),P=c+x+8,M=i+x+8;return We.h("rect",Js(Js({},S),{width:P,height:M,x:s-P/2,y:l-M/2,rx:y,ry:y}))},h.prototype.getFoldIcon=function(){var u=this.props.model,c=u.x-u.width/2+5,i=u.y-u.height/2+5;if(!u.foldable)return null;var s=We.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" M"+(c+7)+","+(i+2)+" "+(c+7)+","+(i+10):"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" "});return We.h("g",{},[We.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),s])},h.prototype.getResizeShape=function(){return We.h("g",{},[this.getAddableShape(),g.prototype.getResizeShape.call(this),this.getFoldIcon()])},h})(Eb.view);var lI=globalThis&&globalThis.__read||function(g,h){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(h===void 0||h-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};globalThis&&globalThis.__spread;var Vm=globalThis&&globalThis.__assign||function(){return Vm=Object.assign||function(g){for(var h,u=1,c=arguments.length;u<c;u++){h=arguments[u];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(g[i]=h[i])}return g},Vm.apply(this,arguments)},Zm=globalThis&&globalThis.__assign||function(){return Zm=Object.assign||function(g){for(var h,u=1,c=arguments.length;u<c;u++){h=arguments[u];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(g[i]=h[i])}return g},Zm.apply(this,arguments)},fI=globalThis&&globalThis.__read||function(g,h){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(h===void 0||h-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};globalThis&&globalThis.__spread;const cI={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function dI(g){const{incoming:h,outgoing:u,properties:c,key:i}=g,{text:s,startPoint:l,endPoint:y,pointsList:b,logicFlowType:x}=c,S={id:i,type:x,sourceNodeId:h[0],targetNodeId:u[0],text:s,startPoint:l,endPoint:y,pointsList:b,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(g.properties).forEach(M=>{P.indexOf(M)===-1&&(S.properties[M]=g.properties[M])}),S}function pI(g){const{properties:h,key:u}=g,{x:c,y:i,text:s,logicFlowType:l}=h,y={id:u,type:l,x:c,y:i,text:s,properties:{}},b=["x","y","text","logicFlowType"];return Object.keys(g.properties).forEach(x=>{b.indexOf(x)===-1&&(y.properties[x]=g.properties[x])}),y}function hI(g){const h={nodes:[],edges:[]},u=g.flowElementList;return u&&u.length>0&&u.forEach(c=>{if(c.type===cI.SEQUENCE_FLOW){const i=dI(c);h.edges.push(i)}else{const i=pI(c);h.nodes.push(i)}}),h}function vI(g){return[{text:"选区",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{g.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"开始",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"用户任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"系统任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"条件判断",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"结束",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const yI=Jm({name:"FlowChart",components:{BasicModal:qC,FlowChartToolbar:sR,JsonPreview:tR},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(g){const h=Hs(null),u=Hs({}),c=Hs(null),{prefixCls:i}=LC("flow-chart"),s=_C(),[l,{openModal:y}]=eR();nR({logicFlow:c});const b=WC(()=>{const{flowOptions:M}=g;return td({grid:!0,background:{color:s.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},M)});Am(()=>g.data,()=>{S()}),Am(()=>cr(b),M=>{var A;(A=cr(c))==null||A.updateEditConfig(M)});function x(){return Gs(this,null,function*(){yield rd();const M=cr(h);if(!M)return;Wo.use($R),Wo.use(RR),Wo.use(CR),Wo.use(XR),Wo.use(YR),c.value=new Wo(xm(td({},cr(b)),{container:M}));const A=cr(c);A==null||A.setDefaultEdgeType("line"),S(),A==null||A.setPatternItems(g.patternItems||vI(A))})}function S(){return Gs(this,null,function*(){yield rd();const M=cr(c);if(!M)return;const A=hI(g.data);M.render(A)})}function P(){const M=cr(c);M&&(u.value=cr(M).getGraphData(),y())}return KC(x),{register:l,prefixCls:i,lfElRef:h,handlePreview:P,graphData:u}}}),gI={ref:"lfElRef",class:"h-full"};function mI(g,h,u,c,i,s){const l=$n("FlowChartToolbar"),y=$n("JsonPreview"),b=$n("BasicModal");return kn(),Ci("div",{class:Us(["h-full",g.prefixCls])},[g.toolbar?(kn(),fd(l,{key:0,prefixCls:g.prefixCls,onViewData:g.handlePreview},null,8,["prefixCls","onViewData"])):nd("",!0),VC("div",gI,null,512),Li(b,{onRegister:g.register,title:"流程数据",width:"50%"},{default:$s(()=>[Li(y,{data:g.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}const bI=ld(yI,[["render",mI]]),OI=zC(bI),EI=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"开始",x:280,y:200,text:{x:280,y:200,value:"开始"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"结束",x:920,y:200,text:{x:920,y:200,value:"结束"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"网关",x:580,y:200,text:{x:580,y:200,value:"网关"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"用户",x:420,y:200,text:{x:420,y:200,value:"用户"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"服务",x:760,y:200,text:{x:760,y:200,value:"服务"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"边",text:{x:331,y:200,value:"边"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"边2",text:{x:507,y:200,value:"边2"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"边3",text:{x:664,y:200,value:"边3"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"边4",text:{x:871,y:200,value:"边4"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}],SI={flowElementList:EI},xI={components:{FlowChart:OI,PageWrapper:rR},setup(){return{demoData:SI}}};function PI(g,h,u,c,i,s){const l=$n("FlowChart"),y=$n("PageWrapper");return kn(),fd(y,{title:"流程图",content:"简单流程图示例,具体功能需要自己完善",contentFullHeight:"",fixedHeight:""},{default:$s(()=>[Li(l,{data:c.demoData},null,8,["data"])]),_:1})}const LI=ld(xI,[["render",PI]]);export{LI as default};
