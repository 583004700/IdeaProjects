import{B as k}from"./BasicTable-99f37a20.js";import"./componentMap-b98f195e.js";import"./TableImg.vue_vue_type_style_index_0_lang-492a8b83.js";import{u as _}from"./useTable-4cd2ee75.js";import{getBasicColumns as b,getFormConfig as B}from"./lastNRiseTableData-1a23bc84.js";import{d as h,_ as C}from"./index-f276d676.js";import{d as F,k as T,a7 as p,_ as c,a8 as v,a9 as s,E as m,f as d,$ as g,F as E,a0 as A,a1 as S}from"./vue-854c8149.js";import{ad as w}from"./antd-cc917134.js";import"./useFormItem-55533111.js";import"./RadioButtonGroup-7b166412.js";import"./index-bb5c6944.js";import"./index-817ed082.js";import"./index-cfc96c05.js";import"./useWindowSizeFn-642e749d.js";import"./uuid-31b8b5a4.js";import"./download-953a0fd5.js";import"./base64Conver-39fc0d26.js";import"./index-a31ab7c0.js";import"./IconPicker.vue_vue_type_style_index_0_lang-a4cf3f2e.js";import"./useCopyToClipboard-b5c80892.js";import"./index-e9dfdc59.js";import"./BasicForm-8b4604f2.js";import"./FormItem.vue_vue_type_script_lang-35dc82ba.js";import"./uniqBy-2617372f.js";import"./useForm-855cc327.js";import"./index-3913a657.js";import"./useContentViewHeight-e7859710.js";import"./sortable.esm-797f0398.js";const D=e=>(e.gzdate=e.gzdate.substr(0,10),h.get({url:"/lastNRise",params:e,headers:{ignoreCancelToken:!0}})),K=e=>h.get({url:"/insertBatch",params:e,timeout:-1,headers:{ignoreCancelToken:!0}}),N=F({components:{BasicTable:k,AAlert:w},setup(){const e=T([]),[n,{getForm:y}]=_({title:"最近n天涨幅",api:D,columns:b(),useSearchForm:!0,formConfig:B(),showTableSetting:!0,tableSetting:{fullScreen:!0},showIndexColumn:!0,pagination:{pageSize:200,size:"small",simple:!0},rowKey:"id",rowSelection:{type:"checkbox",selectedRowKeys:e,onSelect:i,onSelectAll:l}});function f(t){let o=t.target.parentNode;o.style.display="none";let a=K();alert("正在更新基金数据...，请稍后查看！"),a.then(r=>{alert("更新基金数据完成！")}).catch(r=>{alert("更新基金数据完成！")}).finally(r=>{o.style.display="block"})}function i(t,o){o?e.value=[...e.value,t.id]:e.value=e.value.filter(a=>a!==t.id)}function l(t,o,a){const r=a.map(u=>u.id);t?e.value=[...e.value,...r]:e.value=e.value.filter(u=>!r.includes(u))}return{registerTable:n,updateGs:f,checkedKeys:e,onSelect:i,onSelectAll:l}}}),R={key:1};function $(e,n,y,f,i,l){const t=p("a-button"),o=p("a-alert"),a=p("BasicTable");return c(),v(a,{onRegister:e.registerTable},{"form-custom":s(()=>[m(" custom-slot")]),headerTop:s(()=>[d(o,{type:"info","show-icon":""},{message:s(()=>[e.checkedKeys.length>0?(c(),g(E,{key:0},[A("span",null,"已选中"+S(e.checkedKeys.length)+"条记录(可跨页)",1),d(t,{type:"link",onClick:n[0]||(n[0]=r=>e.checkedKeys=[]),size:"small"},{default:s(()=>[m("清空")]),_:1})],64)):(c(),g("span",R,"未选中任何项目"))]),_:1})]),toolbar:s(()=>[d(t,{type:"primary",onClick:e.updateGs},{default:s(()=>[m("更新基金估值")]),_:1},8,["onClick"])]),_:1},8,["onRegister"])}const ue=C(N,[["render",$]]);export{ue as default};
