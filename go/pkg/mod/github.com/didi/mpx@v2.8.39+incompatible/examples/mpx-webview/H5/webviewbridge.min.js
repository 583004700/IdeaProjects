/**
 * mpxjs webview bridge v2.7.22
 * (c) 2022 @mpxjs team
 * @license Apache
 */
/**
 * mpxjs webview bridge v2.7.22
 * (c) 2022 @mpxjs team
 * @license Apache
 */
var e,o;e=this,o=function(){"use strict";function e(e,o){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),a.push.apply(a,t)}return a}function o(o){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e(Object(r),!0).forEach((function(e){a(o,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))}))}return o}function a(e,o,a){return o in e?Object.defineProperty(e,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[o]=a,e}var t,r=o({wx:{url:"https://res.wx.qq.com/open/js/jweixin-1.3.2.js"},qq:{url:"https://qqq.gtimg.cn/miniprogram/webview_jssdk/qqjssdk-1.0.0.js"},ali:{url:"https://appx/web-view.min.js"},baidu:{url:"https://b.bdstatic.com/searchbox/icms/searchbox/js/swan-2.0.4.js"},tt:{url:"https://s3.pstatp.com/toutiao/tmajssdk/jssdk.js"}},window.sdkUrlMap),n={wx:["wx","miniProgram"],qq:["qq","miniProgram"],ali:["my"],baidu:["swan","webView"],tt:["tt","miniProgram"]},i=null;window.addEventListener("message",(function(e){(t=e.data===e.origin)&&(i="web",window.parent.postMessage({type:"load",detail:{load:!0}},"*"))}),!1);var c=navigator.userAgent;function s(e,o){var a;switch(e){case"postMessage":a="message";break;case"navigateBack":a="navigateBack";break;case"navigateTo":a="navigateTo";break;case"redirectTo":a="redirectTo";break;case"switchTab":a="switchTab";break;case"reLaunch":a="reLaunch";break;case"getEnv":a="getEnv"}"getEnv"!==e&&t?window.parent.postMessage({type:a,detail:{data:o}},"*"):o({miniprogram:!1})}c.indexOf("AlipayClient")>-1?i="ali":c.toLowerCase().indexOf("miniprogram")>-1?i=c.indexOf("QQ")>-1?"qq":"wx":c.indexOf("swan")>-1?i="baidu":c.indexOf("toutiao")>-1?i="tt":window.parent.postMessage({type:"load",detail:{load:!0}},"*");var d={};function g(){return n[i].reduce((function(e,o){return e[o]}),window)}function l(){return window[n[i][0]]}var w=function(e){var o={navigateTo:"navigateTo",navigateBack:"navigateBack",switchTab:"switchTab",reLaunch:"reLaunch",redirectTo:"redirectTo",getEnv:"getEnv",postMessage:"postMessage",getLoadError:"getLoadError",onMessage:{ali:!0}},a=function(a){var t="string"==typeof o[a]?o[a]:!!o[a][i]&&("string"==typeof o[a][i]?o[a][i]:a);d[a]=function(){for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return"web"===i?s.apply(void 0,[a].concat(r)):e.then((function(){var e;if("getLoadError"===t)return Promise.resolve("js\u52a0\u8f7d\u5b8c\u6210");(e=g())[t].apply(e,r)}))}};for(var t in o)a(t)};return function(){if(null===i)return console.log("mpxjs/webview: \u672a\u8bc6\u522b\u7684\u73af\u5883\uff0c\u5f53\u524d\u4ec5\u652f\u6301 \u5fae\u4fe1\u3001\u652f\u4ed8\u5b9d\u3001\u767e\u5ea6\u3001\u5934\u6761 QQ \u5c0f\u7a0b\u5e8f"),void w();var e=window[i]?Promise.resolve():r[i].url?function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.time,t=void 0===a?5e3:a,r=o.crossOrigin,n=void 0!==r&&r;function i(){return new Promise((function(o,a){var t=document.createElement("script");t.type="text/javascript",t.async="async",n&&(t.crossOrigin="anonymous"),t.onload=t.onreadystatechange=function(){this.readyState&&!/^(loaded|complete)$/.test(this.readyState)||(o(),t.onload=t.onreadystatechange=null)},t.onerror=function(){a(new Error("load ".concat(e," error"))),t.onerror=null},t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}))}function c(){return new Promise((function(o,a){setTimeout((function(){a(new Error("load ".concat(e," timeout")))}),t)}))}return Promise.race([i(),c()])}(r[i].url,{crossOrigin:!!r[i].crossOrigin}):Promise.reject(new Error("\u672a\u627e\u5230\u5bf9\u5e94\u7684sdk"));w(e)}(),o(o({},d),{},{getAdvancedApi:function(e,o){if(o){if(window.wx){if(e)return void console.log("\b\u5fae\u4fe1\u73af\u5883\u4e0b\u9700\u8981\u914d\u7f6ewx.config\u624d\u80fd\u6302\u8f7d\u65b9\u6cd5");window.wx.config(e)}var a={checkJSApi:{wx:"checkJSApi"},chooseImage:{wx:"chooseImage",baidu:"chooseImage",ali:"chooseImage"},previewImage:{wx:"previewImage",baidu:"previewImage",ali:"previewImage"},uploadImage:{wx:"uploadImage"},downloadImage:{wx:"downloadImage"},getLocalImgData:{wx:"getLocalImgData"},startRecord:{wx:"startRecord"},stopRecord:{wx:"stopRecord"},onVoiceRecordEnd:{wx:"onVoiceRecordEnd"},playVoice:{wx:"playVoice"},pauseVoice:{wx:"pauseVoice"},stopVoice:{wx:"stopVoice"},onVoicePlayEnd:{wx:"onVoicePlayEnd"},uploadVoice:{wx:"uploadVoice"},downloadVoice:{wx:"downloadVoice"},translateVoice:{wx:"translateVoice"},getNetworkType:{wx:"getNetworkType",baidu:"getNetworkType",ali:"getNetworkType"},openLocation:{wx:"openLocation",baidu:"openLocation",ali:"openLocation"},getLocation:{wx:"getLocation",baidu:"getLocation",ali:"getLocation"},startSearchBeacons:{wx:"startSearchBeacons"},stopSearchBeacons:{wx:"stopSearchBeacons"},onSearchBeacons:{wx:"onSearchBeacons"},scanQRCode:{wx:"scanQRCode"},chooseCard:{wx:"chooseCard"},addCard:{wx:"addCard"},openCard:{wx:"openCard"},alert:{ali:"alert"},showLoading:{ali:"showLoading"},hideLoading:{ali:"hideLoading"},setStorage:{ali:"setStorage"},getStorage:{ali:"getStorage"},removeStorage:{ali:"removeStorage"},clearStorage:{ali:"clearStorage"},getStorageInfo:{ali:"getStorageInfo"},startShare:{ali:"startShare"},tradePay:{ali:"tradePay"},onMessage:{ali:"onMessage"}},t=function(e){o[e]=function(){var o;a[e][i]?(console.log(a[e][i],"ApiList[item][env]"),(o=l())[a[e][i]].apply(o,arguments)):console.error("\u6b64\u73af\u5883\u4e0d\u652f\u6301".concat(e,"\u65b9\u6cd5"))}};for(var r in a)t(r)}else console.log("\u9700\u8981\u63d0\u4f9b\u6302\u8f7d\u65b9\u6cd5\u7684mpx\u5bf9\u8c61")},mpxEnv:i})},"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(e=e||self).mpx=o();